(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function UE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function cw(){if(Ov)return Zl;Ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var xv;function hw(){return xv||(xv=1,bm.exports=cw()),bm.exports}var he=hw(),Am={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function fw(){if(Nv)return Le;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function j(k,se,be){this.props=k,this.context=se,this.refs=$,this.updater=be||O}j.prototype.isReactComponent={},j.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function z(){}z.prototype=j.prototype;function K(k,se,be){this.props=k,this.context=se,this.refs=$,this.updater=be||O}var J=K.prototype=new z;J.constructor=K,L(J,j.prototype),J.isPureReactComponent=!0;var de=Array.isArray,re={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function M(k,se,be,me,fe,Pe){return be=Pe.ref,{$$typeof:i,type:k,key:se,ref:be!==void 0?be:null,props:Pe}}function R(k,se){return M(k.type,se,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function D(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(be){return se[be]})}var x=/\/+/g;function N(k,se){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):se.toString(36)}function C(){}function ke(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function je(k,se,be,me,fe){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var Oe=!1;if(k===null)Oe=!0;else switch(Pe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(k.$$typeof){case i:case e:Oe=!0;break;case _:return Oe=k._init,je(Oe(k._payload),se,be,me,fe)}}if(Oe)return fe=fe(k),Oe=me===""?"."+N(k,0):me,de(fe)?(be="",Oe!=null&&(be=Oe.replace(x,"$&/")+"/"),je(fe,se,be,"",function(ft){return ft})):fe!=null&&(S(fe)&&(fe=R(fe,be+(fe.key==null||k&&k.key===fe.key?"":(""+fe.key).replace(x,"$&/")+"/")+Oe)),se.push(fe)),1;Oe=0;var mt=me===""?".":me+":";if(de(k))for(var $e=0;$e<k.length;$e++)me=k[$e],Pe=mt+N(me,$e),Oe+=je(me,se,be,Pe,fe);else if($e=w(k),typeof $e=="function")for(k=$e.call(k),$e=0;!(me=k.next()).done;)me=me.value,Pe=mt+N(me,$e++),Oe+=je(me,se,be,Pe,fe);else if(Pe==="object"){if(typeof k.then=="function")return je(ke(k),se,be,me,fe);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function oe(k,se,be){if(k==null)return k;var me=[],fe=0;return je(k,me,"","",function(Pe){return se.call(be,Pe,fe++)}),me}function Te(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(be){(k._status===0||k._status===-1)&&(k._status=1,k._result=be)},function(be){(k._status===0||k._status===-1)&&(k._status=2,k._result=be)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var Ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return Le.Children={map:oe,forEach:function(k,se,be){oe(k,function(){se.apply(this,arguments)},be)},count:function(k){var se=0;return oe(k,function(){se++}),se},toArray:function(k){return oe(k,function(se){return se})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Le.Component=j,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=K,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(k){return function(){return k.apply(null,arguments)}},Le.cloneElement=function(k,se,be){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var me=L({},k.props),fe=k.key,Pe=void 0;if(se!=null)for(Oe in se.ref!==void 0&&(Pe=void 0),se.key!==void 0&&(fe=""+se.key),se)!pe.call(se,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&se.ref===void 0||(me[Oe]=se[Oe]);var Oe=arguments.length-2;if(Oe===1)me.children=be;else if(1<Oe){for(var mt=Array(Oe),$e=0;$e<Oe;$e++)mt[$e]=arguments[$e+2];me.children=mt}return M(k.type,fe,void 0,void 0,Pe,me)},Le.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Le.createElement=function(k,se,be){var me,fe={},Pe=null;if(se!=null)for(me in se.key!==void 0&&(Pe=""+se.key),se)pe.call(se,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(fe[me]=se[me]);var Oe=arguments.length-2;if(Oe===1)fe.children=be;else if(1<Oe){for(var mt=Array(Oe),$e=0;$e<Oe;$e++)mt[$e]=arguments[$e+2];fe.children=mt}if(k&&k.defaultProps)for(me in Oe=k.defaultProps,Oe)fe[me]===void 0&&(fe[me]=Oe[me]);return M(k,Pe,void 0,void 0,null,fe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(k){return{$$typeof:m,render:k}},Le.isValidElement=S,Le.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:Te}},Le.memo=function(k,se){return{$$typeof:g,type:k,compare:se===void 0?null:se}},Le.startTransition=function(k){var se=re.T,be={};re.T=be;try{var me=k(),fe=re.S;fe!==null&&fe(be,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(He,Ae)}catch(Pe){Ae(Pe)}finally{re.T=se}},Le.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Le.use=function(k){return re.H.use(k)},Le.useActionState=function(k,se,be){return re.H.useActionState(k,se,be)},Le.useCallback=function(k,se){return re.H.useCallback(k,se)},Le.useContext=function(k){return re.H.useContext(k)},Le.useDebugValue=function(){},Le.useDeferredValue=function(k,se){return re.H.useDeferredValue(k,se)},Le.useEffect=function(k,se){return re.H.useEffect(k,se)},Le.useId=function(){return re.H.useId()},Le.useImperativeHandle=function(k,se,be){return re.H.useImperativeHandle(k,se,be)},Le.useInsertionEffect=function(k,se){return re.H.useInsertionEffect(k,se)},Le.useLayoutEffect=function(k,se){return re.H.useLayoutEffect(k,se)},Le.useMemo=function(k,se){return re.H.useMemo(k,se)},Le.useOptimistic=function(k,se){return re.H.useOptimistic(k,se)},Le.useReducer=function(k,se,be){return re.H.useReducer(k,se,be)},Le.useRef=function(k){return re.H.useRef(k)},Le.useState=function(k){return re.H.useState(k)},Le.useSyncExternalStore=function(k,se,be){return re.H.useSyncExternalStore(k,se,be)},Le.useTransition=function(){return re.H.useTransition()},Le.version="19.0.0",Le}var Vv;function Sp(){return Vv||(Vv=1,Am.exports=fw()),Am.exports}var Z=Sp();const Xn=UE(Z);var Sm={exports:{}},Wl={},wm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function dw(){return Mv||(Mv=1,function(i){function e(oe,Te){var Ae=oe.length;oe.push(Te);e:for(;0<Ae;){var He=Ae-1>>>1,k=oe[He];if(0<o(k,Te))oe[He]=Te,oe[Ae]=k,Ae=He;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],Ae=oe.pop();if(Ae!==Te){oe[0]=Ae;e:for(var He=0,k=oe.length,se=k>>>1;He<se;){var be=2*(He+1)-1,me=oe[be],fe=be+1,Pe=oe[fe];if(0>o(me,Ae))fe<k&&0>o(Pe,me)?(oe[He]=Pe,oe[fe]=Ae,He=fe):(oe[He]=me,oe[be]=Ae,He=be);else if(fe<k&&0>o(Pe,Ae))oe[He]=Pe,oe[fe]=Ae,He=fe;else break e}}return Te}function o(oe,Te){var Ae=oe.sortIndex-Te.sortIndex;return Ae!==0?Ae:oe.id-Te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,T=null,w=3,O=!1,L=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(oe){for(var Te=t(g);Te!==null;){if(Te.callback===null)s(g);else if(Te.startTime<=oe)s(g),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(g)}}function de(oe){if($=!1,J(oe),!L)if(t(p)!==null)L=!0,ke();else{var Te=t(g);Te!==null&&je(de,Te.startTime-oe)}}var re=!1,pe=-1,M=5,R=-1;function S(){return!(i.unstable_now()-R<M)}function D(){if(re){var oe=i.unstable_now();R=oe;var Te=!0;try{e:{L=!1,$&&($=!1,z(pe),pe=-1),O=!0;var Ae=w;try{t:{for(J(oe),T=t(p);T!==null&&!(T.expirationTime>oe&&S());){var He=T.callback;if(typeof He=="function"){T.callback=null,w=T.priorityLevel;var k=He(T.expirationTime<=oe);if(oe=i.unstable_now(),typeof k=="function"){T.callback=k,J(oe),Te=!0;break t}T===t(p)&&s(p),J(oe)}else s(p);T=t(p)}if(T!==null)Te=!0;else{var se=t(g);se!==null&&je(de,se.startTime-oe),Te=!1}}break e}finally{T=null,w=Ae,O=!1}Te=void 0}}finally{Te?x():re=!1}}}var x;if(typeof K=="function")x=function(){K(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,C=N.port2;N.port1.onmessage=D,x=function(){C.postMessage(null)}}else x=function(){j(D,0)};function ke(){re||(re=!0,x())}function je(oe,Te){pe=j(function(){oe(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){L||O||(L=!0,ke())},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var Te=3;break;default:Te=w}var Ae=w;w=Te;try{return oe()}finally{w=Ae}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ae=w;w=oe;try{return Te()}finally{w=Ae}},i.unstable_scheduleCallback=function(oe,Te,Ae){var He=i.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?He+Ae:He):Ae=He,oe){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Ae+k,oe={id:_++,callback:Te,priorityLevel:oe,startTime:Ae,expirationTime:k,sortIndex:-1},Ae>He?(oe.sortIndex=Ae,e(g,oe),t(p)===null&&oe===t(g)&&($?(z(pe),pe=-1):$=!0,je(de,Ae-He))):(oe.sortIndex=k,e(p,oe),L||O||(L=!0,ke())),oe},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(oe){var Te=w;return function(){var Ae=w;w=Te;try{return oe.apply(this,arguments)}finally{w=Ae}}}}(Rm)),Rm}var kv;function mw(){return kv||(kv=1,wm.exports=dw()),wm.exports}var Cm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function pw(){if(Pv)return on;Pv=1;var i=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},on.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.0.0",on}var Lv;function gw(){if(Lv)return Cm.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cm.exports=pw(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function yw(){if(Uv)return Wl;Uv=1;var i=mw(),e=Sp(),t=gw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case _:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case L:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case K:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,N;function C(n){if(x===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||"",N=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+n+N}var ke=!1;function je(n,r){if(!n||ke)return"";ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var G=X}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(X){G=X}n.call(ie.prototype)}}else{try{throw Error()}catch(X){G=X}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var I=E.split(`
`),U=b.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===U.length)for(u=I.length-1,f=U.length-1;1<=u&&0<=f&&I[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==U[f]){var W=`
`+I[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{ke=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?C(a):""}function oe(n){switch(n.tag){case 26:case 27:case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return n=je(n.type,!1),n;case 11:return n=je(n.type.render,!1),n;case 1:return n=je(n.type,!0),n;default:return""}}function Te(n){try{var r="";do r+=oe(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ae(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function He(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function k(n){if(Ae(n)!==n)throw Error(s(188))}function se(n){var r=n.alternate;if(!r){if(r=Ae(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return k(f),n;if(d===u)return k(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,u=d;break}if(b===u){E=!0,u=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,u=f;break}if(b===u){E=!0,u=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function be(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=be(n),r!==null)return r;n=n.sibling}return null}var me=Array.isArray,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Oe=[],mt=-1;function $e(n){return{current:n}}function ft(n){0>mt||(n.current=Oe[mt],Oe[mt]=null,mt--)}function it(n,r){mt++,Oe[mt]=n.current,n.current=r}var Bt=$e(null),Jn=$e(null),fn=$e(null),ei=$e(null);function Hi(n,r){switch(it(fn,r),it(Jn,n),it(Bt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?sv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=sv(n),r=av(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ft(Bt),it(Bt,r)}function di(){ft(Bt),ft(Jn),ft(fn)}function Ia(n){n.memoizedState!==null&&it(ei,n);var r=Bt.current,a=av(r,n.type);r!==a&&(it(Jn,n),it(Bt,a))}function V(n){Jn.current===n&&(ft(Bt),ft(Jn)),ei.current===n&&(ft(ei),Gl._currentValue=Pe)}var H=Object.prototype.hasOwnProperty,Y=i.unstable_scheduleCallback,ce=i.unstable_cancelCallback,ue=i.unstable_shouldYield,ae=i.unstable_requestPaint,_e=i.unstable_now,Me=i.unstable_getCurrentPriorityLevel,ze=i.unstable_ImmediatePriority,Be=i.unstable_UserBlockingPriority,qt=i.unstable_NormalPriority,Da=i.unstable_LowPriority,$i=i.unstable_IdlePriority,xs=i.log,Gi=i.unstable_setDisableYieldValue,ti=null,Ht=null;function Or(n){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}}function mi(n){if(typeof xs=="function"&&Gi(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ti,n)}catch{}}var dn=Math.clz32?Math.clz32:Fu,Xo=Math.log,zu=Math.LN2;function Fu(n){return n>>>=0,n===0?32:31-(Xo(n)/zu|0)|0}var pi=128,xr=4194304;function ni(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vn(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,d=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?u=ni(a):(d&=b,d!==0?u=ni(d):n||(E=b&~E,E!==0&&(u=ni(E))))):(b=a&~f,b!==0?u=ni(b):d!==0?u=ni(d):n||(E=a&~E,E!==0&&(u=ni(E)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:u}function Nr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Oa(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var n=pi;return pi<<=1,(pi&4194176)===0&&(pi=128),n}function Vr(){var n=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),n}function xa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function St(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ju(n,r,a,u,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,U=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-dn(a),ie=1<<W;b[W]=0,I[W]=-1;var G=U[W];if(G!==null)for(U[W]=null,W=0;W<G.length;W++){var X=G[W];X!==null&&(X.lane&=-536870913)}a&=~ie}u!==0&&Mr(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function Mr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-dn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function kr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-dn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Bu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qu(){var n=fe.p;return n!==0?n:(n=window.event,n===void 0?32:Sv(n.type))}function Pr(n,r){var a=fe.p;try{return fe.p=n,r()}finally{fe.p=a}}var gi=Math.random().toString(36).slice(2),$t="__reactFiber$"+gi,Mt="__reactProps$"+gi,Ki="__reactContainer$"+gi,Ns="__reactEvents$"+gi,Na="__reactListeners$"+gi,yi="__reactHandles$"+gi,Wo="__reactResources$"+gi,Lr="__reactMarker$"+gi;function Vs(n){delete n[$t],delete n[Mt],delete n[Ns],delete n[Na],delete n[yi]}function ii(n){var r=n[$t];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ki]||a[$t]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=uv(n);n!==null;){if(a=n[$t])return a;n=uv(n)}return r}n=a,a=n.parentNode}return null}function Qi(n){if(n=n[$t]||n[Ki]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ur(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function zr(n){var r=n[Wo];return r||(r=n[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[Lr]=!0}var Jo=new Set,Va={};function Rn(n,r){vn(n,r),vn(n+"Capture",r)}function vn(n,r){for(Va[n]=r,n=0;n<r.length;n++)Jo.add(r[n])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function Hu(n){return H.call(tl,n)?!0:H.call(el,n)?!1:Rf.test(n)?tl[n]=!0:(el[n]=!0,!1)}function Fr(n,r,a){if(Hu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Mn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $u(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(n){var r=$u(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ms(n){n._valueTracker||(n._valueTracker=Cf(n))}function nl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=$u(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Ma(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yi=/[\n"\\]/g;function Et(n){return n.replace(Yi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Br(n,r,a,u,f,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+mn(r)):n.value!==""+mn(r)&&(n.value=""+mn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ka(n,E,mn(r)):a!=null?ka(n,E,mn(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+mn(b):n.removeAttribute("name")}function ks(n,r,a,u,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+mn(a):"",r=r!=null?""+mn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ka(n,r,a){r==="number"&&Ma(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function et(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ps(n,r,a){if(r!=null&&(r=""+mn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+mn(a):""}function qr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(me(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=mn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||If.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Gu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&il(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&il(n,d,r[d])}function rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(n){return Of.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Pn=null;function Pa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xi=null,Zi=null;function Wi(n){var r=Qi(n);if(r&&(n=r.stateNode)){var a=n[Mt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Br(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Mt]||null;if(!f)throw Error(s(90));Br(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&nl(u)}break e;case"textarea":Ps(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&et(n,!!a.multiple,r,!1)}}}var sl=!1;function Ku(n,r,a){if(sl)return n(r,a);sl=!0;try{var u=n(r);return u}finally{if(sl=!1,(Xi!==null||Zi!==null)&&(Uc(),Xi&&(r=Xi,n=Zi,Zi=Xi=null,Wi(r),n)))for(r=0;r<n.length;r++)Wi(n[r])}}function Ls(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Mt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!1;if(Cn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Ln=!1}var vi=null,Hr=null,Ji=null;function al(){if(Ji)return Ji;var n,r=Hr,a=r.length,u,f="value"in vi?vi.value:vi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&r[a-u]===f[d-u];u++);return Ji=f.slice(n,1<u?1-u:void 0)}function Ei(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ti(){return!0}function ol(){return!1}function Gt(n){function r(a,u,f,d,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ti:ol,this.isPropagationStopped=ol,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Gt(rt),zs=D({},rt,{view:0,detail:0}),Qu=Gt(zs),Ua,za,bi,Fs=D({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(Ua=n.screenX-bi.screenX,za=n.screenY-bi.screenY):za=Ua=0,bi=n),Ua)},movementY:function(n){return"movementY"in n?n.movementY:za}}),Un=Gt(Fs),Yu=D({},Fs,{dataTransfer:0}),xf=Gt(Yu),js=D({},zs,{relatedTarget:0}),Fa=Gt(js),ll=D({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Gt(ll),Xu=D({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Gt(Xu),Nf=D({},rt,{data:0}),ul=Gt(Nf),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Wu[n])?!!r[n]:!1}function qs(){return cl}var Ju=D({},zs,{key:function(n){if(n.key){var r=Bs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ei(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(n){return n.type==="keypress"?Ei(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ei(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qa=Gt(Ju),ec=D({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Gt(ec),er=D({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),tc=Gt(er),nc=D({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Gt(nc),rc=D({},Fs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=Gt(rc),pn=D({},rt,{newState:0,oldState:0}),sc=Gt(pn),ac=[9,13,27,32],Ai=Cn&&"CompositionEvent"in window,c=null;Cn&&"documentMode"in document&&(c=document.documentMode);var y=Cn&&"TextEvent"in window&&!c,v=Cn&&(!Ai||c&&8<c&&11>=c),A=" ",B=!1;function Q(n,r){switch(n){case"keyup":return ac.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xe=!1;function kt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return n=r.data,n===A&&B?null:n;default:return null}}function Ze(n,r){if(Xe)return n==="compositionend"||!Ai&&Q(n,r)?(n=al(),Ji=Hr=vi=null,Xe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Kt[n.type]:r==="textarea"}function tr(n,r,a,u){Xi?Zi?Zi.push(u):Zi=[u]:Xi=u,r=qc(r,"onChange"),0<r.length&&(a=new La("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Wt=null,Si=null;function fl(n){ev(n,0)}function oc(n){var r=Ur(n);if(nl(r))return n}function Dg(n,r){if(n==="change")return r}var Og=!1;if(Cn){var Vf;if(Cn){var Mf="oninput"in document;if(!Mf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Mf=typeof xg.oninput=="function"}Vf=Mf}else Vf=!1;Og=Vf&&(!document.documentMode||9<document.documentMode)}function Ng(){Wt&&(Wt.detachEvent("onpropertychange",Vg),Si=Wt=null)}function Vg(n){if(n.propertyName==="value"&&oc(Si)){var r=[];tr(r,Si,n,Pa(n)),Ku(fl,r)}}function FA(n,r,a){n==="focusin"?(Ng(),Wt=r,Si=a,Wt.attachEvent("onpropertychange",Vg)):n==="focusout"&&Ng()}function jA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oc(Si)}function BA(n,r){if(n==="click")return oc(r)}function qA(n,r){if(n==="input"||n==="change")return oc(r)}function HA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var In=typeof Object.is=="function"?Object.is:HA;function dl(n,r){if(In(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!H.call(r,f)||!In(n[f],r[f]))return!1}return!0}function Mg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kg(n,r){var a=Mg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Pg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ma(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ma(n.document)}return r}function kf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function $A(n,r){var a=Lg(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Pg(r.ownerDocument.documentElement,r)){if(u!==null&&kf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(u.start,f);u=u.end===void 0?d:Math.min(u.end,f),!a.extend&&d>u&&(f=u,u=d,d=f),f=kg(r,d);var E=kg(r,u);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),d>u?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var GA=Cn&&"documentMode"in document&&11>=document.documentMode,$a=null,Pf=null,ml=null,Lf=!1;function Ug(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||$a==null||$a!==Ma(u)||(u=$a,"selectionStart"in u&&kf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ml&&dl(ml,u)||(ml=u,u=qc(Pf,"onSelect"),0<u.length&&(r=new La("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=$a)))}function Hs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ga={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Uf={},zg={};Cn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function $s(n){if(Uf[n])return Uf[n];if(!Ga[n])return n;var r=Ga[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in zg)return Uf[n]=r[a];return n}var Fg=$s("animationend"),jg=$s("animationiteration"),Bg=$s("animationstart"),KA=$s("transitionrun"),QA=$s("transitionstart"),YA=$s("transitioncancel"),qg=$s("transitionend"),Hg=new Map,$g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(n,r){Hg.set(n,r),Rn(r,[n])}var zn=[],Ka=0,zf=0;function lc(){for(var n=Ka,r=zf=Ka=0;r<n;){var a=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}d!==0&&Gg(a,f,d)}}function uc(n,r,a,u){zn[Ka++]=n,zn[Ka++]=r,zn[Ka++]=a,zn[Ka++]=u,zf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ff(n,r,a,u){return uc(n,r,a,u),cc(n)}function $r(n,r){return uc(n,null,null,r),cc(n)}function Gg(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;f&&r!==null&&n.tag===3&&(d=n.stateNode,f=31-dn(a),d=d.hiddenUpdates,n=d[f],n===null?d[f]=[r]:n.push(r),r.lane=a|536870912)}function cc(n){if(50<zl)throw zl=0,Gd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qa={},Kg=new WeakMap;function Fn(n,r){if(typeof n=="object"&&n!==null){var a=Kg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Te(r)},Kg.set(n,r),r)}return{value:n,source:r,stack:Te(r)}}var Ya=[],Xa=0,hc=null,fc=0,jn=[],Bn=0,Gs=null,nr=1,ir="";function Ks(n,r){Ya[Xa++]=fc,Ya[Xa++]=hc,hc=n,fc=r}function Qg(n,r,a){jn[Bn++]=nr,jn[Bn++]=ir,jn[Bn++]=Gs,Gs=n;var u=nr;n=ir;var f=32-dn(u)-1;u&=~(1<<f),a+=1;var d=32-dn(r)+f;if(30<d){var E=f-f%5;d=(u&(1<<E)-1).toString(32),u>>=E,f-=E,nr=1<<32-dn(r)+f|a<<f|u,ir=d+n}else nr=1<<d|a<<f|u,ir=n}function jf(n){n.return!==null&&(Ks(n,1),Qg(n,1,0))}function Bf(n){for(;n===hc;)hc=Ya[--Xa],Ya[Xa]=null,fc=Ya[--Xa],Ya[Xa]=null;for(;n===Gs;)Gs=jn[--Bn],jn[Bn]=null,ir=jn[--Bn],jn[Bn]=null,nr=jn[--Bn],jn[Bn]=null}var gn=null,Jt=null,tt=!1,si=null,wi=!1,qf=Error(s(519));function Qs(n){var r=Error(s(418,""));throw yl(Fn(r,n)),qf}function Yg(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[$t]=n,r[Mt]=u,a){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)Qe(jl[a],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),ks(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ms(r);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),qr(r,u.value,u.defaultValue,u.children),Ms(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||rv(r.textContent,a)?(u.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),u.onScroll!=null&&Qe("scroll",r),u.onScrollEnd!=null&&Qe("scrollend",r),u.onClick!=null&&(r.onclick=Hc),r=!0):r=!1,r||Qs(n)}function Xg(n){for(gn=n.return;gn;)switch(gn.tag){case 3:case 27:wi=!0;return;case 5:case 13:wi=!1;return;default:gn=gn.return}}function pl(n){if(n!==gn)return!1;if(!tt)return Xg(n),tt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||um(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Jt&&Qs(n),Xg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Jt=oi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Jt=null}}else Jt=gn?oi(n.stateNode.nextSibling):null;return!0}function gl(){Jt=gn=null,tt=!1}function yl(n){si===null?si=[n]:si.push(n)}var _l=Error(s(460)),Zg=Error(s(474)),Hf={then:function(){}};function Wg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dc(){}function Jg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(dc,dc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===_l?Error(s(483)):n;default:if(typeof r.status=="string")r.then(dc,dc);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===_l?Error(s(483)):n}throw vl=r,_l}}var vl=null;function ey(){if(vl===null)throw Error(s(459));var n=vl;return vl=null,n}var Za=null,El=0;function mc(n){var r=El;return El+=1,Za===null&&(Za=[]),Jg(Za,n,r)}function Tl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function pc(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ty(n){var r=n._init;return r(n._payload)}function ny(n){function r(F,P){if(n){var q=F.deletions;q===null?(F.deletions=[P],F.flags|=16):q.push(P)}}function a(F,P){if(!n)return null;for(;P!==null;)r(F,P),P=P.sibling;return null}function u(F){for(var P=new Map;F!==null;)F.key!==null?P.set(F.key,F):P.set(F.index,F),F=F.sibling;return P}function f(F,P){return F=is(F,P),F.index=0,F.sibling=null,F}function d(F,P,q){return F.index=q,n?(q=F.alternate,q!==null?(q=q.index,q<P?(F.flags|=33554434,P):q):(F.flags|=33554434,P)):(F.flags|=1048576,P)}function E(F){return n&&F.alternate===null&&(F.flags|=33554434),F}function b(F,P,q,ee){return P===null||P.tag!==6?(P=Ud(q,F.mode,ee),P.return=F,P):(P=f(P,q),P.return=F,P)}function I(F,P,q,ee){var ve=q.type;return ve===p?W(F,P,q.props.children,ee,q.key):P!==null&&(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===K&&ty(ve)===P.type)?(P=f(P,q.props),Tl(P,q),P.return=F,P):(P=Vc(q.type,q.key,q.props,null,F.mode,ee),Tl(P,q),P.return=F,P)}function U(F,P,q,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=zd(q,F.mode,ee),P.return=F,P):(P=f(P,q.children||[]),P.return=F,P)}function W(F,P,q,ee,ve){return P===null||P.tag!==7?(P=ra(q,F.mode,ee,ve),P.return=F,P):(P=f(P,q),P.return=F,P)}function ie(F,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ud(""+P,F.mode,q),P.return=F,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return q=Vc(P.type,P.key,P.props,null,F.mode,q),Tl(q,P),q.return=F,q;case m:return P=zd(P,F.mode,q),P.return=F,P;case K:var ee=P._init;return P=ee(P._payload),ie(F,P,q)}if(me(P)||pe(P))return P=ra(P,F.mode,q,null),P.return=F,P;if(typeof P.then=="function")return ie(F,mc(P),q);if(P.$$typeof===O)return ie(F,Oc(F,P),q);pc(F,P)}return null}function G(F,P,q,ee){var ve=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:b(F,P,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===ve?I(F,P,q,ee):null;case m:return q.key===ve?U(F,P,q,ee):null;case K:return ve=q._init,q=ve(q._payload),G(F,P,q,ee)}if(me(q)||pe(q))return ve!==null?null:W(F,P,q,ee,null);if(typeof q.then=="function")return G(F,P,mc(q),ee);if(q.$$typeof===O)return G(F,P,Oc(F,q),ee);pc(F,q)}return null}function X(F,P,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(q)||null,b(P,F,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return F=F.get(ee.key===null?q:ee.key)||null,I(P,F,ee,ve);case m:return F=F.get(ee.key===null?q:ee.key)||null,U(P,F,ee,ve);case K:var Fe=ee._init;return ee=Fe(ee._payload),X(F,P,q,ee,ve)}if(me(ee)||pe(ee))return F=F.get(q)||null,W(P,F,ee,ve,null);if(typeof ee.then=="function")return X(F,P,q,mc(ee),ve);if(ee.$$typeof===O)return X(F,P,q,Oc(P,ee),ve);pc(P,ee)}return null}function Se(F,P,q,ee){for(var ve=null,Fe=null,we=P,Ce=P=0,Xt=null;we!==null&&Ce<q.length;Ce++){we.index>Ce?(Xt=we,we=null):Xt=we.sibling;var nt=G(F,we,q[Ce],ee);if(nt===null){we===null&&(we=Xt);break}n&&we&&nt.alternate===null&&r(F,we),P=d(nt,P,Ce),Fe===null?ve=nt:Fe.sibling=nt,Fe=nt,we=Xt}if(Ce===q.length)return a(F,we),tt&&Ks(F,Ce),ve;if(we===null){for(;Ce<q.length;Ce++)we=ie(F,q[Ce],ee),we!==null&&(P=d(we,P,Ce),Fe===null?ve=we:Fe.sibling=we,Fe=we);return tt&&Ks(F,Ce),ve}for(we=u(we);Ce<q.length;Ce++)Xt=X(we,F,Ce,q[Ce],ee),Xt!==null&&(n&&Xt.alternate!==null&&we.delete(Xt.key===null?Ce:Xt.key),P=d(Xt,P,Ce),Fe===null?ve=Xt:Fe.sibling=Xt,Fe=Xt);return n&&we.forEach(function(cs){return r(F,cs)}),tt&&Ks(F,Ce),ve}function Ne(F,P,q,ee){if(q==null)throw Error(s(151));for(var ve=null,Fe=null,we=P,Ce=P=0,Xt=null,nt=q.next();we!==null&&!nt.done;Ce++,nt=q.next()){we.index>Ce?(Xt=we,we=null):Xt=we.sibling;var cs=G(F,we,nt.value,ee);if(cs===null){we===null&&(we=Xt);break}n&&we&&cs.alternate===null&&r(F,we),P=d(cs,P,Ce),Fe===null?ve=cs:Fe.sibling=cs,Fe=cs,we=Xt}if(nt.done)return a(F,we),tt&&Ks(F,Ce),ve;if(we===null){for(;!nt.done;Ce++,nt=q.next())nt=ie(F,nt.value,ee),nt!==null&&(P=d(nt,P,Ce),Fe===null?ve=nt:Fe.sibling=nt,Fe=nt);return tt&&Ks(F,Ce),ve}for(we=u(we);!nt.done;Ce++,nt=q.next())nt=X(we,F,Ce,nt.value,ee),nt!==null&&(n&&nt.alternate!==null&&we.delete(nt.key===null?Ce:nt.key),P=d(nt,P,Ce),Fe===null?ve=nt:Fe.sibling=nt,Fe=nt);return n&&we.forEach(function(uw){return r(F,uw)}),tt&&Ks(F,Ce),ve}function At(F,P,q,ee){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var ve=q.key;P!==null;){if(P.key===ve){if(ve=q.type,ve===p){if(P.tag===7){a(F,P.sibling),ee=f(P,q.props.children),ee.return=F,F=ee;break e}}else if(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===K&&ty(ve)===P.type){a(F,P.sibling),ee=f(P,q.props),Tl(ee,q),ee.return=F,F=ee;break e}a(F,P);break}else r(F,P);P=P.sibling}q.type===p?(ee=ra(q.props.children,F.mode,ee,q.key),ee.return=F,F=ee):(ee=Vc(q.type,q.key,q.props,null,F.mode,ee),Tl(ee,q),ee.return=F,F=ee)}return E(F);case m:e:{for(ve=q.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(F,P.sibling),ee=f(P,q.children||[]),ee.return=F,F=ee;break e}else{a(F,P);break}else r(F,P);P=P.sibling}ee=zd(q,F.mode,ee),ee.return=F,F=ee}return E(F);case K:return ve=q._init,q=ve(q._payload),At(F,P,q,ee)}if(me(q))return Se(F,P,q,ee);if(pe(q)){if(ve=pe(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),Ne(F,P,q,ee)}if(typeof q.then=="function")return At(F,P,mc(q),ee);if(q.$$typeof===O)return At(F,P,Oc(F,q),ee);pc(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(F,P.sibling),ee=f(P,q),ee.return=F,F=ee):(a(F,P),ee=Ud(q,F.mode,ee),ee.return=F,F=ee),E(F)):a(F,P)}return function(F,P,q,ee){try{El=0;var ve=At(F,P,q,ee);return Za=null,ve}catch(we){if(we===_l)throw we;var Fe=Gn(29,we,null,F.mode);return Fe.lanes=ee,Fe.return=F,Fe}finally{}}}var Ys=ny(!0),iy=ny(!1),Wa=$e(null),gc=$e(0);function ry(n,r){n=mr,it(gc,n),it(Wa,r),mr=n|r.baseLanes}function $f(){it(gc,mr),it(Wa,Wa.current)}function Gf(){mr=gc.current,ft(Wa),ft(gc)}var qn=$e(null),Ri=null;function Gr(n){var r=n.alternate;it(Lt,Lt.current&1),it(qn,n),Ri===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(Ri=n)}function sy(n){if(n.tag===22){if(it(Lt,Lt.current),it(qn,n),Ri===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ri=n)}}else Kr()}function Kr(){it(Lt,Lt.current),it(qn,qn.current)}function rr(n){ft(qn),Ri===n&&(Ri=null),ft(Lt)}var Lt=$e(0);function yc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var XA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},ZA=i.unstable_scheduleCallback,WA=i.unstable_NormalPriority,Ut={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new XA,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&ZA(WA,function(){n.controller.abort()})}var Al=null,Qf=0,Ja=0,eo=null;function JA(n,r){if(Al===null){var a=Al=[];Qf=0,Ja=em(),eo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Qf++,r.then(ay,ay),r}function ay(){if(--Qf===0&&Al!==null){eo!==null&&(eo.status="fulfilled");var n=Al;Al=null,Ja=0,eo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function eS(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var oy=S.S;S.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JA(n,r),oy!==null&&oy(n,r)};var Xs=$e(null);function Yf(){var n=Xs.current;return n!==null?n:ct.pooledCache}function _c(n,r){r===null?it(Xs,Xs.current):it(Xs,r.pool)}function ly(){var n=Yf();return n===null?null:{parent:Ut._currentValue,pool:n}}var Qr=0,Ue=null,at=null,It=null,vc=!1,to=!1,Zs=!1,Ec=0,Sl=0,no=null,tS=0;function wt(){throw Error(s(321))}function Xf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!In(n[a],r[a]))return!1;return!0}function Zf(n,r,a,u,f,d){return Qr=d,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=n===null||n.memoizedState===null?Ws:Yr,Zs=!1,d=a(u,f),Zs=!1,to&&(d=cy(r,a,u,f)),uy(n),d}function uy(n){S.H=Ci;var r=at!==null&&at.next!==null;if(Qr=0,It=at=Ue=null,vc=!1,Sl=0,no=null,r)throw Error(s(300));n===null||Qt||(n=n.dependencies,n!==null&&Dc(n)&&(Qt=!0))}function cy(n,r,a,u){Ue=n;var f=0;do{if(to&&(no=null),Sl=0,to=!1,25<=f)throw Error(s(301));if(f+=1,It=at=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Js,d=r(a,u)}while(to);return d}function nS(){var n=S.H,r=n.useState()[0];return r=typeof r.then=="function"?wl(r):r,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Ue.flags|=1024),r}function Wf(){var n=Ec!==0;return Ec=0,n}function Jf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ed(n){if(vc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}vc=!1}Qr=0,It=at=Ue=null,to=!1,Sl=Ec=0,no=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ue.memoizedState=It=n:It=It.next=n,It}function Dt(){if(at===null){var n=Ue.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var r=It===null?Ue.memoizedState:It.next;if(r!==null)It=r,at=n;else{if(n===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},It===null?Ue.memoizedState=It=n:It=It.next=n}return It}var Tc;Tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wl(n){var r=Sl;return Sl+=1,no===null&&(no=[]),n=Jg(no,n,r),r=Ue,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?Ws:Yr),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===O)return an(n)}throw Error(s(438,String(n)))}function td(n){var r=null,a=Ue.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Tc(),Ue.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=de;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function Ac(n){var r=Dt();return nd(r,at,n)}function nd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=E=null,I=null,U=r,W=!1;do{var ie=U.lane&-536870913;if(ie!==U.lane?(We&ie)===ie:(Qr&ie)===ie){var G=U.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ie===Ja&&(W=!0);else if((Qr&G)===G){U=U.next,G===Ja&&(W=!0);continue}else ie={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(b=I=ie,E=d):I=I.next=ie,Ue.lanes|=G,rs|=G;ie=U.action,Zs&&a(d,ie),d=U.hasEagerState?U.eagerState:a(d,ie)}else G={lane:ie,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(b=I=G,E=d):I=I.next=G,Ue.lanes|=ie,rs|=ie;U=U.next}while(U!==null&&U!==r);if(I===null?E=d:I.next=b,!In(d,n.memoizedState)&&(Qt=!0,W&&(a=eo,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function id(n){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);In(d,r.memoizedState)||(Qt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function hy(n,r,a){var u=Ue,f=Dt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!In((at||f).memoizedState,a);if(E&&(f.memoizedState=a,Qt=!0),f=f.queue,ad(my.bind(null,u,f,n),[n]),f.getSnapshot!==r||E||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,io(9,dy.bind(null,u,f,a,r),{destroy:void 0},null),ct===null)throw Error(s(349));d||(Qr&60)!==0||fy(u,r,a)}return a}function fy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ue.updateQueue,r===null?(r=Tc(),Ue.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function dy(n,r,a,u){r.value=a,r.getSnapshot=u,py(r)&&gy(n)}function my(n,r,a){return a(function(){py(r)&&gy(n)})}function py(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!In(n,a)}catch{return!0}}function gy(n){var r=$r(n,2);r!==null&&yn(r,n,2)}function rd(n){var r=En();if(typeof n=="function"){var a=n;if(n=a(),Zs){mi(!0);try{a()}finally{mi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function yy(n,r,a,u){return n.baseState=a,nd(n,at,typeof u=="function"?u:sr)}function iS(n,r,a,u,f){if(Rc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};S.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,_y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function _y(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=S.T,E={};S.T=E;try{var b=a(f,u),I=S.S;I!==null&&I(E,b),vy(n,r,b)}catch(U){sd(n,r,U)}finally{S.T=d}}else try{d=a(f,u),vy(n,r,d)}catch(U){sd(n,r,U)}}function vy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ey(n,r,u)},function(u){return sd(n,r,u)}):Ey(n,r,a)}function Ey(n,r,a){r.status="fulfilled",r.value=a,Ty(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,_y(n,a)))}function sd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Ty(r),r=r.next;while(r!==u)}n.action=null}function Ty(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function by(n,r){return r}function Ay(n,r){if(tt){var a=ct.formState;if(a!==null){e:{var u=Ue;if(tt){if(Jt){t:{for(var f=Jt,d=wi;f.nodeType!==8;){if(!d){f=null;break t}if(f=oi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Jt=oi(f.nextSibling),u=f.data==="F!";break e}}Qs(u)}u=!1}u&&(r=a[0])}}return a=En(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:r},a.queue=u,a=jy.bind(null,Ue,u),u.dispatch=a,u=rd(!1),d=hd.bind(null,Ue,!1,u.queue),u=En(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=iS.bind(null,Ue,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Sy(n){var r=Dt();return wy(r,at,n)}function wy(n,r,a){r=nd(n,r,by)[0],n=Ac(sr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?wl(r):r;var u=Dt(),f=u.queue,d=f.dispatch;return a!==u.memoizedState&&(Ue.flags|=2048,io(9,rS.bind(null,f,a),{destroy:void 0},null)),[r,d,n]}function rS(n,r){n.action=r}function Ry(n){var r=Dt(),a=at;if(a!==null)return wy(r,a,n);Dt(),r=r.memoizedState,a=Dt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function io(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=Ue.updateQueue,r===null&&(r=Tc(),Ue.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Cy(){return Dt().memoizedState}function Sc(n,r,a,u){var f=En();Ue.flags|=n,f.memoizedState=io(1|r,a,{destroy:void 0},u===void 0?null:u)}function wc(n,r,a,u){var f=Dt();u=u===void 0?null:u;var d=f.memoizedState.inst;at!==null&&u!==null&&Xf(u,at.memoizedState.deps)?f.memoizedState=io(r,a,d,u):(Ue.flags|=n,f.memoizedState=io(1|r,a,d,u))}function Iy(n,r){Sc(8390656,8,n,r)}function ad(n,r){wc(2048,8,n,r)}function Dy(n,r){return wc(4,2,n,r)}function Oy(n,r){return wc(4,4,n,r)}function xy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ny(n,r,a){a=a!=null?a.concat([n]):null,wc(4,4,xy.bind(null,r,n),a)}function od(){}function Vy(n,r){var a=Dt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Xf(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function My(n,r){var a=Dt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Xf(r,u[1]))return u[0];if(u=n(),Zs){mi(!0);try{n()}finally{mi(!1)}}return a.memoizedState=[u,r],u}function ld(n,r,a){return a===void 0||(Qr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=P_(),Ue.lanes|=n,rs|=n,a)}function ky(n,r,a,u){return In(a,r)?a:Wa.current!==null?(n=ld(n,a,u),In(n,r)||(Qt=!0),n):(Qr&42)===0?(Qt=!0,n.memoizedState=a):(n=P_(),Ue.lanes|=n,rs|=n,r)}function Py(n,r,a,u,f){var d=fe.p;fe.p=d!==0&&8>d?d:8;var E=S.T,b={};S.T=b,hd(n,!1,r,a);try{var I=f(),U=S.S;if(U!==null&&U(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=eS(I,u);Rl(n,r,W,Nn(n))}else Rl(n,r,u,Nn(n))}catch(ie){Rl(n,r,{then:function(){},status:"rejected",reason:ie},Nn())}finally{fe.p=d,S.T=E}}function sS(){}function ud(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Ly(n).queue;Py(n,f,r,Pe,a===null?sS:function(){return Uy(n),a(u)})}function Ly(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:Pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Uy(n){var r=Ly(n).next.queue;Rl(n,r,{},Nn())}function cd(){return an(Gl)}function zy(){return Dt().memoizedState}function Fy(){return Dt().memoizedState}function aS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();n=Wr(a);var u=Jr(r,n,a);u!==null&&(yn(u,r,a),Dl(u,r,a)),r={cache:Kf()},n.payload=r;return}r=r.return}}function oS(n,r,a){var u=Nn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(n)?By(r,a):(a=Ff(n,r,a,u),a!==null&&(yn(a,n,u),qy(a,r,u)))}function jy(n,r,a){var u=Nn();Rl(n,r,a,u)}function Rl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(n))By(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,In(b,E))return uc(n,r,f,0),ct===null&&lc(),!1}catch{}finally{}if(a=Ff(n,r,f,u),a!==null)return yn(a,n,u),qy(a,r,u),!0}return!1}function hd(n,r,a,u){if(u={lane:2,revertLane:em(),action:u,hasEagerState:!1,eagerState:null,next:null},Rc(n)){if(r)throw Error(s(479))}else r=Ff(n,a,u,2),r!==null&&yn(r,n,2)}function Rc(n){var r=n.alternate;return n===Ue||r!==null&&r===Ue}function By(n,r){to=vc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function qy(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,kr(n,a)}}var Ci={readContext:an,use:bc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt};Ci.useCacheRefresh=wt,Ci.useMemoCache=wt,Ci.useHostTransitionStatus=wt,Ci.useFormState=wt,Ci.useActionState=wt,Ci.useOptimistic=wt;var Ws={readContext:an,use:bc,useCallback:function(n,r){return En().memoizedState=[n,r===void 0?null:r],n},useContext:an,useEffect:Iy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Sc(4194308,4,xy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Sc(4194308,4,n,r)},useInsertionEffect:function(n,r){Sc(4,2,n,r)},useMemo:function(n,r){var a=En();r=r===void 0?null:r;var u=n();if(Zs){mi(!0);try{n()}finally{mi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=En();if(a!==void 0){var f=a(r);if(Zs){mi(!0);try{a(r)}finally{mi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=oS.bind(null,Ue,n),[u.memoizedState,n]},useRef:function(n){var r=En();return n={current:n},r.memoizedState=n},useState:function(n){n=rd(n);var r=n.queue,a=jy.bind(null,Ue,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:od,useDeferredValue:function(n,r){var a=En();return ld(a,n,r)},useTransition:function(){var n=rd(!1);return n=Py.bind(null,Ue,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Ue,f=En();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(We&60)!==0||fy(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iy(my.bind(null,u,d,n),[n]),u.flags|=2048,io(9,dy.bind(null,u,d,a,r),{destroy:void 0},null),a},useId:function(){var n=En(),r=ct.identifierPrefix;if(tt){var a=ir,u=nr;a=(u&~(1<<32-dn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ec++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=tS++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return En().memoizedState=aS.bind(null,Ue)}};Ws.useMemoCache=td,Ws.useHostTransitionStatus=cd,Ws.useFormState=Ay,Ws.useActionState=Ay,Ws.useOptimistic=function(n){var r=En();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,Ue,!0,a),a.dispatch=r,[n,r]};var Yr={readContext:an,use:bc,useCallback:Vy,useContext:an,useEffect:ad,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:My,useReducer:Ac,useRef:Cy,useState:function(){return Ac(sr)},useDebugValue:od,useDeferredValue:function(n,r){var a=Dt();return ky(a,at.memoizedState,n,r)},useTransition:function(){var n=Ac(sr)[0],r=Dt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:hy,useId:zy};Yr.useCacheRefresh=Fy,Yr.useMemoCache=td,Yr.useHostTransitionStatus=cd,Yr.useFormState=Sy,Yr.useActionState=Sy,Yr.useOptimistic=function(n,r){var a=Dt();return yy(a,at,n,r)};var Js={readContext:an,use:bc,useCallback:Vy,useContext:an,useEffect:ad,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:My,useReducer:id,useRef:Cy,useState:function(){return id(sr)},useDebugValue:od,useDeferredValue:function(n,r){var a=Dt();return at===null?ld(a,n,r):ky(a,at.memoizedState,n,r)},useTransition:function(){var n=id(sr)[0],r=Dt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:hy,useId:zy};Js.useCacheRefresh=Fy,Js.useMemoCache=td,Js.useHostTransitionStatus=cd,Js.useFormState=Ry,Js.useActionState=Ry,Js.useOptimistic=function(n,r){var a=Dt();return at!==null?yy(a,at,n,r):(a.baseState=n,[n,a.queue.dispatch])};function fd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var dd={isMounted:function(n){return(n=n._reactInternals)?Ae(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Nn(),f=Wr(u);f.payload=r,a!=null&&(f.callback=a),r=Jr(n,f,u),r!==null&&(yn(r,n,u),Dl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Nn(),f=Wr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Jr(n,f,u),r!==null&&(yn(r,n,u),Dl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Nn(),u=Wr(a);u.tag=2,r!=null&&(u.callback=r),r=Jr(n,u,a),r!==null&&(yn(r,n,a),Dl(r,n,a))}};function Hy(n,r,a,u,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,E):r.prototype&&r.prototype.isPureReactComponent?!dl(a,u)||!dl(f,d):!0}function $y(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&dd.enqueueReplaceState(r,r.state,null)}function ea(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gy(n){Cc(n)}function Ky(n){console.error(n)}function Qy(n){Cc(n)}function Ic(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Yy(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(n,r,a){return a=Wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(n,r)},a}function Xy(n){return n=Wr(n),n.tag=3,n}function Zy(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){Yy(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Yy(r,a,u),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function lS(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Il(r,a,f,!0),a=qn.current,a!==null){switch(a.tag){case 13:return Ri===null?Yd():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Hf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Zd(n,u,f)),!1;case 22:return a.flags|=65536,u===Hf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Zd(n,u,f)),!1}throw Error(s(435,a.tag))}return Zd(n,u,f),Yd(),!1}if(tt)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==qf&&(n=Error(s(422),{cause:u}),yl(Fn(n,a)))):(u!==qf&&(r=Error(s(423),{cause:u}),yl(Fn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Fn(u,a),f=md(n.stateNode,u,f),Dd(n,f),bt!==4&&(bt=2)),!1;var d=Error(s(520),{cause:u});if(d=Fn(d,a),Ll===null?Ll=[d]:Ll.push(d),bt!==4&&(bt=2),r===null)return!0;u=Fn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=md(a.stateNode,u,n),Dd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Xy(f),Zy(f,n,a,u),Dd(a,f),!1}a=a.return}while(a!==null);return!1}var Wy=Error(s(461)),Qt=!1;function en(n,r,a,u){r.child=n===null?iy(r,null,a,u):Ys(r,n.child,a,u)}function Jy(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return na(r),u=Zf(n,r,a,E,d,f),b=Wf(),n!==null&&!Qt?(Jf(n,r,f),ar(n,r,f)):(tt&&b&&jf(r),r.flags|=1,en(n,r,u,f),r.child)}function e_(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!Ld(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,t_(n,r,d,u,f)):(n=Vc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Ad(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(E,u)&&n.ref===r.ref)return ar(n,r,f)}return r.flags|=1,n=is(d,u),n.ref=r.ref,n.return=r,r.child=n}function t_(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(dl(d,u)&&n.ref===r.ref)if(Qt=!1,r.pendingProps=u=d,Ad(n,f))(n.flags&131072)!==0&&(Qt=!0);else return r.lanes=n.lanes,ar(n,r,f)}return pd(n,r,a,u,f)}function n_(n,r,a){var u=r.pendingProps,f=u.children,d=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Cl(n,r),u.mode==="hidden"||d){if((r.flags&128)!==0){if(u=E!==null?E.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~u}else r.childLanes=0,r.child=null;return i_(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&_c(r,E!==null?E.cachePool:null),E!==null?ry(r,E):$f(),sy(r);else return r.lanes=r.childLanes=536870912,i_(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(_c(r,E.cachePool),ry(r,E),Kr(),r.memoizedState=null):(n!==null&&_c(r,null),$f(),Kr());return en(n,r,f,a),r.child}function i_(n,r,a,u){var f=Yf();return f=f===null?null:{parent:Ut._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&_c(r,null),$f(),sy(r),n!==null&&Il(n,r,u,!0),null}function Cl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function pd(n,r,a,u,f){return na(r),a=Zf(n,r,a,u,void 0,f),u=Wf(),n!==null&&!Qt?(Jf(n,r,f),ar(n,r,f)):(tt&&u&&jf(r),r.flags|=1,en(n,r,a,f),r.child)}function r_(n,r,a,u,f,d){return na(r),r.updateQueue=null,a=cy(r,u,a,f),uy(n),u=Wf(),n!==null&&!Qt?(Jf(n,r,d),ar(n,r,d)):(tt&&u&&jf(r),r.flags|=1,en(n,r,a,d),r.child)}function s_(n,r,a,u,f){if(na(r),r.stateNode===null){var d=Qa,E=a.contextType;typeof E=="object"&&E!==null&&(d=an(E)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Cd(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?an(E):Qa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(fd(r,a,E,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&dd.enqueueReplaceState(d,d.state,null),xl(r,u,d,f),Ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,I=ea(a,b);d.props=I;var U=d.context,W=a.contextType;E=Qa,typeof W=="object"&&W!==null&&(E=an(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==E)&&$y(r,d,u,E),Zr=!1;var G=r.memoizedState;d.state=G,xl(r,u,d,f),Ol(),U=r.memoizedState,b||G!==U||Zr?(typeof ie=="function"&&(fd(r,a,ie,u),U=r.memoizedState),(I=Zr||Hy(r,a,I,u,G,U,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=U),d.props=u,d.state=U,d.context=E,u=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Id(n,r),E=r.memoizedProps,W=ea(a,E),d.props=W,ie=r.pendingProps,G=d.context,U=a.contextType,I=Qa,typeof U=="object"&&U!==null&&(I=an(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ie||G!==I)&&$y(r,d,u,I),Zr=!1,G=r.memoizedState,d.state=G,xl(r,u,d,f),Ol();var X=r.memoizedState;E!==ie||G!==X||Zr||n!==null&&n.dependencies!==null&&Dc(n.dependencies)?(typeof b=="function"&&(fd(r,a,b,u),X=r.memoizedState),(W=Zr||Hy(r,a,W,u,G,X,I)||n!==null&&n.dependencies!==null&&Dc(n.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,X,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),d.props=u,d.state=X,d.context=I,u=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,Cl(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Ys(r,n.child,null,f),r.child=Ys(r,null,a,f)):en(n,r,a,f),r.memoizedState=d.state,n=r.child):n=ar(n,r,f),n}function a_(n,r,a,u){return gl(),r.flags|=256,en(n,r,a,u),r.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function yd(n){return{baseLanes:n,cachePool:ly()}}function _d(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function o_(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(tt){if(f?Gr(r):Kr(),tt){var b=Jt,I;if(I=b){e:{for(I=b,b=wi;I.nodeType!==8;){if(!b){b=null;break e}if(I=oi(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Gs!==null?{id:nr,overflow:ir}:null,retryLane:536870912},I=Gn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,gn=r,Jt=null,I=!0):I=!1}I||Qs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;rr(r)}return b=u.children,u=u.fallback,f?(Kr(),f=r.mode,b=Ed({mode:"hidden",children:b},f),u=ra(u,f,a,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=yd(a),f.childLanes=_d(n,E,a),r.memoizedState=gd,u):(Gr(r),vd(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Gr(r),r.flags&=-257,r=Td(n,r,a)):r.memoizedState!==null?(Kr(),r.child=n.child,r.flags|=128,r=null):(Kr(),f=u.fallback,b=r.mode,u=Ed({mode:"visible",children:u.children},b),f=ra(f,b,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ys(r,n.child,null,a),u=r.child,u.memoizedState=yd(a),u.childLanes=_d(n,E,a),r.memoizedState=gd,r=f);else if(Gr(r),b.data==="$!"){if(E=b.nextSibling&&b.nextSibling.dataset,E)var U=E.dgst;E=U,u=Error(s(419)),u.stack="",u.digest=E,yl({value:u,source:null,stack:null}),r=Td(n,r,a)}else if(Qt||Il(n,r,a,!1),E=(a&n.childLanes)!==0,Qt||E){if(E=ct,E!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==I.retryLane)throw I.retryLane=u,$r(n,u),yn(E,n,u),Wy}b.data==="$?"||Yd(),r=Td(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=AS.bind(null,n),b._reactRetry=r,r=null):(n=I.treeContext,Jt=oi(b.nextSibling),gn=r,tt=!0,si=null,wi=!1,n!==null&&(jn[Bn++]=nr,jn[Bn++]=ir,jn[Bn++]=Gs,nr=n.id,ir=n.overflow,Gs=r),r=vd(r,u.children),r.flags|=4096);return r}return f?(Kr(),f=u.fallback,b=r.mode,I=n.child,U=I.sibling,u=is(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=is(U,f):(f=ra(f,b,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=yd(a):(I=b.cachePool,I!==null?(U=Ut._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=ly(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=_d(n,E,a),r.memoizedState=gd,u):(Gr(r),a=n.child,n=a.sibling,a=is(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function vd(n,r){return r=Ed({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ed(n,r){return V_(n,r,0,null)}function Td(n,r,a){return Ys(r,n.child,null,a),n=vd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function l_(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),wd(n.return,r,a)}function bd(n,r,a,u,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=a,d.tailMode=f)}function u_(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(en(n,r,u.children,a),u=Lt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l_(n,a,r);else if(n.tag===19)l_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(it(Lt,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&yc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),bd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&yc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}bd(r,!0,a,null,d);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ar(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),rs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Il(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=is(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=is(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Dc(n)))}function uS(n,r,a){switch(r.tag){case 3:Hi(r,r.stateNode.containerInfo),Xr(r,Ut,n.memoizedState.cache),gl();break;case 27:case 5:Ia(r);break;case 4:Hi(r,r.stateNode.containerInfo);break;case 10:Xr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?o_(n,r,a):(Gr(r),n=ar(n,r,a),n!==null?n.sibling:null);Gr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Il(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return u_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Lt,Lt.current),u)break;return null;case 22:case 23:return r.lanes=0,n_(n,r,a);case 24:Xr(r,Ut,n.memoizedState.cache)}return ar(n,r,a)}function c_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Qt=!0;else{if(!Ad(n,a)&&(r.flags&128)===0)return Qt=!1,uS(n,r,a);Qt=(n.flags&131072)!==0}else Qt=!1,tt&&(r.flags&1048576)!==0&&Qg(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Ld(u)?(n=ea(u,n),r.tag=1,r=s_(null,r,u,n,a)):(r.tag=0,r=pd(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===L){r.tag=11,r=Jy(null,r,u,n,a);break e}else if(f===z){r.tag=14,r=e_(null,r,u,n,a);break e}}throw r=R(u)||u,Error(s(306,r,""))}}return r;case 0:return pd(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=ea(u,r.pendingProps),s_(n,r,u,f,a);case 3:e:{if(Hi(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,u=f.element,Id(n,r),xl(r,d,null,a);var E=r.memoizedState;if(d=E.cache,Xr(r,Ut,d),d!==f.cache&&Rd(r,[Ut],a,!0),Ol(),d=E.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=a_(n,r,d,a);break e}else if(d!==u){u=Fn(Error(s(424)),r),yl(u),r=a_(n,r,d,a);break e}else for(Jt=oi(r.stateNode.containerInfo.firstChild),gn=r,tt=!0,si=null,wi=!0,a=iy(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(gl(),d===u){r=ar(n,r,a);break e}en(n,r,d,a)}r=r.child}return r;case 26:return Cl(n,r),n===null?(a=dv(r.type,null,r.pendingProps,null))?r.memoizedState=a:tt||(a=r.type,n=r.pendingProps,u=$c(fn.current).createElement(a),u[$t]=r,u[Mt]=n,tn(u,a,n),pt(u),r.stateNode=u):r.memoizedState=dv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ia(r),n===null&&tt&&(u=r.stateNode=cv(r.type,r.pendingProps,fn.current),gn=r,wi=!0,Jt=oi(u.firstChild)),u=r.pendingProps.children,n!==null||tt?en(n,r,u,a):r.child=Ys(r,null,u,a),Cl(n,r),r.child;case 5:return n===null&&tt&&((f=u=Jt)&&(u=zS(u,r.type,r.pendingProps,wi),u!==null?(r.stateNode=u,gn=r,Jt=oi(u.firstChild),wi=!1,f=!0):f=!1),f||Qs(r)),Ia(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,u=d.children,um(f,d)?u=null:E!==null&&um(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Zf(n,r,nS,null,null,a),Gl._currentValue=f),Cl(n,r),en(n,r,u,a),r.child;case 6:return n===null&&tt&&((n=a=Jt)&&(a=FS(a,r.pendingProps,wi),a!==null?(r.stateNode=a,gn=r,Jt=null,n=!0):n=!1),n||Qs(r)),null;case 13:return o_(n,r,a);case 4:return Hi(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ys(r,null,u,a):en(n,r,u,a),r.child;case 11:return Jy(n,r,r.type,r.pendingProps,a);case 7:return en(n,r,r.pendingProps,a),r.child;case 8:return en(n,r,r.pendingProps.children,a),r.child;case 12:return en(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Xr(r,r.type,u.value),en(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,na(r),f=an(f),u=u(f),r.flags|=1,en(n,r,u,a),r.child;case 14:return e_(n,r,r.type,r.pendingProps,a);case 15:return t_(n,r,r.type,r.pendingProps,a);case 19:return u_(n,r,a);case 22:return n_(n,r,a);case 24:return na(r),u=an(Ut),n===null?(f=Yf(),f===null&&(f=ct,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},Cd(r),Xr(r,Ut,f)):((n.lanes&a)!==0&&(Id(n,r),xl(r,null,null,a),Ol()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xr(r,Ut,u)):(u=d.cache,Xr(r,Ut,u),u!==f.cache&&Rd(r,[Ut],a,!0))),en(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Sd=$e(null),ta=null,or=null;function Xr(n,r,a){it(Sd,r._currentValue),r._currentValue=a}function lr(n){n._currentValue=Sd.current,ft(Sd)}function wd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Rd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),wd(d.return,a,n),u||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),wd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Il(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;In(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===ei.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}f=f.return}n!==null&&Rd(r,n,a,u),r.flags|=262144}function Dc(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return h_(ta,n)}function Oc(n,r){return ta===null&&na(n),h_(n,r)}function h_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(n===null)throw Error(s(308));or=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else or=or.next=r;return a}var Zr=!1;function Cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Jr(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=cc(n),Gg(n,null,a),r}return uc(n,u,r,a),cc(n)}function Dl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,kr(n,a)}}function Dd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Od=!1;function Ol(){if(Od){var n=eo;if(n!==null)throw n}}function xl(n,r,a,u){Od=!1;var f=n.updateQueue;Zr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,U=I.next;I.next=null,E===null?d=U:E.next=U,E=I;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=U:b.next=U,W.lastBaseUpdate=I))}if(d!==null){var ie=f.baseState;E=0,W=U=I=null,b=d;do{var G=b.lane&-536870913,X=G!==b.lane;if(X?(We&G)===G:(u&G)===G){G!==0&&G===Ja&&(Od=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=n,Ne=b;G=r;var At=a;switch(Ne.tag){case 1:if(Se=Ne.payload,typeof Se=="function"){ie=Se.call(At,ie,G);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ne.payload,G=typeof Se=="function"?Se.call(At,ie,G):Se,G==null)break e;ie=D({},ie,G);break e;case 2:Zr=!0}}G=b.callback,G!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[G]:X.push(G))}else X={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(U=W=X,I=ie):W=W.next=X,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(I=ie),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),rs|=E,n.lanes=E,n.memoizedState=ie}}function f_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function d_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)f_(a[n],r)}function Nl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,E=a.inst;u=d(),E.destroy=u}a=a.next}while(a!==f)}}catch(b){ut(r,r.return,b)}}function es(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var I=a;try{b()}catch(U){ut(f,I,U)}}}u=u.next}while(u!==d)}}catch(U){ut(r,r.return,U)}}function m_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{d_(r,a)}catch(u){ut(n,n.return,u)}}}function p_(n,r,a){a.props=ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){ut(n,r,u)}}function ia(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(d){ut(n,r,d)}}function Dn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){ut(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ut(n,r,f)}else a.current=null}function g_(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){ut(n,n.return,f)}}function y_(n,r,a){try{var u=n.stateNode;MS(u,n.type,a,r),u[Mt]=r}catch(f){ut(n,n.return,f)}}function __(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||__(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Hc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Nd(n,r,a),n=n.sibling;n!==null;)Nd(n,r,a),n=n.sibling}function xc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(xc(n,r,a),n=n.sibling;n!==null;)xc(n,r,a),n=n.sibling}var ur=!1,Tt=!1,Vd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Yt=null,E_=!1;function cS(n,r){if(n=n.containerInfo,om=Zc,n=Lg(n),kf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,I=-1,U=0,W=0,ie=n,G=null;t:for(;;){for(var X;ie!==a||f!==0&&ie.nodeType!==3||(b=E+f),ie!==d||u!==0&&ie.nodeType!==3||(I=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(X=ie.firstChild)!==null;)G=ie,ie=X;for(;;){if(ie===n)break t;if(G===a&&++U===f&&(b=E),G===d&&++W===u&&(I=E),(X=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=X}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:n,selectionRange:a},Zc=!1,Yt=r;Yt!==null;)if(r=Yt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Yt=n;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var Se=ea(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Se,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){ut(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Yt=n;break}Yt=r.return}return Se=E_,E_=!1,Se}function T_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:hr(n,a),u&4&&Nl(5,a);break;case 1:if(hr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){ut(a,a.return,b)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}u&64&&m_(a),u&512&&ia(a,a.return);break;case 3:if(hr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{d_(u,n)}catch(b){ut(a,a.return,b)}}break;case 26:hr(n,a),u&512&&ia(a,a.return);break;case 27:case 5:hr(n,a),r===null&&u&4&&g_(a),u&512&&ia(a,a.return);break;case 12:hr(n,a);break;case 13:hr(n,a),u&4&&S_(n,a);break;case 22:if(f=a.memoizedState!==null||ur,!f){r=r!==null&&r.memoizedState!==null||Tt;var d=ur,E=Tt;ur=f,(Tt=r)&&!E?ts(n,a,(a.subtreeFlags&8772)!==0):hr(n,a),ur=d,Tt=E}u&512&&(a.memoizedProps.mode==="manual"?ia(a,a.return):Dn(a,a.return));break;default:hr(n,a)}}function b_(n){var r=n.alternate;r!==null&&(n.alternate=null,b_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Vs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ot=null,On=!1;function cr(n,r,a){for(a=a.child;a!==null;)A_(n,r,a),a=a.sibling}function A_(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:Tt||Dn(a,r),cr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||Dn(a,r);var u=Ot,f=On;for(Ot=a.stateNode,cr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Vs(a),Ot=u,On=f;break;case 5:Tt||Dn(a,r);case 6:f=Ot;var d=On;if(Ot=null,cr(n,r,a),Ot=f,On=d,Ot!==null)if(On)try{n=Ot,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(E){ut(a,r,E)}else try{Ot.removeChild(a.stateNode)}catch(E){ut(a,r,E)}break;case 18:Ot!==null&&(On?(r=Ot,a=a.stateNode,r.nodeType===8?hm(r.parentNode,a):r.nodeType===1&&hm(r,a),Xl(r)):hm(Ot,a.stateNode));break;case 4:u=Ot,f=On,Ot=a.stateNode.containerInfo,On=!0,cr(n,r,a),Ot=u,On=f;break;case 0:case 11:case 14:case 15:Tt||es(2,a,r),Tt||es(4,a,r),cr(n,r,a);break;case 1:Tt||(Dn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&p_(a,r,u)),cr(n,r,a);break;case 21:cr(n,r,a);break;case 22:Tt||Dn(a,r),Tt=(u=Tt)||a.memoizedState!==null,cr(n,r,a),Tt=u;break;default:cr(n,r,a)}}function S_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xl(n)}catch(a){ut(r,r.return,a)}}function hS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new v_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new v_),r;default:throw Error(s(435,n.tag))}}function Md(n,r){var a=hS(n);r.forEach(function(u){var f=SS.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Hn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:case 5:Ot=b.stateNode,On=!1;break e;case 3:Ot=b.stateNode.containerInfo,On=!0;break e;case 4:Ot=b.stateNode.containerInfo,On=!0;break e}b=b.return}if(Ot===null)throw Error(s(160));A_(d,E,f),Ot=null,On=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)w_(r,n),r=r.sibling}var ai=null;function w_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(r,n),$n(n),u&4&&(es(3,n,n.return),Nl(3,n),es(5,n,n.return));break;case 1:Hn(r,n),$n(n),u&512&&(Tt||a===null||Dn(a,a.return)),u&64&&ur&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ai;if(Hn(r,n),$n(n),u&512&&(Tt||a===null||Dn(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Lr]||d[$t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,u,a),d[$t]=n,pt(d),u=d;break e;case"link":var E=gv("link","href",f).get(u+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(u),tn(d,u,a),f.head.appendChild(d);break;case"meta":if(E=gv("meta","content",f).get(u+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(u),tn(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[$t]=n,pt(d),u=d}n.stateNode=u}else yv(f,n.type,n.stateNode);else n.stateNode=pv(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?yv(f,n.type,n.stateNode):pv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&y_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,d=n.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,W=I.nodeName;I[Lr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var ie=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);tn(f,ie,d),f[$t]=n,f[Mt]=d}catch(Se){ut(n,n.return,Se)}}case 5:if(Hn(r,n),$n(n),u&512&&(Tt||a===null||Dn(a,a.return)),n.flags&32){f=n.stateNode;try{kn(f,"")}catch(Se){ut(n,n.return,Se)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,y_(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Vd=!0);break;case 6:if(Hn(r,n),$n(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Se){ut(n,n.return,Se)}}break;case 3:if(Qc=null,f=ai,ai=Gc(r.containerInfo),Hn(r,n),ai=f,$n(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(r.containerInfo)}catch(Se){ut(n,n.return,Se)}Vd&&(Vd=!1,R_(n));break;case 4:u=ai,ai=Gc(n.stateNode.containerInfo),Hn(r,n),$n(n),ai=u;break;case 12:Hn(r,n),$n(n);break;case 13:Hn(r,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=_e()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Md(n,u)));break;case 22:if(u&512&&(Tt||a===null||Dn(a,a.return)),I=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,W=ur,ie=Tt,ur=W||I,Tt=ie||U,Hn(r,n),Tt=ie,ur=W,$n(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=ur||Tt,a===null||U||r||ro(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,I)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=U.stateNode,b=U.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Se){ut(U,U.return,Se)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(Se){ut(U,U.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Md(n,a))));break;case 19:Hn(r,n),$n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Md(n,u)));break;case 21:break;default:Hn(r,n),$n(n)}}function $n(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(__(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,d=xd(n);xc(n,d,f);break;case 5:var E=u.stateNode;u.flags&32&&(kn(E,""),u.flags&=-33);var b=xd(n);xc(n,b,E);break;case 3:case 4:var I=u.stateNode.containerInfo,U=xd(n);Nd(n,U,I);break;default:throw Error(s(161))}}}catch(W){ut(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function R_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;R_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function hr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)T_(n,r.alternate,r),r=r.sibling}function ro(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:es(4,r,r.return),ro(r);break;case 1:Dn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),ro(r);break;case 26:case 27:case 5:Dn(r,r.return),ro(r);break;case 22:Dn(r,r.return),r.memoizedState===null&&ro(r);break;default:ro(r)}n=n.sibling}}function ts(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:ts(f,d,a),Nl(4,d);break;case 1:if(ts(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){ut(u,u.return,U)}if(u=d,f=u.updateQueue,f!==null){var b=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)f_(I[f],b)}catch(U){ut(u,u.return,U)}}a&&E&64&&m_(d),ia(d,d.return);break;case 26:case 27:case 5:ts(f,d,a),a&&u===null&&E&4&&g_(d),ia(d,d.return);break;case 12:ts(f,d,a);break;case 13:ts(f,d,a),a&&E&4&&S_(f,d);break;case 22:d.memoizedState===null&&ts(f,d,a),ia(d,d.return);break;default:ts(f,d,a)}r=r.sibling}}function kd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function Pd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n))}function ns(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(n,r,a,u),r=r.sibling}function C_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ns(n,r,a,u),f&2048&&Nl(9,r);break;case 3:ns(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n)));break;case 12:if(f&2048){ns(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ut(r,r.return,I)}}else ns(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?ns(n,r,a,u):Vl(n,r):d._visibility&4?ns(n,r,a,u):(d._visibility|=4,so(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&kd(r.alternate,r);break;case 24:ns(n,r,a,u),f&2048&&Pd(r.alternate,r);break;default:ns(n,r,a,u)}}function so(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,b=a,I=u,U=E.flags;switch(E.tag){case 0:case 11:case 15:so(d,E,b,I,f),Nl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?so(d,E,b,I,f):Vl(d,E):(W._visibility|=4,so(d,E,b,I,f)),f&&U&2048&&kd(E.alternate,E);break;case 24:so(d,E,b,I,f),f&&U&2048&&Pd(E.alternate,E);break;default:so(d,E,b,I,f)}r=r.sibling}}function Vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Vl(a,u),f&2048&&kd(u.alternate,u);break;case 24:Vl(a,u),f&2048&&Pd(u.alternate,u);break;default:Vl(a,u)}r=r.sibling}}var Ml=8192;function ao(n){if(n.subtreeFlags&Ml)for(n=n.child;n!==null;)I_(n),n=n.sibling}function I_(n){switch(n.tag){case 26:ao(n),n.flags&Ml&&n.memoizedState!==null&&JS(ai,n.memoizedState,n.memoizedProps);break;case 5:ao(n);break;case 3:case 4:var r=ai;ai=Gc(n.stateNode.containerInfo),ao(n),ai=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ml,Ml=16777216,ao(n),Ml=r):ao(n));break;default:ao(n)}}function D_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,x_(u,n)}D_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)O_(n),n=n.sibling}function O_(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&es(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Nc(n)):kl(n);break;default:kl(n)}}function Nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,x_(u,n)}D_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:es(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Nc(r));break;default:Nc(r)}n=n.sibling}}function x_(n,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:es(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:bl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Yt=u;else e:for(a=n;Yt!==null;){u=Yt;var f=u.sibling,d=u.return;if(b_(u),u===a){Yt=null;break e}if(f!==null){f.return=d,Yt=f;break e}Yt=d}}}function fS(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,r,a,u){return new fS(n,r,a,u)}function Ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function is(n,r){var a=n.alternate;return a===null?(a=Gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function N_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Vc(n,r,a,u,f,d){var E=0;if(u=n,typeof n=="function")Ld(n)&&(E=1);else if(typeof n=="string")E=ZS(n,a,Bt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ra(a.children,f,d,r);case g:E=8,f|=24;break;case _:return n=Gn(12,a,r,f|2),n.elementType=_,n.lanes=d,n;case $:return n=Gn(13,a,r,f),n.elementType=$,n.lanes=d,n;case j:return n=Gn(19,a,r,f),n.elementType=j,n.lanes=d,n;case J:return V_(a,f,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case O:E=10;break e;case w:E=9;break e;case L:E=11;break e;case z:E=14;break e;case K:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Gn(E,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function ra(n,r,a,u){return n=Gn(7,n,u,r),n.lanes=a,n}function V_(n,r,a,u){n=Gn(22,n,u,r),n.elementType=J,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=$r(d,2);E!==null&&(f._pendingVisibility|=2,yn(E,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=$r(d,2);E!==null&&(f._pendingVisibility&=-3,yn(E,d,2))}}};return n.stateNode=f,n}function Ud(n,r,a){return n=Gn(6,n,null,r),n.lanes=a,n}function zd(n,r,a){return r=Gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function fr(n){n.flags|=4}function M_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_v(r)){if(r=qn.current,r!==null&&((We&4194176)===We?Ri!==null:(We&62914560)!==We&&(We&536870912)===0||r!==Ri))throw vl=Hf,Zg;n.flags|=8192}}function Mc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Vr():536870912,n.lanes|=r,lo|=r)}function Pl(n,r){if(!tt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function dS(n,r,a){var u=r.pendingProps;switch(Bf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),lr(Ut),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(pl(r)?fr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,si!==null&&(Kd(si),si=null))),gt(r),null;case 26:return a=r.memoizedState,n===null?(fr(r),a!==null?(gt(r),M_(r,a)):(gt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(fr(r),gt(r),M_(r,a)):(gt(r),r.flags&=-16777217):(n.memoizedProps!==u&&fr(r),gt(r),r.flags&=-16777217),null;case 27:V(r),a=fn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}n=Bt.current,pl(r)?Yg(r):(n=cv(f,u,a),r.stateNode=n,fr(r))}return gt(r),null;case 5:if(V(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(n=Bt.current,pl(r))Yg(r);else{switch(f=$c(fn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[$t]=r,n[Mt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(tn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&fr(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=fn.current,pl(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[$t]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||rv(n.nodeValue,a)),n||Qs(r)}else n=$c(n).createTextNode(u),n[$t]=r,r.stateNode=n}return gt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=pl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[$t]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else si!==null&&(Kd(si),si=null),f=!0;if(!f)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Mc(r,r.updateQueue),gt(r),null;case 4:return di(),n===null&&rm(r.stateNode.containerInfo),gt(r),null;case 10:return lr(r.type),gt(r),null;case 19:if(ft(Lt),f=r.memoizedState,f===null)return gt(r),null;if(u=(r.flags&128)!==0,d=f.rendering,d===null)if(u)Pl(f,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=yc(n),d!==null){for(r.flags|=128,Pl(f,!1),n=d.updateQueue,r.updateQueue=n,Mc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)N_(a,n),a=a.sibling;return it(Lt,Lt.current&1|2),r.child}n=n.sibling}f.tail!==null&&_e()>kc&&(r.flags|=128,u=!0,Pl(f,!1),r.lanes=4194304)}else{if(!u)if(n=yc(d),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Mc(r,n),Pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!tt)return gt(r),null}else 2*_e()-f.renderingStartTime>kc&&a!==536870912&&(r.flags|=128,u=!0,Pl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=_e(),r.sibling=null,n=Lt.current,it(Lt,u?n&1|2:n&1),r):(gt(r),null);case 22:case 23:return rr(r),Gf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&Mc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&ft(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Ut),gt(r),null;case 25:return null}throw Error(s(156,r.tag))}function mS(n,r){switch(Bf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return lr(Ut),di(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return V(r),null;case 13:if(rr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));gl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ft(Lt),null;case 4:return di(),null;case 10:return lr(r.type),null;case 22:case 23:return rr(r),Gf(),n!==null&&ft(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return lr(Ut),null;case 25:return null;default:return null}}function k_(n,r){switch(Bf(r),r.tag){case 3:lr(Ut),di();break;case 26:case 27:case 5:V(r);break;case 4:di();break;case 13:rr(r);break;case 19:ft(Lt);break;case 10:lr(r.type);break;case 22:case 23:rr(r),Gf(),n!==null&&ft(Xs);break;case 24:lr(Ut)}}var pS={getCacheForType:function(n){var r=an(Ut),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},gS=typeof WeakMap=="function"?WeakMap:Map,yt=0,ct=null,qe=null,We=0,ht=0,xn=null,dr=!1,oo=!1,Fd=!1,mr=0,bt=0,rs=0,sa=0,jd=0,Kn=0,lo=0,Ll=null,Ii=null,Bd=!1,qd=0,kc=1/0,Pc=null,ss=null,Lc=!1,aa=null,Ul=0,Hd=0,$d=null,zl=0,Gd=null;function Nn(){if((yt&2)!==0&&We!==0)return We&-We;if(S.T!==null){var n=Ja;return n!==0?n:em()}return qu()}function P_(){Kn===0&&(Kn=(We&536870912)===0||tt?Zo():536870912);var n=qn.current;return n!==null&&(n.flags|=32),Kn}function yn(n,r,a){(n===ct&&ht===2||n.cancelPendingCommit!==null)&&(uo(n,0),pr(n,We,Kn,!1)),St(n,a),((yt&2)===0||n!==ct)&&(n===ct&&((yt&2)===0&&(sa|=a),bt===4&&pr(n,We,Kn,!1)),Di(n))}function L_(n,r,a){if((yt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Nr(n,r),f=u?vS(n,r):Xd(n,r,!0),d=u;do{if(f===0){oo&&!u&&pr(n,r,0,!1);break}else if(f===6)pr(n,r,0,!dr);else{if(a=n.current.alternate,d&&!yS(a)){f=Xd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=Ll;var I=b.current.memoizedState.isDehydrated;if(I&&(uo(b,E).flags|=256),E=Xd(b,E,!1),E!==2){if(Fd&&!I){b.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break e}d=Ii,Ii=f,d!==null&&Kd(d)}f=E}if(d=!1,f!==2)continue}}if(f===1){uo(n,0),pr(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){pr(u,r,Kn,!dr);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(d=qd+300-_e(),10<d)){if(pr(u,r,Kn,!dr),Vn(u,0)!==0)break e;u.timeoutHandle=ov(U_.bind(null,u,a,Ii,Pc,Bd,r,Kn,sa,lo,dr,2,-0,0),d);break e}U_(u,a,Ii,Pc,Bd,r,Kn,sa,lo,dr,0,-0,0)}}break}while(!0);Di(n)}function Kd(n){Ii===null?Ii=n:Ii.push.apply(Ii,n)}function U_(n,r,a,u,f,d,E,b,I,U,W,ie,G){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:WS},I_(r),r=ew(),r!==null)){n.cancelPendingCommit=r($_.bind(null,n,a,u,f,E,b,I,1,ie,G)),pr(n,d,E,!U);return}$_(n,a,u,f,E,b,I,W,ie,G)}function yS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(n,r,a,u){r&=~jd,r&=~sa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-dn(f),E=1<<d;u[d]=-1,f&=~E}a!==0&&Mr(n,a,r)}function Uc(){return(yt&6)===0?(Fl(0),!1):!0}function Qd(){if(qe!==null){if(ht===0)var n=qe.return;else n=qe,or=ta=null,ed(n),Za=null,El=0,n=qe;for(;n!==null;)k_(n.alternate,n),n=n.return;qe=null}}function uo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,PS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),ct=n,qe=a=is(n.current,null),We=r,ht=0,xn=null,dr=!1,oo=Nr(n,r),Fd=!1,lo=Kn=jd=sa=rs=bt=0,Ii=Ll=null,Bd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-dn(u),d=1<<f;r|=n[f],u&=~d}return mr=r,lc(),a}function z_(n,r){Ue=null,S.H=Ci,r===_l?(r=ey(),ht=3):r===Zg?(r=ey(),ht=4):ht=r===Wy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,qe===null&&(bt=1,Ic(n,Fn(r,n.current)))}function F_(){var n=S.H;return S.H=Ci,n===null?Ci:n}function j_(){var n=S.A;return S.A=pS,n}function Yd(){bt=4,dr||(We&4194176)!==We&&qn.current!==null||(oo=!0),(rs&134217727)===0&&(sa&134217727)===0||ct===null||pr(ct,We,Kn,!1)}function Xd(n,r,a){var u=yt;yt|=2;var f=F_(),d=j_();(ct!==n||We!==r)&&(Pc=null,uo(n,r)),r=!1;var E=bt;e:do try{if(ht!==0&&qe!==null){var b=qe,I=xn;switch(ht){case 8:Qd(),E=6;break e;case 3:case 2:case 6:qn.current===null&&(r=!0);var U=ht;if(ht=0,xn=null,co(n,b,I,U),a&&oo){E=0;break e}break;default:U=ht,ht=0,xn=null,co(n,b,I,U)}}_S(),E=bt;break}catch(W){z_(n,W)}while(!0);return r&&n.shellSuspendCounter++,or=ta=null,yt=u,S.H=f,S.A=d,qe===null&&(ct=null,We=0,lc()),E}function _S(){for(;qe!==null;)B_(qe)}function vS(n,r){var a=yt;yt|=2;var u=F_(),f=j_();ct!==n||We!==r?(Pc=null,kc=_e()+500,uo(n,r)):oo=Nr(n,r);e:do try{if(ht!==0&&qe!==null){r=qe;var d=xn;t:switch(ht){case 1:ht=0,xn=null,co(n,r,d,1);break;case 2:if(Wg(d)){ht=0,xn=null,q_(r);break}r=function(){ht===2&&ct===n&&(ht=7),Di(n)},d.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Wg(d)?(ht=0,xn=null,q_(r)):(ht=0,xn=null,co(n,r,d,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var b=qe;if(!E||_v(E)){ht=0,xn=null;var I=b.sibling;if(I!==null)qe=I;else{var U=b.return;U!==null?(qe=U,zc(U)):qe=null}break t}}ht=0,xn=null,co(n,r,d,5);break;case 6:ht=0,xn=null,co(n,r,d,6);break;case 8:Qd(),bt=6;break e;default:throw Error(s(462))}}ES();break}catch(W){z_(n,W)}while(!0);return or=ta=null,S.H=u,S.A=f,yt=a,qe!==null?0:(ct=null,We=0,lc(),bt)}function ES(){for(;qe!==null&&!ue();)B_(qe)}function B_(n){var r=c_(n.alternate,n,mr);n.memoizedProps=n.pendingProps,r===null?zc(n):qe=r}function q_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=r_(a,r,r.pendingProps,r.type,void 0,We);break;case 11:r=r_(a,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:ed(r);default:k_(a,r),r=qe=N_(r,mr),r=c_(a,r,mr)}n.memoizedProps=n.pendingProps,r===null?zc(n):qe=r}function co(n,r,a,u){or=ta=null,ed(r),Za=null,El=0;var f=r.return;try{if(lS(n,f,r,a,We)){bt=1,Ic(n,Fn(a,n.current)),qe=null;return}}catch(d){if(f!==null)throw qe=f,d;bt=1,Ic(n,Fn(a,n.current)),qe=null;return}r.flags&32768?(tt||u===1?n=!0:oo||(We&536870912)!==0?n=!1:(dr=n=!0,(u===2||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),H_(r,n)):zc(r)}function zc(n){var r=n;do{if((r.flags&32768)!==0){H_(r,dr);return}n=r.return;var a=dS(r.alternate,r,mr);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=n}while(r!==null);bt===0&&(bt=5)}function H_(n,r){do{var a=mS(n.alternate,n);if(a!==null){a.flags&=32767,qe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){qe=n;return}qe=n=a}while(n!==null);bt=6,qe=null}function $_(n,r,a,u,f,d,E,b,I,U){var W=S.T,ie=fe.p;try{fe.p=2,S.T=null,TS(n,r,a,u,ie,f,d,E,b,I,U)}finally{S.T=W,fe.p=ie}}function TS(n,r,a,u,f,d,E,b){do ho();while(aa!==null);if((yt&6)!==0)throw Error(s(327));var I=n.finishedWork;if(u=n.finishedLanes,I===null)return null;if(n.finishedWork=null,n.finishedLanes=0,I===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=zf,ju(n,u,U,d,E,b),n===ct&&(qe=ct=null,We=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Lc||(Lc=!0,Hd=U,$d=a,wS(qt,function(){return ho(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=fe.p,fe.p=2,E=yt,yt|=4,cS(n,I),w_(I,n),$A(lm,n.containerInfo),Zc=!!om,lm=om=null,n.current=I,T_(n,I.alternate,I),ae(),yt=E,fe.p=d,S.T=a):n.current=I,Lc?(Lc=!1,aa=n,Ul=u):G_(n,U),U=n.pendingLanes,U===0&&(ss=null),Or(I.stateNode),Di(n),r!==null)for(f=n.onRecoverableError,I=0;I<r.length;I++)U=r[I],f(U.value,{componentStack:U.stack});return(Ul&3)!==0&&ho(),U=n.pendingLanes,(u&4194218)!==0&&(U&42)!==0?n===Gd?zl++:(zl=0,Gd=n):zl=0,Fl(0),null}function G_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,bl(r)))}function ho(){if(aa!==null){var n=aa,r=Hd;Hd=0;var a=Bu(Ul),u=S.T,f=fe.p;try{if(fe.p=32>a?32:a,S.T=null,aa===null)var d=!1;else{a=$d,$d=null;var E=aa,b=Ul;if(aa=null,Ul=0,(yt&6)!==0)throw Error(s(331));var I=yt;if(yt|=4,O_(E.current),C_(E,E.current,b,a),yt=I,Fl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ti,E)}catch{}d=!0}return d}finally{fe.p=f,S.T=u,G_(n,r)}}return!1}function K_(n,r,a){r=Fn(a,r),r=md(n.stateNode,r,2),n=Jr(n,r,2),n!==null&&(St(n,2),Di(n))}function ut(n,r,a){if(n.tag===3)K_(n,n,a);else for(;r!==null;){if(r.tag===3){K_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))){n=Fn(a,n),a=Xy(2),u=Jr(r,a,2),u!==null&&(Zy(a,u,r,n),St(u,2),Di(u));break}}r=r.return}}function Zd(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new gS;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Fd=!0,f.add(a),n=bS.bind(null,n,r,a),r.then(n,n))}function bS(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ct===n&&(We&a)===a&&(bt===4||bt===3&&(We&62914560)===We&&300>_e()-qd?(yt&2)===0&&uo(n,0):jd|=a,lo===We&&(lo=0)),Di(n)}function Q_(n,r){r===0&&(r=Vr()),n=$r(n,r),n!==null&&(St(n,r),Di(n))}function AS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Q_(n,a)}function SS(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Q_(n,a)}function wS(n,r){return Y(n,r)}var Fc=null,fo=null,Wd=!1,jc=!1,Jd=!1,oa=0;function Di(n){n!==fo&&n.next===null&&(fo===null?Fc=fo=n:fo=fo.next=n),jc=!0,Wd||(Wd=!0,CS(RS))}function Fl(n,r){if(!Jd&&jc){Jd=!0;do for(var a=!1,u=Fc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var E=u.suspendedLanes,b=u.pingedLanes;d=(1<<31-dn(42|n)+1)-1,d&=f&~(E&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Z_(u,d))}else d=We,d=Vn(u,u===ct?d:0),(d&3)===0||Nr(u,d)||(a=!0,Z_(u,d));u=u.next}while(a);Jd=!1}}function RS(){jc=Wd=!1;var n=0;oa!==0&&(kS()&&(n=oa),oa=0);for(var r=_e(),a=null,u=Fc;u!==null;){var f=u.next,d=Y_(u,r);d===0?(u.next=null,a===null?Fc=f:a.next=f,f===null&&(fo=a)):(a=u,(n!==0||(d&3)!==0)&&(jc=!0)),u=f}Fl(n)}function Y_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-dn(d),b=1<<E,I=f[E];I===-1?((b&a)===0||(b&u)!==0)&&(f[E]=Oa(b,r)):I<=r&&(n.expiredLanes|=b),d&=~b}if(r=ct,a=We,a=Vn(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&ht===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ce(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Nr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&ce(u),Bu(a)){case 2:case 8:a=Be;break;case 32:a=qt;break;case 268435456:a=$i;break;default:a=qt}return u=X_.bind(null,n),a=Y(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&ce(u),n.callbackPriority=2,n.callbackNode=null,2}function X_(n,r){var a=n.callbackNode;if(ho()&&n.callbackNode!==a)return null;var u=We;return u=Vn(n,n===ct?u:0),u===0?null:(L_(n,u,r),Y_(n,_e()),n.callbackNode!=null&&n.callbackNode===a?X_.bind(null,n):null)}function Z_(n,r){if(ho())return null;L_(n,r,!0)}function CS(n){LS(function(){(yt&6)!==0?Y(ze,n):n()})}function em(){return oa===0&&(oa=Zo()),oa}function W_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_i(""+n)}function J_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function IS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=W_((f[Mt]||null).action),E=u.submitter;E&&(r=(r=E[Mt]||null)?W_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new La("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var I=E?J_(f,E):new FormData(f);ud(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=E?J_(f,E):new FormData(f),ud(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var tm=0;tm<$g.length;tm++){var nm=$g[tm],DS=nm.toLowerCase(),OS=nm[0].toUpperCase()+nm.slice(1);ri(DS,"on"+OS)}ri(Fg,"onAnimationEnd"),ri(jg,"onAnimationIteration"),ri(Bg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(KA,"onTransitionRun"),ri(QA,"onTransitionStart"),ri(YA,"onTransitionCancel"),ri(qg,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function ev(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],I=b.instance,U=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=U;try{d(f)}catch(W){Cc(W)}f.currentTarget=null,d=I}else for(E=0;E<u.length;E++){if(b=u[E],I=b.instance,U=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=U;try{d(f)}catch(W){Cc(W)}f.currentTarget=null,d=I}}}}function Qe(n,r){var a=r[Ns];a===void 0&&(a=r[Ns]=new Set);var u=n+"__bubble";a.has(u)||(tv(r,n,2,!1),a.add(u))}function im(n,r,a){var u=0;r&&(u|=4),tv(a,n,u,r)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[Bc]){n[Bc]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(xS.has(a)||im(a,!1,n),im(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Bc]||(r[Bc]=!0,im("selectionchange",!1,r))}}function tv(n,r,a,u){switch(Sv(r)){case 2:var f=iw;break;case 8:f=rw;break;default:f=ym}a=f.bind(null,r,a,n),f=void 0,!Ln||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function sm(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;E=E.return}for(;b!==null;){if(E=ii(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=d=E;continue e}b=b.parentNode}}u=u.return}Ku(function(){var U=d,W=Pa(a),ie=[];e:{var G=Hg.get(n);if(G!==void 0){var X=La,Se=n;switch(n){case"keypress":if(Ei(a)===0)break e;case"keydown":case"keyup":X=qa;break;case"focusin":Se="focus",X=Fa;break;case"focusout":Se="blur",X=Fa;break;case"beforeblur":case"afterblur":X=Fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=tc;break;case Fg:case jg:case Bg:X=ja;break;case qg:X=ic;break;case"scroll":case"scrollend":X=Qu;break;case"wheel":X=Ha;break;case"copy":case"cut":case"paste":X=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=hl;break;case"toggle":case"beforetoggle":X=sc}var Ne=(r&4)!==0,At=!Ne&&(n==="scroll"||n==="scrollend"),F=Ne?G!==null?G+"Capture":null:G;Ne=[];for(var P=U,q;P!==null;){var ee=P;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||F===null||(ee=Ls(P,F),ee!=null&&Ne.push(Bl(P,ee,q))),At)break;P=P.return}0<Ne.length&&(G=new X(G,Se,null,a,W),ie.push({event:G,listeners:Ne}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",G&&a!==Pn&&(Se=a.relatedTarget||a.fromElement)&&(ii(Se)||Se[Ki]))break e;if((X||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,X?(Se=a.relatedTarget||a.toElement,X=U,Se=Se?ii(Se):null,Se!==null&&(At=Ae(Se),Ne=Se.tag,Se!==At||Ne!==5&&Ne!==27&&Ne!==6)&&(Se=null)):(X=null,Se=U),X!==Se)){if(Ne=Un,ee="onMouseLeave",F="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=hl,ee="onPointerLeave",F="onPointerEnter",P="pointer"),At=X==null?G:Ur(X),q=Se==null?G:Ur(Se),G=new Ne(ee,P+"leave",X,a,W),G.target=At,G.relatedTarget=q,ee=null,ii(W)===U&&(Ne=new Ne(F,P+"enter",Se,a,W),Ne.target=q,Ne.relatedTarget=At,ee=Ne),At=ee,X&&Se)t:{for(Ne=X,F=Se,P=0,q=Ne;q;q=mo(q))P++;for(q=0,ee=F;ee;ee=mo(ee))q++;for(;0<P-q;)Ne=mo(Ne),P--;for(;0<q-P;)F=mo(F),q--;for(;P--;){if(Ne===F||F!==null&&Ne===F.alternate)break t;Ne=mo(Ne),F=mo(F)}Ne=null}else Ne=null;X!==null&&nv(ie,G,X,Ne,!1),Se!==null&&At!==null&&nv(ie,At,Se,Ne,!0)}}e:{if(G=U?Ur(U):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var ve=Dg;else if(Pt(G))if(Og)ve=qA;else{ve=jA;var Fe=FA}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&rl(U.elementType)&&(ve=Dg):ve=BA;if(ve&&(ve=ve(n,U))){tr(ie,ve,a,W);break e}Fe&&Fe(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&ka(G,"number",G.value)}switch(Fe=U?Ur(U):window,n){case"focusin":(Pt(Fe)||Fe.contentEditable==="true")&&($a=Fe,Pf=U,ml=null);break;case"focusout":ml=Pf=$a=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Ug(ie,a,W);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":Ug(ie,a,W)}var we;if(Ai)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Xe?Q(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(v&&a.locale!=="ko"&&(Xe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Xe&&(we=al()):(vi=W,Hr="value"in vi?vi.value:vi.textContent,Xe=!0)),Fe=qc(U,Ce),0<Fe.length&&(Ce=new ul(Ce,n,null,a,W),ie.push({event:Ce,listeners:Fe}),we?Ce.data=we:(we=le(a),we!==null&&(Ce.data=we)))),(we=y?kt(n,a):Ze(n,a))&&(Ce=qc(U,"onBeforeInput"),0<Ce.length&&(Fe=new ul("onBeforeInput","beforeinput",null,a,W),ie.push({event:Fe,listeners:Ce}),Fe.data=we)),IS(ie,n,U,a,W)}ev(ie,r)})}function Bl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function qc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ls(n,a),f!=null&&u.unshift(Bl(n,f,d)),f=Ls(n,r),f!=null&&u.push(Bl(n,f,d))),n=n.return}return u}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function nv(n,r,a,u,f){for(var d=r._reactName,E=[];a!==null&&a!==u;){var b=a,I=b.alternate,U=b.stateNode;if(b=b.tag,I!==null&&I===u)break;b!==5&&b!==26&&b!==27||U===null||(I=U,f?(U=Ls(a,d),U!=null&&E.unshift(Bl(a,U,I))):f||(U=Ls(a,d),U!=null&&E.push(Bl(a,U,I)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var NS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function iv(n){return(typeof n=="string"?n:""+n).replace(NS,`
`).replace(VS,"")}function rv(n,r){return r=iv(r),iv(n)===r}function Hc(){}function ot(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||kn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&kn(n,""+u);break;case"className":jr(n,"class",u);break;case"tabIndex":jr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(n,a,u);break;case"style":Gu(n,u,d);break;case"data":if(r!=="object"){jr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=_i(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ot(n,r,"name",f.name,f,null),ot(n,r,"formEncType",f.formEncType,f,null),ot(n,r,"formMethod",f.formMethod,f,null),ot(n,r,"formTarget",f.formTarget,f,null)):(ot(n,r,"encType",f.encType,f,null),ot(n,r,"method",f.method,f,null),ot(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=_i(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"onScroll":u!=null&&Qe("scroll",n);break;case"onScrollEnd":u!=null&&Qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=_i(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Qe("beforetoggle",n),Qe("toggle",n),Fr(n,"popover",u);break;case"xlinkActuate":Mn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,Fr(n,a,u))}}function am(n,r,a,u,f,d){switch(a){case"style":Gu(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?kn(n,u):(typeof u=="number"||typeof u=="bigint")&&kn(n,""+u);break;case"onScroll":u!=null&&Qe("scroll",n);break;case"onScrollEnd":u!=null&&Qe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Fr(n,a,u)}}}function tn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",n),Qe("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(n,r,d,E,a,null)}}f&&ot(n,r,"srcSet",a.srcSet,a,null),u&&ot(n,r,"src",a.src,a,null);return;case"input":Qe("invalid",n);var b=d=E=f=null,I=null,U=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":I=W;break;case"defaultChecked":U=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ot(n,r,u,W,a,null)}}ks(n,d,b,I,U,E,f,!1),Ms(n);return;case"select":Qe("invalid",n),u=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:ot(n,r,f,b,a,null)}r=d,a=E,n.multiple=!!u,r!=null?et(n,!!u,r,!1):a!=null&&et(n,!!u,a,!0);return;case"textarea":Qe("invalid",n),d=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ot(n,r,E,b,a,null)}qr(n,u,f,d),Ms(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(u=a[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(n,r,I,u,a,null)}return;case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":Qe("load",n);break;case"video":case"audio":for(u=0;u<jl.length;u++)Qe(jl[u],n);break;case"image":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"embed":case"source":case"link":Qe("error",n),Qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(n,r,U,u,a,null)}return;default:if(rl(r)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&am(n,r,W,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&ot(n,r,b,u,a,null))}function MS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,I=null,U=null,W=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=ie;default:u.hasOwnProperty(X)||ot(n,r,X,null,u,ie)}}for(var G in u){var X=u[G];if(ie=a[G],u.hasOwnProperty(G)&&(X!=null||ie!=null))switch(G){case"type":d=X;break;case"name":f=X;break;case"checked":U=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&ot(n,r,G,X,u,ie)}}Br(n,E,b,I,U,W,d,f);return;case"select":X=E=b=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:u.hasOwnProperty(d)||ot(n,r,d,null,u,I)}for(f in u)if(d=u[f],I=a[f],u.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==I&&ot(n,r,f,d,u,I)}r=b,a=E,u=X,G!=null?et(n,!!a,G,!1):!!u!=!!a&&(r!=null?et(n,!!a,r,!0):et(n,!!a,a?[]:"",!1));return;case"textarea":X=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ot(n,r,b,null,u,f)}for(E in u)if(f=u[E],d=a[E],u.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ot(n,r,E,f,u,d)}Ps(n,G,X);return;case"option":for(var Se in a)if(G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:ot(n,r,Se,null,u,G)}for(I in u)if(G=u[I],X=a[I],u.hasOwnProperty(I)&&G!==X&&(G!=null||X!=null))switch(I){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ot(n,r,I,G,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)G=a[Ne],a.hasOwnProperty(Ne)&&G!=null&&!u.hasOwnProperty(Ne)&&ot(n,r,Ne,null,u,G);for(U in u)if(G=u[U],X=a[U],u.hasOwnProperty(U)&&G!==X&&(G!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ot(n,r,U,G,u,X)}return;default:if(rl(r)){for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!==void 0&&!u.hasOwnProperty(At)&&am(n,r,At,void 0,u,G);for(W in u)G=u[W],X=a[W],!u.hasOwnProperty(W)||G===X||G===void 0&&X===void 0||am(n,r,W,G,u,X);return}}for(var F in a)G=a[F],a.hasOwnProperty(F)&&G!=null&&!u.hasOwnProperty(F)&&ot(n,r,F,null,u,G);for(ie in u)G=u[ie],X=a[ie],!u.hasOwnProperty(ie)||G===X||G==null&&X==null||ot(n,r,ie,G,u,X)}var om=null,lm=null;function $c(n){return n.nodeType===9?n:n.ownerDocument}function sv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function um(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function kS(){var n=window.event;return n&&n.type==="popstate"?n===cm?!1:(cm=n,!0):(cm=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(n){return lv.resolve(null).then(n).catch(US)}:ov;function US(n){setTimeout(function(){throw n})}function hm(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Xl(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Xl(r)}function fm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function zS(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Lr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function FS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=oi(n.nextSibling),n===null))return null;return n}function oi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function uv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function cv(n,r,a){switch(r=$c(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Qn=new Map,hv=new Set;function Gc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var gr=fe.d;fe.d={f:jS,r:BS,D:qS,C:HS,L:$S,m:GS,X:QS,S:KS,M:YS};function jS(){var n=gr.f(),r=Uc();return n||r}function BS(n){var r=Qi(n);r!==null&&r.tag===5&&r.type==="form"?Uy(r):gr.r(n)}var po=typeof document>"u"?null:document;function fv(n,r,a){var u=po;if(u&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),hv.has(f)||(hv.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),tn(r,"link",n),pt(r),u.head.appendChild(r)))}}function qS(n){gr.D(n),fv("dns-prefetch",n,null)}function HS(n,r){gr.C(n,r),fv("preconnect",n,r)}function $S(n,r,a){gr.L(n,r,a);var u=po;if(u&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var d=f;switch(r){case"style":d=go(n);break;case"script":d=yo(n)}Qn.has(d)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Qn.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(ql(d))||r==="script"&&u.querySelector(Hl(d))||(r=u.createElement("link"),tn(r,"link",n),pt(r),u.head.appendChild(r)))}}function GS(n,r){gr.m(n,r);var a=po;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(n)}if(!Qn.has(d)&&(n=D({rel:"modulepreload",href:n},r),Qn.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(d)))return}u=a.createElement("link"),tn(u,"link",n),pt(u),a.head.appendChild(u)}}}function KS(n,r,a){gr.S(n,r,a);var u=po;if(u&&n){var f=zr(u).hoistableStyles,d=go(n);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(ql(d)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Qn.get(d))&&dm(n,a);var I=E=u.createElement("link");pt(I),tn(I,"link",n),I._p=new Promise(function(U,W){I.onload=U,I.onerror=W}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Kc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function QS(n,r){gr.X(n,r);var a=po;if(a&&n){var u=zr(a).hoistableScripts,f=yo(n),d=u.get(f);d||(d=a.querySelector(Hl(f)),d||(n=D({src:n,async:!0},r),(r=Qn.get(f))&&mm(n,r),d=a.createElement("script"),pt(d),tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function YS(n,r){gr.M(n,r);var a=po;if(a&&n){var u=zr(a).hoistableScripts,f=yo(n),d=u.get(f);d||(d=a.querySelector(Hl(f)),d||(n=D({src:n,async:!0,type:"module"},r),(r=Qn.get(f))&&mm(n,r),d=a.createElement("script"),pt(d),tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function dv(n,r,a,u){var f=(f=fn.current)?Gc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=go(a.href),a=zr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var d=zr(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(ql(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),d||XS(f,n,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(a),a=zr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function go(n){return'href="'+Et(n)+'"'}function ql(n){return'link[rel="stylesheet"]['+n+"]"}function mv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function XS(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",a),pt(r),n.head.appendChild(r))}function yo(n){return'[src="'+Et(n)+'"]'}function Hl(n){return"script[async]"+n}function pv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),tn(u,"style",f),Kc(u,a.precedence,n),r.instance=u;case"stylesheet":f=go(a.href);var d=n.querySelector(ql(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;u=mv(a),(f=Qn.get(f))&&dm(u,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),tn(d,"link",u),r.state.loading|=4,Kc(d,a.precedence,n),r.instance=d;case"script":return d=yo(a.src),(f=n.querySelector(Hl(d)))?(r.instance=f,pt(f),f):(u=a,(f=Qn.get(d))&&(u=D({},a),mm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),tn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Kc(u,a.precedence,n));return r.instance}function Kc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Qc=null;function gv(n,r,a){if(Qc===null){var u=new Map,f=Qc=new Map;f.set(a,u)}else f=Qc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Lr]||d[$t]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(d):u.set(E,[d])}}return u}function yv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function ZS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $l=null;function WS(){}function JS(n,r,a){if($l===null)throw Error(s(475));var u=$l;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=go(a.href),d=n.querySelector(ql(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Yc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=mv(a),(f=Qn.get(f))&&dm(a,f),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),tn(d,"link",a),r.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Yc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function ew(){if($l===null)throw Error(s(475));var n=$l;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function pm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,r.forEach(tw,n),Xc=null,Yc.call(n))}function tw(n,r){if(!(r.state.loading&4)){var a=Xc.get(n);if(a)var u=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||u,d===u&&a.set(null,f),a.set(E,f),this.count++,u=Yc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Gl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function nw(n,r,a,u,f,d,E,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function vv(n,r,a,u,f,d,E,b,I,U,W,ie){return n=new nw(n,r,a,E,b,I,U,ie),r=1,d===!0&&(r|=24),d=Gn(3,null,null,r),n.current=d,d.stateNode=n,r=Kf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Cd(d),n}function Ev(n){return n?(n=Qa,n):Qa}function Tv(n,r,a,u,f,d){f=Ev(f),u.context===null?u.context=f:u.pendingContext=f,u=Wr(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Jr(n,u,r),a!==null&&(yn(a,n,r),Dl(a,n,r))}function bv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gm(n,r){bv(n,r),(n=n.alternate)&&bv(n,r)}function Av(n){if(n.tag===13){var r=$r(n,67108864);r!==null&&yn(r,n,67108864),gm(n,67108864)}}var Zc=!0;function iw(n,r,a,u){var f=S.T;S.T=null;var d=fe.p;try{fe.p=2,ym(n,r,a,u)}finally{fe.p=d,S.T=f}}function rw(n,r,a,u){var f=S.T;S.T=null;var d=fe.p;try{fe.p=8,ym(n,r,a,u)}finally{fe.p=d,S.T=f}}function ym(n,r,a,u){if(Zc){var f=_m(u);if(f===null)sm(n,r,u,Wc,a),wv(n,u);else if(aw(f,n,r,a,u))u.stopPropagation();else if(wv(n,u),r&4&&-1<sw.indexOf(n)){for(;f!==null;){var d=Qi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=ni(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-dn(E);b.entanglements[1]|=I,E&=~I}Di(d),(yt&6)===0&&(kc=_e()+500,Fl(0))}}break;case 13:b=$r(d,2),b!==null&&yn(b,d,2),Uc(),gm(d,2)}if(d=_m(u),d===null&&sm(n,r,u,Wc,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else sm(n,r,u,null,a)}}function _m(n){return n=Pa(n),vm(n)}var Wc=null;function vm(n){if(Wc=null,n=ii(n),n!==null){var r=Ae(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=He(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Wc=n,null}function Sv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case ze:return 2;case Be:return 8;case qt:case Da:return 32;case $i:return 268435456;default:return 32}default:return 32}}var Em=!1,as=null,os=null,ls=null,Kl=new Map,Ql=new Map,us=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(n,r){switch(n){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function Yl(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Qi(r),r!==null&&Av(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function aw(n,r,a,u,f){switch(r){case"focusin":return as=Yl(as,n,r,a,u,f),!0;case"dragenter":return os=Yl(os,n,r,a,u,f),!0;case"mouseover":return ls=Yl(ls,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Kl.set(d,Yl(Kl.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Yl(Ql.get(d)||null,n,r,a,u,f)),!0}return!1}function Rv(n){var r=ii(n.target);if(r!==null){var a=Ae(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){n.blockedOn=r,Pr(n.priority,function(){if(a.tag===13){var u=Nn(),f=$r(a,u);f!==null&&yn(f,a,u),gm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=_m(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Pn=u,a.target.dispatchEvent(u),Pn=null}else return r=Qi(a),r!==null&&Av(r),n.blockedOn=a,!1;r.shift()}return!0}function Cv(n,r,a){Jc(n)&&a.delete(r)}function ow(){Em=!1,as!==null&&Jc(as)&&(as=null),os!==null&&Jc(os)&&(os=null),ls!==null&&Jc(ls)&&(ls=null),Kl.forEach(Cv),Ql.forEach(Cv)}function eh(n,r){n.blockedOn===r&&(n.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ow)))}var th=null;function Iv(n){th!==n&&(th=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===n&&(th=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(vm(u||a)===null)continue;break}var d=Qi(a);d!==null&&(n.splice(r,3),r-=3,ud(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Xl(n){function r(I){return eh(I,n)}as!==null&&eh(as,n),os!==null&&eh(os,n),ls!==null&&eh(ls,n),Kl.forEach(r),Ql.forEach(r);for(var a=0;a<us.length;a++){var u=us[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)Rv(a),a.blockedOn===null&&us.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],E=f[Mt]||null;if(typeof d=="function")E||Iv(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Mt]||null)b=E.formAction;else if(vm(f)!==null)continue}else b=E.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),Iv(a)}}}function Tm(n){this._internalRoot=n}nh.prototype.render=Tm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Nn();Tv(a,u,n,r,null,null)},nh.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&ho(),Tv(n.current,2,null,n,null,null),Uc(),r[Ki]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var r=qu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<us.length&&r!==0&&r<us[a].priority;a++);us.splice(a,0,n),a===0&&Rv(n)}};var Dv=e.version;if(Dv!=="19.0.0")throw Error(s(527,Dv,"19.0.0"));fe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=se(r),n=n!==null?be(n):null,n=n===null?null:n.stateNode,n};var lw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:ii,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ti=ih.inject(lw),Ht=ih}catch{}}return Wl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Gy,d=Ky,E=Qy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=vv(n,1,!1,null,null,a,u,f,d,E,b,null),n[Ki]=r.current,rm(n.nodeType===8?n.parentNode:n),new Tm(r)},Wl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=Gy,E=Ky,b=Qy,I=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=vv(n,1,!0,r,a??null,u,f,d,E,b,I,U),r.context=Ev(null),a=r.current,u=Nn(),f=Wr(u),f.callback=null,Jr(a,f,u),r.current.lanes=u,St(r,u),Di(r),n[Ki]=r.current,rm(n),new nh(r)},Wl.version="19.0.0",Wl}var zv;function _w(){if(zv)return Sm.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=yw(),Sm.exports}var vw=_w(),Jl={},Fv;function Ew(){if(Fv)return Jl;Fv=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=h,Jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,O){const L=new l,$=w.length;if($<2)return L;const j=(O==null?void 0:O.decode)||_;let z=0;do{const K=w.indexOf("=",z);if(K===-1)break;const J=w.indexOf(";",z),de=J===-1?$:J;if(K>de){z=w.lastIndexOf(";",K-1)+1;continue}const re=m(w,z,K),pe=p(w,K,re),M=w.slice(re,pe);if(L[M]===void 0){let R=m(w,K+1,de),S=p(w,de,R);const D=j(w.slice(R,S));L[M]=D}z=de+1}while(z<$);return L}function m(w,O,L){do{const $=w.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<L);return L}function p(w,O,L){for(;O>L;){const $=w.charCodeAt(--O);if($!==32&&$!==9)return O+1}return L}function g(w,O,L){const $=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=$(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let z=w+"="+j;if(!L)return z;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);z+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);z+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);z+="; Path="+L.path}if(L.expires){if(!T(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);z+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(z+="; HttpOnly"),L.secure&&(z+="; Secure"),L.partitioned&&(z+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return z}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return Jl}Ew();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jv="popstate";function Tw(i={}){function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return Km("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:fu(o)}return Aw(e,t,null,i)}function _t(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bw(){return Math.random().toString(36).substring(2,10)}function Bv(i,e){return{usr:i.state,key:i.key,idx:e}}function Km(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||s||bw()}}function fu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function jo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Aw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let j=_(),z=j==null?null:j-g;g=j,p&&p({action:m,location:$.location,delta:z})}function w(j,z){m="PUSH";let K=Km($.location,j,z);g=_()+1;let J=Bv(K,g),de=$.createHref(K);try{h.pushState(J,"",de)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(de)}l&&p&&p({action:m,location:$.location,delta:1})}function O(j,z){m="REPLACE";let K=Km($.location,j,z);g=_();let J=Bv(K,g),de=$.createHref(K);h.replaceState(J,"",de),l&&p&&p({action:m,location:$.location,delta:0})}function L(j){let z=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof j=="string"?j:fu(j);return K=K.replace(/ $/,"%20"),_t(z,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,z)}let $={get action(){return m},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,T),p=j,()=>{o.removeEventListener(jv,T),p=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let z=L(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:O,go(j){return h.go(j)}};return $}function zE(i,e,t="/"){return Sw(i,e,t,!1)}function Sw(i,e,t,s){let o=typeof e=="string"?jo(e):e,l=Ss(o.pathname||"/",t);if(l==null)return null;let h=FE(i);ww(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Pw(l);m=Mw(h[p],g,s)}return m}function FE(i,e=[],t=[],s=""){let o=(l,h,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ar([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FE(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Nw(g,l.index),routesMeta:_})};return i.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let p of jE(l.path))o(l,h,p)}),e}function jE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=jE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ww(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Vw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Rw=/^:[\w-]+$/,Cw=3,Iw=2,Dw=1,Ow=10,xw=-2,qv=i=>i==="*";function Nw(i,e){let t=i.split("/"),s=t.length;return t.some(qv)&&(s+=xw),e&&(s+=Iw),t.filter(o=>!qv(o)).reduce((o,l)=>o+(Rw.test(l)?Cw:l===""?Dw:Ow),s)}function Vw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Mw(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ar([l,T.pathname]),pathnameBase:Fw(Ar([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Ar([l,T.pathnameBase]))}return h}function xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=kw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let L=m[w]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[w];return T&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function kw(i,e=!1,t=!0){zi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Pw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ss(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Lw(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?jo(i):i;return{pathname:t?t.startsWith("/")?t:Uw(t,e):e,search:jw(s),hash:Bw(o)}}function Uw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Im(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function BE(i){let e=zw(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qE(i,e,t,s=!1){let o;typeof i=="string"?o=jo(i):(o={...i},_t(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Lw(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ar=i=>i.join("/").replace(/\/\/+/g,"/"),Fw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function qw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var Hw=["GET",...HE];new Set(Hw);var Bo=Z.createContext(null);Bo.displayName="DataRouter";var nf=Z.createContext(null);nf.displayName="DataRouterState";var $E=Z.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var $w=Z.createContext(new Map);$w.displayName="Fetchers";var Gw=Z.createContext(null);Gw.displayName="Await";var qi=Z.createContext(null);qi.displayName="Navigation";var Su=Z.createContext(null);Su.displayName="Location";var Ir=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var wp=Z.createContext(null);wp.displayName="RouteError";function Kw(i,{relative:e}={}){_t(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Z.useContext(qi),{hash:o,pathname:l,search:h}=Ru(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Ar([t,l])),s.createHref({pathname:m,search:h,hash:o})}function wu(){return Z.useContext(Su)!=null}function ba(){return _t(wu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Su).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(i){Z.useContext(qi).static||Z.useLayoutEffect(i)}function rf(){let{isDataRoute:i}=Z.useContext(Ir);return i?aR():Qw()}function Qw(){_t(wu(),"useNavigate() may be used only in the context of a <Router> component.");let i=Z.useContext(Bo),{basename:e,navigator:t}=Z.useContext(qi),{matches:s}=Z.useContext(Ir),{pathname:o}=ba(),l=JSON.stringify(BE(s)),h=Z.useRef(!1);return KE(()=>{h.current=!0}),Z.useCallback((p,g={})=>{if(zi(h.current,GE),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=qE(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ar([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,i])}Z.createContext(null);function Ru(i,{relative:e}={}){let{matches:t}=Z.useContext(Ir),{pathname:s}=ba(),o=JSON.stringify(BE(t));return Z.useMemo(()=>qE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Yw(i,e){return QE(i,e)}function QE(i,e,t,s){var K;_t(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=Z.useContext(qi),{matches:h}=Z.useContext(Ir),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";YE(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=ba(),O;if(e){let J=typeof e=="string"?jo(e):e;_t(_==="/"||((K=J.pathname)==null?void 0:K.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=w;let L=O.pathname||"/",$=L;if(_!=="/"){let J=_.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:zE(i,{pathname:$});zi(T||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),zi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=eR(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Ar([_,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:Ar([_,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,s);return e&&z?Z.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},z):z}function Xw(){let i=sR(),e=qw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:l},"ErrorBoundary")," or"," ",Z.createElement("code",{style:l},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,h)}var Zw=Z.createElement(Xw,null),Ww=class extends Z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Z.createElement(Ir.Provider,{value:this.props.routeContext},Z.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jw({routeContext:i,match:e,children:t}){let s=Z.useContext(Bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ir.Provider,{value:i},t)}function eR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:T}=t,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let T,w=!1,O=null,L=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||Zw,h&&(m<0&&_===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):m===_&&(w=!0,L=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,_+1)),j=()=>{let z;return T?z=O:w?z=L:g.route.Component?z=Z.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,Z.createElement(Jw,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Z.createElement(Ww,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(i){let e=Z.useContext(Bo);return _t(e,Rp(i)),e}function nR(i){let e=Z.useContext(nf);return _t(e,Rp(i)),e}function iR(i){let e=Z.useContext(Ir);return _t(e,Rp(i)),e}function Cp(i){let e=iR(i),t=e.matches[e.matches.length-1];return _t(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function rR(){return Cp("useRouteId")}function sR(){var s;let i=Z.useContext(wp),e=nR("useRouteError"),t=Cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function aR(){let{router:i}=tR("useNavigate"),e=Cp("useNavigate"),t=Z.useRef(!1);return KE(()=>{t.current=!0}),Z.useCallback(async(o,l={})=>{zi(t.current,GE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Hv={};function YE(i,e,t){!e&&!Hv[i]&&(Hv[i]=!0,zi(!1,t))}Z.memo(oR);function oR({routes:i,future:e,state:t}){return QE(i,void 0,t,e)}function Eo(i){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){_t(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=jo(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=t,O=Z.useMemo(()=>{let L=Ss(p,h);return L==null?null:{location:{pathname:L,search:g,hash:_,state:T,key:w},navigationType:s}},[h,p,g,_,T,w,s]);return zi(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Z.createElement(qi.Provider,{value:m},Z.createElement(Su.Provider,{children:e,value:O}))}function uR({children:i,location:e}){return Yw(Qm(i),e)}function Qm(i,e=[]){let t=[];return Z.Children.forEach(i,(s,o)=>{if(!Z.isValidElement(s))return;let l=[...e,o];if(s.type===Z.Fragment){t.push.apply(t,Qm(s.props.children,l));return}_t(s.type===Eo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,l)),t.push(h)}),t}var mh="get",ph="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function cR(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function hR(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function fR(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function dR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mR(i,e){return i.button===0&&(!e||e==="_self")&&!dR(i)}var rh=null;function pR(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var gR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!gR.has(i)?(zi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):i}function yR(i,e){let t,s,o,l,h;if(hR(i)){let m=i.getAttribute("action");s=m?Ss(m,e):null,t=i.getAttribute("method")||mh,o=Dm(i.getAttribute("enctype"))||ph,l=new FormData(i)}else if(cR(i)||fR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ss(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||ph,l=new FormData(m,i),!pR()){let{name:g,type:_,value:T}=i;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mh,s=null,o=ph,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Ip(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function _R(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ER(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await _R(l,t);return h.links?h.links():[]}return[]}));return SR(s.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(i,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function TR(i,e,{includeHydrateFallback:t}={}){return bR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function bR(i){return[...new Set(i)]}function AR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function SR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(AR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function wR(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function RR(){let i=Z.useContext(Bo);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function CR(){let i=Z.useContext(nf);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=Z.createContext(void 0);Dp.displayName="FrameworkContext";function XE(){let i=Z.useContext(Dp);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function IR(i,e){let t=Z.useContext(Dp),[s,o]=Z.useState(!1),[l,h]=Z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=Z.useRef(null);Z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=z=>{z.forEach(K=>{h(K.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[i]),Z.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:eu(m,O),onBlur:eu(p,L),onMouseEnter:eu(g,O),onMouseLeave:eu(_,L),onTouchStart:eu(T,O)}]:[!1,w,{}]}function eu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function DR({page:i,...e}){let{router:t}=RR(),s=Z.useMemo(()=>zE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?Z.createElement(xR,{page:i,matches:s,...e}):null}function OR(i){let{manifest:e,routeModules:t}=XE(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let l=!1;return ER(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function xR({page:i,matches:e,...t}){let s=ba(),{manifest:o,routeModules:l}=XE(),{loaderData:h,matches:m}=CR(),p=Z.useMemo(()=>$v(i,e,m,o,s,"data"),[i,e,m,o,s]),g=Z.useMemo(()=>$v(i,e,m,o,s,"assets"),[i,e,m,o,s]),_=Z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,L=!1;if(e.forEach(j=>{var K;let z=o.routes[j.route.id];!z||!z.hasLoader||(!p.some(J=>J.route.id===j.route.id)&&j.route.id in h&&((K=l[j.route.id])!=null&&K.shouldRevalidate)||z.hasClientLoader?L=!0:O.add(j.route.id))}),O.size===0)return[];let $=wR(i);return L&&O.size>0&&$.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[h,s,o,p,e,i,l]),T=Z.useMemo(()=>TR(g,o),[g,o]),w=OR(g);return Z.createElement(Z.Fragment,null,_.map(O=>Z.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>Z.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),w.map(({key:O,link:L})=>Z.createElement("link",{key:O,...L})))}function NR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.2.0")}catch{}function VR({basename:i,children:e,window:t}){let s=Z.useRef();s.current==null&&(s.current=Tw({window:t,v5Compat:!0}));let o=s.current,[l,h]=Z.useState({action:o.action,location:o.location}),m=Z.useCallback(p=>{Z.startTransition(()=>h(p))},[h]);return Z.useLayoutEffect(()=>o.listen(m),[o,m]),Z.createElement(lR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wo=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},O){let{basename:L}=Z.useContext(qi),$=typeof g=="string"&&WE.test(g),j,z=!1;if(typeof g=="string"&&$&&(j=g,ZE))try{let S=new URL(window.location.href),D=g.startsWith("//")?new URL(S.protocol+g):new URL(g),x=Ss(D.pathname,L);D.origin===S.origin&&x!=null?g=x+D.search+D.hash:z=!0}catch{zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Kw(g,{relative:o}),[J,de,re]=IR(s,w),pe=LR(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function M(S){e&&e(S),S.defaultPrevented||pe(S)}let R=Z.createElement("a",{...w,...re,href:j||K,onClick:z||l?e:M,ref:NR(O,de),target:p,"data-discover":!$&&t==="render"?"true":void 0});return J&&!$?Z.createElement(Z.Fragment,null,R,Z.createElement(DR,{page:K})):R});wo.displayName="Link";var MR=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:m,children:p,...g},_){let T=Ru(h,{relative:g.relative}),w=ba(),O=Z.useContext(nf),{navigator:L,basename:$}=Z.useContext(qi),j=O!=null&&BR(T)&&m===!0,z=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,K=w.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(K=K.toLowerCase(),J=J?J.toLowerCase():null,z=z.toLowerCase()),J&&$&&(J=Ss(J,$)||J);const de=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=K===z||!o&&K.startsWith(z)&&K.charAt(de)==="/",pe=J!=null&&(J===z||!o&&J.startsWith(z)&&J.charAt(z.length)==="/"),M={isActive:re,isPending:pe,isTransitioning:j},R=re?e:void 0,S;typeof s=="function"?S=s(M):S=[s,re?"active":null,pe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return Z.createElement(wo,{...g,"aria-current":R,className:S,ref:_,style:D,to:h,viewTransition:m},typeof p=="function"?p(M):p)});MR.displayName="NavLink";var kR=Z.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=mh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},O)=>{let L=FR(),$=jR(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&WE.test(m),K=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let de=J.nativeEvent.submitter,re=(de==null?void 0:de.getAttribute("formmethod"))||h;L(de||J.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return Z.createElement("form",{ref:O,method:j,action:$,onSubmit:s?p:K,...w,"data-discover":!z&&i==="render"?"true":void 0})});kR.displayName="Form";function PR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(i){let e=Z.useContext(Bo);return _t(e,PR(i)),e}function LR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let m=rf(),p=ba(),g=Ru(i,{relative:l});return Z.useCallback(_=>{if(mR(_,e)){_.preventDefault();let T=t!==void 0?t:fu(p)===fu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,m,g,t,s,e,i,o,l,h])}var UR=0,zR=()=>`__${String(++UR)}__`;function FR(){let{router:i}=JE("useSubmit"),{basename:e}=Z.useContext(qi),t=rR();return Z.useCallback(async(s,o={})=>{let{action:l,method:h,encType:m,formData:p,body:g}=yR(s,e);if(o.navigate===!1){let _=o.fetcherKey||zR();await i.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function jR(i,{relative:e}={}){let{basename:t}=Z.useContext(qi),s=Z.useContext(Ir);_t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ru(i||".",{relative:e})},h=ba();if(i==null){l.search=h.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ar([t,l.pathname])),fu(l)}function BR(i,e={}){let t=Z.useContext($E);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),o=Ru(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ss(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ss(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xh(o.pathname,h)!=null||xh(o.pathname,l)!=null}new TextEncoder;const qR=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},HR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(w=64)),s.push(t[_],t[T],t[w],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(eT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new $R;const w=l<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(i){const e=eT(i);return tT.encodeByteArray(e,!0)},Nh=function(i){return GR(i).replace(/\./g,"")},nT=function(i){try{return tT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=()=>KR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nT(i[1]);return e&&JSON.parse(e)},af=()=>{try{return qR()||QR()||YR()||XR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iT=i=>{var e,t;return(t=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},ZR=i=>{const e=iT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},rT=()=>{var i;return(i=af())===null||i===void 0?void 0:i.config},sT=i=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Nh(JSON.stringify(t)),Nh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function t1(){var i;const e=(i=af())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function r1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s1(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function a1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FirebaseError";class Dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=u1,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?c1(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Dr(o,m,s)}}function c1(i,e){return i.replace(h1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const h1=/\{\$([^}]+)}/g;function f1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ga(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(Kv(l)&&Kv(h)){if(!ga(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function d1(i,e){const t=new m1(i,e);return t.subscribe.bind(t)}class m1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");p1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(i){return i&&i._delegate?i._delegate:i}class ya{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(i){return i===la?void 0:i}function _1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new g1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const E1={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},T1=Ge.INFO,b1={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},A1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=b1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const S1=(i,e)=>e.some(t=>i instanceof t);let Qv,Yv;function w1(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,Ym=new WeakMap,oT=new WeakMap,xm=new WeakMap,xp=new WeakMap;function C1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(ys(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&aT.set(t,i)}).catch(()=>{}),xp.set(e,i),e}function I1(i){if(Ym.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Ym.set(i,e)}let Xm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function D1(i){Xm=i(Xm)}function O1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Nm(this),e,...t);return oT.set(s,e.sort?e.sort():[e]),ys(s)}:R1().includes(i)?function(...e){return i.apply(Nm(this),e),ys(aT.get(this))}:function(...e){return ys(i.apply(Nm(this),e))}}function x1(i){return typeof i=="function"?O1(i):(i instanceof IDBTransaction&&I1(i),S1(i,w1())?new Proxy(i,Xm):i)}function ys(i){if(i instanceof IDBRequest)return C1(i);if(xm.has(i))return xm.get(i);const e=x1(i);return e!==i&&(xm.set(i,e),xp.set(e,i)),e}const Nm=i=>xp.get(i);function N1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=ys(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ys(h.result),p.oldVersion,p.newVersion,ys(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const V1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Vm=new Map;function Xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=M1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||V1.includes(t)))return;const l=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Vm.set(e,l),l}D1(i=>({...i,get:(e,t,s)=>Xv(e,t)||i.get(e,t,s),has:(e,t)=>!!Xv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(P1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function P1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",Zv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Op("@firebase/app"),L1="@firebase/app-compat",U1="@firebase/analytics-compat",z1="@firebase/analytics",F1="@firebase/app-check-compat",j1="@firebase/app-check",B1="@firebase/auth",q1="@firebase/auth-compat",H1="@firebase/database",$1="@firebase/data-connect",G1="@firebase/database-compat",K1="@firebase/functions",Q1="@firebase/functions-compat",Y1="@firebase/installations",X1="@firebase/installations-compat",Z1="@firebase/messaging",W1="@firebase/messaging-compat",J1="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/vertexai",oC="@firebase/firestore-compat",lC="firebase",uC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",cC={[Zm]:"fire-core",[L1]:"fire-core-compat",[z1]:"fire-analytics",[U1]:"fire-analytics-compat",[j1]:"fire-app-check",[F1]:"fire-app-check-compat",[B1]:"fire-auth",[q1]:"fire-auth-compat",[H1]:"fire-rtdb",[$1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[K1]:"fire-fn",[Q1]:"fire-fn-compat",[Y1]:"fire-iid",[X1]:"fire-iid-compat",[Z1]:"fire-fcm",[W1]:"fire-fcm-compat",[J1]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,hC=new Map,Jm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function No(i){const e=i.name;if(Jm.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,i);for(const t of Vh.values())Wv(t,i);for(const t of hC.values())Wv(t,i);return!0}function Np(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function li(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Cu("app","Firebase",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=uC;function lT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=rT()),!t)throw _s.create("no-options");const l=Vh.get(o);if(l){if(ga(t,l.options)&&ga(s,l.config))return l;throw _s.create("duplicate-app",{appName:o})}const h=new v1(o);for(const p of Jm.values())h.addComponent(p);const m=new dC(t,s,h);return Vh.set(o,m),m}function uT(i=Wm){const e=Vh.get(i);if(!e&&i===Wm&&rT())return lT();if(!e)throw _s.create("no-app",{appName:i});return e}function vs(i,e,t){var s;let o=(s=cC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(m.join(" "));return}No(new ya(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebase-heartbeat-database",pC=1,du="firebase-heartbeat-store";let Mm=null;function cT(){return Mm||(Mm=N1(mC,pC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(du)}catch(t){console.warn(t)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function gC(i){try{const t=(await cT()).transaction(du),s=await t.objectStore(du).get(hT(i));return await t.done,s}catch(e){if(e instanceof Dr)Sr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(t.message)}}}async function Jv(i,e){try{const s=(await cT()).transaction(du,"readwrite");await s.objectStore(du).put(e,hT(i)),await s.done}catch(t){if(t instanceof Dr)Sr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(s.message)}}}function hT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=e0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>_C){const h=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=e0(),{heartbeatsToSend:s,unsentEntries:o}=EC(this._heartbeatsCache.heartbeats),l=Nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Sr.warn(t),""}}}function e0(){return new Date().toISOString().substring(0,10)}function EC(i,e=yC){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),t0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),t0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function t0(i){return Nh(JSON.stringify({version:2,heartbeats:i})).length}function bC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){No(new ya("platform-logger",e=>new k1(e),"PRIVATE")),No(new ya("heartbeat",e=>new vC(e),"PRIVATE")),vs(Zm,Zv,i),vs(Zm,Zv,"esm2017"),vs("fire-js","")}AC("");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,fT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function S(){}S.prototype=R.prototype,M.D=R.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(D,x,N){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return R.prototype[x].apply(D,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)D[x]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(x=0;16>x;++x)D[x]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=M.g[0],S=M.g[1],x=M.g[2];var N=M.g[3],C=R+(N^S&(x^N))+D[0]+3614090360&4294967295;R=S+(C<<7&4294967295|C>>>25),C=N+(x^R&(S^x))+D[1]+3905402710&4294967295,N=R+(C<<12&4294967295|C>>>20),C=x+(S^N&(R^S))+D[2]+606105819&4294967295,x=N+(C<<17&4294967295|C>>>15),C=S+(R^x&(N^R))+D[3]+3250441966&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(N^S&(x^N))+D[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=N+(x^R&(S^x))+D[5]+1200080426&4294967295,N=R+(C<<12&4294967295|C>>>20),C=x+(S^N&(R^S))+D[6]+2821735955&4294967295,x=N+(C<<17&4294967295|C>>>15),C=S+(R^x&(N^R))+D[7]+4249261313&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(N^S&(x^N))+D[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=N+(x^R&(S^x))+D[9]+2336552879&4294967295,N=R+(C<<12&4294967295|C>>>20),C=x+(S^N&(R^S))+D[10]+4294925233&4294967295,x=N+(C<<17&4294967295|C>>>15),C=S+(R^x&(N^R))+D[11]+2304563134&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(N^S&(x^N))+D[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=N+(x^R&(S^x))+D[13]+4254626195&4294967295,N=R+(C<<12&4294967295|C>>>20),C=x+(S^N&(R^S))+D[14]+2792965006&4294967295,x=N+(C<<17&4294967295|C>>>15),C=S+(R^x&(N^R))+D[15]+1236535329&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(x^N&(S^x))+D[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=N+(S^x&(R^S))+D[6]+3225465664&4294967295,N=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(N^R))+D[11]+643717713&4294967295,x=N+(C<<14&4294967295|C>>>18),C=S+(N^R&(x^N))+D[0]+3921069994&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^N&(S^x))+D[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=N+(S^x&(R^S))+D[10]+38016083&4294967295,N=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(N^R))+D[15]+3634488961&4294967295,x=N+(C<<14&4294967295|C>>>18),C=S+(N^R&(x^N))+D[4]+3889429448&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^N&(S^x))+D[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=N+(S^x&(R^S))+D[14]+3275163606&4294967295,N=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(N^R))+D[3]+4107603335&4294967295,x=N+(C<<14&4294967295|C>>>18),C=S+(N^R&(x^N))+D[8]+1163531501&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^N&(S^x))+D[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=N+(S^x&(R^S))+D[2]+4243563512&4294967295,N=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(N^R))+D[7]+1735328473&4294967295,x=N+(C<<14&4294967295|C>>>18),C=S+(N^R&(x^N))+D[12]+2368359562&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(S^x^N)+D[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=N+(R^S^x)+D[8]+2272392833&4294967295,N=R+(C<<11&4294967295|C>>>21),C=x+(N^R^S)+D[11]+1839030562&4294967295,x=N+(C<<16&4294967295|C>>>16),C=S+(x^N^R)+D[14]+4259657740&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^N)+D[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=N+(R^S^x)+D[4]+1272893353&4294967295,N=R+(C<<11&4294967295|C>>>21),C=x+(N^R^S)+D[7]+4139469664&4294967295,x=N+(C<<16&4294967295|C>>>16),C=S+(x^N^R)+D[10]+3200236656&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^N)+D[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=N+(R^S^x)+D[0]+3936430074&4294967295,N=R+(C<<11&4294967295|C>>>21),C=x+(N^R^S)+D[3]+3572445317&4294967295,x=N+(C<<16&4294967295|C>>>16),C=S+(x^N^R)+D[6]+76029189&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^N)+D[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=N+(R^S^x)+D[12]+3873151461&4294967295,N=R+(C<<11&4294967295|C>>>21),C=x+(N^R^S)+D[15]+530742520&4294967295,x=N+(C<<16&4294967295|C>>>16),C=S+(x^N^R)+D[2]+3299628645&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(x^(S|~N))+D[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=N+(S^(R|~x))+D[7]+1126891415&4294967295,N=R+(C<<10&4294967295|C>>>22),C=x+(R^(N|~S))+D[14]+2878612391&4294967295,x=N+(C<<15&4294967295|C>>>17),C=S+(N^(x|~R))+D[5]+4237533241&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~N))+D[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=N+(S^(R|~x))+D[3]+2399980690&4294967295,N=R+(C<<10&4294967295|C>>>22),C=x+(R^(N|~S))+D[10]+4293915773&4294967295,x=N+(C<<15&4294967295|C>>>17),C=S+(N^(x|~R))+D[1]+2240044497&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~N))+D[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=N+(S^(R|~x))+D[15]+4264355552&4294967295,N=R+(C<<10&4294967295|C>>>22),C=x+(R^(N|~S))+D[6]+2734768916&4294967295,x=N+(C<<15&4294967295|C>>>17),C=S+(N^(x|~R))+D[13]+1309151649&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~N))+D[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=N+(S^(R|~x))+D[11]+3174756917&4294967295,N=R+(C<<10&4294967295|C>>>22),C=x+(R^(N|~S))+D[2]+718787259&4294967295,x=N+(C<<15&4294967295|C>>>17),C=S+(N^(x|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+N&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var S=R-this.blockSize,D=this.B,x=this.h,N=0;N<R;){if(x==0)for(;N<=S;)o(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<R;)if(D[x++]=M.charCodeAt(N++),x==this.blockSize){o(this,D),x=0;break}}else for(;N<R;)if(D[x++]=M[N++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var S=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=S&255,S/=256;for(this.u(M),M=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)M[S++]=this.g[R]>>>D&255;return M};function l(M,R){var S=m;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=R(M)}function h(M,R){this.h=R;for(var S=[],D=!0,x=M.length-1;0<=x;x--){var N=M[x]|0;D&&N==R||(S[x]=N,D=!1)}this.g=S}var m={};function p(M){return-128<=M&&128>M?l(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return j(g(-M));for(var R=[],S=1,D=0;M>=S;D++)R[D]=M/S|0,S*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return j(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),D=T,x=0;x<M.length;x+=8){var N=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+N),R);8>N?(N=g(Math.pow(R,N)),D=D.j(N).add(g(C))):(D=D.j(S),D=D.add(g(C)))}return D}var T=p(0),w=p(1),O=p(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var M=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L(this))return"0";if($(this))return"-"+j(this).toString(M);for(var R=g(Math.pow(M,6)),S=this,D="";;){var x=de(S,R).g;S=z(S,x.j(R));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=x,L(S))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function L(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=z(this,M),$(M)?-1:L(M)?0:1};function j(M){for(var R=M.g.length,S=[],D=0;D<R;D++)S[D]=~M.g[D];return new h(S,~M.h).add(w)}i.abs=function(){return $(this)?j(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0,x=0;x<=R;x++){var N=D+(this.i(x)&65535)+(M.i(x)&65535),C=(N>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);D=C>>>16,N&=65535,C&=65535,S[x]=C<<16|N}return new h(S,S[S.length-1]&-2147483648?-1:0)};function z(M,R){return M.add(j(R))}i.j=function(M){if(L(this)||L(M))return T;if($(this))return $(M)?j(this).j(j(M)):j(j(this).j(M));if($(M))return j(this.j(j(M)));if(0>this.l(O)&&0>M.l(O))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<M.g.length;x++){var N=this.i(D)>>>16,C=this.i(D)&65535,ke=M.i(x)>>>16,je=M.i(x)&65535;S[2*D+2*x]+=C*je,K(S,2*D+2*x),S[2*D+2*x+1]+=N*je,K(S,2*D+2*x+1),S[2*D+2*x+1]+=C*ke,K(S,2*D+2*x+1),S[2*D+2*x+2]+=N*ke,K(S,2*D+2*x+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new h(S,0)};function K(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function J(M,R){this.g=M,this.h=R}function de(M,R){if(L(R))throw Error("division by zero");if(L(M))return new J(T,T);if($(M))return R=de(j(M),R),new J(j(R.g),j(R.h));if($(R))return R=de(M,j(R)),new J(j(R.g),R.h);if(30<M.g.length){if($(M)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,D=R;0>=D.l(M);)S=re(S),D=re(D);var x=pe(S,1),N=pe(D,1);for(D=pe(D,2),S=pe(S,2);!L(D);){var C=N.add(D);0>=C.l(M)&&(x=x.add(S),N=C),D=pe(D,1),S=pe(S,1)}return R=z(M,x.j(R)),new J(x,R)}for(x=T;0<=M.l(R);){for(S=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=g(S),C=N.j(R);$(C)||0<C.l(M);)S-=D,N=g(S),C=N.j(R);L(N)&&(N=w),x=x.add(N),M=z(M,C)}return new J(x,M)}i.A=function(M){return de(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&M.i(D);return new h(S,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|M.i(D);return new h(S,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^M.i(D);return new h(S,this.h^M.h)};function re(M){for(var R=M.g.length+1,S=[],D=0;D<R;D++)S[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(S,M.h)}function pe(M,R){var S=R>>5;R%=32;for(var D=M.g.length-S,x=[],N=0;N<D;N++)x[N]=0<R?M.i(N+S)>>>R|M.i(N+S+1)<<32-R:M.i(N+S);return new h(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Es=h}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dT,iu,mT,gh,ep,pT,gT,yT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,Q){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return y.prototype[B].apply(A,le)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const B=c.length||0,Q=A.length||0;c.length=B+Q;for(let le=0;le<Q;le++)c[B+le]=A[le]}else c.push(A)}}class z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var re=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Q=0;Q<S.length;Q++)v=S[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function x(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function N(c){m.setTimeout(()=>{throw c},0)}function C(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,v){const A=je.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var je=new z(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ae=!1,He=new ke,k=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(se)}};var se=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){N(v)}var y=je;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ae=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Pe(c,y){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{de(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}L(Pe,me);var Oe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),$e=0;function ft(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++$e,this.da=this.fa=!1}function it(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bt(c){this.src=c,this.g={},this.h=0}Bt.prototype.add=function(c,y,v,A,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=fn(c,y,A,B);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new ft(y,this.src,Q,!!A,B),y.fa=v,c.push(y)),y};function Jn(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(A,B,1),Q&&(it(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function fn(c,y,v,A){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return B}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),Hi={};function di(c,y,v,A,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)di(c,y[Q],v,A,B);return null}return v=Me(v),c&&c[mt]?c.K(y,v,g(A)?!!A.capture:!1,B):Ia(c,y,v,!1,A,B)}function Ia(c,y,v,A,B,Q){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Xe=ae(c);if(Xe||(c[ei]=Xe=new Bt(c)),v=Xe.add(y,v,A,le,Q),v.proxy)return v;if(A=V(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)fe||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(ce(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function V(){function c(v){return y.call(c.src,c.listener,v)}const y=ue;return c}function H(c,y,v,A,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)H(c,y[Q],v,A,B);else A=g(A)?!!A.capture:!!A,v=Me(v),c&&c[mt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=fn(Q,v,A,B),-1<v&&(it(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ae(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fn(y,v,A,B)),(v=-1<c?y[c]:null)&&Y(v))}function Y(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Jn(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ce(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ae(y))?(Jn(v,c),v.h==0&&(v.src=null,y[ei]=null)):it(c)}}}function ce(c){return c in Hi?Hi[c]:Hi[c]="on"+c}function ue(c,y){if(c.da)c=!0;else{y=new Pe(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Y(c),c=v.call(A,y)}return c}function ae(c){return c=c[ei],c instanceof Bt?c:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(c){return typeof c=="function"?c:(c[_e]||(c[_e]=function(y){return c.handleEvent(y)}),c[_e])}function ze(){be.call(this),this.i=new Bt(this),this.M=this,this.F=null}L(ze,be),ze.prototype[mt]=!0,ze.prototype.removeEventListener=function(c,y,v,A){H(this,c,y,v,A)};function Be(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new me(y,c);else if(y instanceof me)y.target=y.target||c;else{var B=y;y=new me(A,c),D(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var le=y.g=v[Q];B=qt(le,A,!0,y)&&B}if(le=y.g=c,B=qt(le,A,!0,y)&&B,B=qt(le,A,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)le=y.g=v[Q],B=qt(le,A,!1,y)&&B}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)it(v[A]);delete c.g[y],c.h--}}this.F=null},ze.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ze.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function qt(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==v){var Xe=le.listener,kt=le.ha||le.src;le.fa&&Jn(c.i,le),B=Xe.call(kt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Da(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function $i(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,$i(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class xs extends be{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(c){be.call(this),this.h=c,this.g={}}L(Gi,be);var ti=[];function Ht(c){pe(c.g,function(y,v){this.g.hasOwnProperty(v)&&Y(y)},c),c.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),Ht(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=m.JSON.stringify,mi=m.JSON.parse,dn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Xo(){}Xo.prototype.h=null;function zu(c){return c.h||(c.h=c.i())}function Fu(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){me.call(this,"d")}L(xr,me);function ni(){me.call(this,"c")}L(ni,me);var Vn={},Nr=null;function Oa(){return Nr=Nr||new ze}Vn.La="serverreachability";function Zo(c){me.call(this,Vn.La,c)}L(Zo,me);function Vr(c){const y=Oa();Be(y,new Zo(y))}Vn.STAT_EVENT="statevent";function xa(c,y){me.call(this,Vn.STAT_EVENT,c),this.stat=y}L(xa,me);function St(c){const y=Oa();Be(y,new xa(y,c))}Vn.Ma="timingevent";function ju(c,y){me.call(this,Vn.Ma,c),this.size=y}L(ju,me);function Mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Bu(c,y,v,A,B,Q){c.info(function(){if(c.g)if(Q)for(var le="",Xe=Q.split("&"),kt=0;kt<Xe.length;kt++){var Ze=Xe[kt].split("=");if(1<Ze.length){var Kt=Ze[0];Ze=Ze[1];var Pt=Kt.split("_");le=2<=Pt.length&&Pt[1]=="type"?le+(Kt+"="+Ze+"&"):le+(Kt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+le})}function qu(c,y,v,A,B,Q,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+le})}function Pr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+$t(c,v)+(A?" "+A:"")})}function gi(c,y){c.info(function(){return"TIMEOUT: "+y})}kr.prototype.info=function(){};function $t(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Or(v)}catch{return y}}var Mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ns;function Na(){}L(Na,Xo),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ns=new Na;function yi(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var Lr={},Vs={};function ii(c,y,v){c.L=1,c.v=Ps(Et(y)),c.m=v,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),pt(c),c.A=Et(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Zi(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Wo,c.g=ic(c.j,v?y:null,!c.m),0<c.O&&(c.M=new xs(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ti[0]=B.toString()),B=ti);for(var Q=0;Q<B.length;Q++){var le=di(v,B[Q],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vr(),Bu(c.i,c.u,c.A,c.l,c.R,c.m)}yi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},yi.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=Un(this.g);var y=this.g.Ba();const tr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=tr?Vr(3):Vr(2)),Va(this);var v=this.g.Z();this.X=v;t:if(Ur(this)){var A=Yu(this.g);c="";var B=A.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Rn(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,qu(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,kt=this.g;if((Xe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Xe)){var Ze=Xe;break t}}Ze=null}if(v=Ze)Pr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,v);else{this.o=!1,this.s=3,St(12),vn(this),Rn(this);break e}}if(this.P){v=!0;let Wt;for(;!this.J&&this.C<le.length;)if(Wt=zr(this,le),Wt==Vs){Pt==4&&(this.s=4,St(14),v=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Lr){this.s=4,St(15),Pr(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Pr(this.i,this.l,Wt,null),Cn(this,Wt);if(Ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||le.length!=0||this.h.h||(this.s=1,St(16),v=!1),this.o=this.o&&v,!v)Pr(this.i,this.l,le,"[Invalid Chunked Response]"),vn(this),Rn(this);else if(0<le.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),qs(Kt),Kt.M=!0,St(11))}}else Pr(this.i,this.l,le,null),Cn(this,le);Pt==4&&vn(this),this.o&&!this.J&&(Pt==4?ec(this.j,this):(this.o=!1,pt(this)))}else xf(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),vn(this),Rn(this)}}}catch{}finally{}};function Ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zr(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Vs:(v=Number(y.substring(v,A)),isNaN(v)?Lr:(A+=1,A+v>y.length?Vs:(y=y.slice(A,A+v),c.C=A+v,y)))}yi.prototype.cancel=function(){this.J=!0,vn(this)};function pt(c){c.S=Date.now()+c.I,Jo(c,c.I)}function Jo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mr(w(c.ba,c),y)}function Va(c){c.B&&(m.clearTimeout(c.B),c.B=null)}yi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gi(this.i,this.A),this.L!=2&&(Vr(),St(17)),vn(this),this.s=2,Rn(this)):Jo(this,this.S-c)};function Rn(c){c.j.G==0||c.J||ec(c.j,c)}function vn(c){Va(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ht(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Cn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Fr(v.h,c))){if(!c.K&&Fr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)qa(v),ja(v);else break e;cl(v),St(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mr(w(v.Za,v),6e3));if(1>=Hu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else er(v,11)}else if((c.K||v.g==c)&&qa(v),!K(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ze=B[y];if(v.T=Ze[0],Ze=Ze[1],v.G==2)if(Ze[0]=="c"){v.K=Ze[1],v.ia=Ze[2];const Kt=Ze[3];Kt!=null&&(v.la=Kt,v.j.info("VER="+v.la));const Pt=Ze[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const tr=Ze[5];tr!=null&&typeof tr=="number"&&0<tr&&(A=1.5*tr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Wt=c.g;if(Wt){const Si=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var Q=A.h;Q.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(jr(Q,Q.h),Q.h=null))}if(A.D){const fl=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,et(A.I,A.D,fl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var le=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),le.K){Mn(A.h,le);var Xe=le,kt=A.L;kt&&(Xe.I=kt),Xe.B&&(Va(Xe),pt(Xe)),A.g=le}else Wu(A);0<v.i.length&&Ba(v)}else Ze[0]!="stop"&&Ze[0]!="close"||er(v,7);else v.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?er(v,7):ll(v):Ze[0]!="noop"&&v.l&&v.l.ta(Ze),v.v=0)}}Vr(4)}catch{}}var Rf=class{constructor(c,y){this.g=c,this.map=y}};function el(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function Fr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jr(c,y){c.g?c.g.add(y):c.h=y}function Mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}el.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function $u(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Cf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Ms(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Cf(c),A=$u(c),B=A.length,Q=0;Q<B;Q++)y.call(void 0,A[Q],v&&v[Q],c)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var Q=c[v].substring(0,A);B=c[v].substring(A+1)}else Q=c[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,Br(this,c.j),this.o=c.o,this.g=c.g,ks(this,c.s),this.l=c.l;var y=c.i,v=new _i;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ka(this,v),this.m=c.m}else c&&(y=String(c).match(nl))?(this.h=!1,Br(this,y[1]||"",!0),this.o=qr(y[2]||""),this.g=qr(y[3]||"",!0),ks(this,y[4]),this.l=qr(y[5]||"",!0),ka(this,y[6]||"",!0),this.m=qr(y[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Yi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(kn(y,il,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kn(y,il,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?rl:Gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,Of)),c.join("")};function Et(c){return new Yi(c)}function Br(c,y,v){c.j=v?qr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ks(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ka(c,y,v){y instanceof _i?(c.i=y,sl(c.i,c.h)):(v||(y=kn(y,Df)),c.i=new _i(y,c.h))}function et(c,y,v){c.i.set(y,v)}function Ps(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,If),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function If(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,Gu=/[#\?:]/g,rl=/[#\?]/g,Df=/[#\?@]/g,Of=/#/g;function _i(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=_i.prototype,i.add=function(c,y){Pn(this),this.i=null,c=Wi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pa(c,y){Pn(c),y=Wi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xi(c,y){return Pn(c),y=Wi(c,y),c.g.has(y)}i.forEach=function(c,y){Pn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){Pn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Q=0;Q<B.length;Q++)v.push(y[A])}return v},i.V=function(c){Pn(this);let y=[];if(typeof c=="string")Xi(this,c)&&(y=y.concat(this.g.get(Wi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Pn(this),this.i=null,c=Wi(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Zi(c,y,v){Pa(c,y),0<v.length&&(c.i=null,c.g.set(Wi(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var B=Q;le[A]!==""&&(B+="="+encodeURIComponent(String(le[A]))),c.push(B)}}return this.i=c.join("&")};function Wi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function sl(c,y){y&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(Pa(this,A),Zi(this,B,v))},c)),c.j=y}function Ku(c,y){const v=new kr;if(m.Image){const A=new Image;A.onload=O(Ln,v,"TestLoadImage: loaded",!0,y,A),A.onerror=O(Ln,v,"TestLoadImage: error",!1,y,A),A.onabort=O(Ln,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(Ln,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ls(c,y){const v=new kr,A=new AbortController,B=setTimeout(()=>{A.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(B),Q.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Ln(v,"TestPingServer: error",!1,y)})}function Ln(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function Us(){this.g=new dn}function vi(c,y,v){const A=v||"";try{Ms(c,function(B,Q){let le=B;g(B)&&(le=Or(B)),y.push(A+Q+"="+encodeURIComponent(le))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Hr,Xo),Hr.prototype.g=function(){return new Ji(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){ze.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ji,ze),i=Ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ti(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ei(this):Ti(this),this.readyState==3&&al(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},i.Qa=function(c){this.g&&(this.response=c,Ei(this))},i.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ol(c){let y="";return pe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Gt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ol(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):et(c,y,v))}function rt(c){ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(rt,ze);var La=/^https?$/i,zs=["POST","PUT"];i=rt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ns.g(),this.v=this.o?zu(this.o):zu(Ns),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Qu(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(zs,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of v)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Qu(this,Q)}};function Qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ua(c),bi(c)}function Ua(c){c.A||(c.A=!0,Be(c,"complete"),Be(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Be(this,"complete"),Be(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},i.bb=function(){za(this)};function za(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)Da(c.Ea,0,c);else if(Be(c,"readystatechange"),Un(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=le===0){var B=String(c.D).match(nl)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!La.test(B?B.toLowerCase():"")}v=A}if(v)Be(c,"complete"),Be(c,"success");else{c.m=6;try{var Q=2<Un(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ua(c)}}finally{bi(c)}}}}function bi(c,y){if(c.g){Fs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Be(c,"ready");try{v.onreadystatechange=A}catch{}}}function Fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mi(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(K(c[A]))continue;var v=x(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Fa(c){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new el(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Fa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){St(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),Ba(this)};function ll(c){if(Xu(c),c.G==3){var y=c.U++,v=Et(c.I);if(et(v,"SID",c.K),et(v,"RID",y),et(v,"TYPE","terminate"),Bs(c,v),y=new yi(c,c.j,y),y.L=2,y.v=Ps(Et(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pt(y)}tc(c)}function ja(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function Xu(c){ja(c),c.u&&(m.clearTimeout(c.u),c.u=null),qa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ba(c){if(!tl(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||k(),Ae||(Te(),Ae=!0),He.add(y,c),c.B=0}}function Nf(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mr(w(c.Ga,c,y),hl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new yi(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Zu(this,B,y),v=Et(this.I),et(v,"RID",c),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),Bs(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(ol(Q)))+"&"+y:this.m&&Gt(v,this.m,Q)),jr(this.h,B),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",y),et(v,"SID","null"),B.T=!0,ii(B,v,null)):ii(B,v,y),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||tl(this.h)||ul(this))};function ul(c,y){var v;y?v=y.l:v=c.U++;const A=Et(c.I);et(A,"SID",c.K),et(A,"RID",v),et(A,"AID",c.T),Bs(c,A),c.m&&c.o&&Gt(A,c.m,c.o),v=new yi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jr(c.h,v),ii(v,A,y)}function Bs(c,y){c.H&&pe(c.H,function(v,A){et(y,A,v)}),c.l&&Ms({},function(v,A){et(y,A,v)})}function Zu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const le=["count="+v];Q==-1?0<v?(Q=B[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Xe=!0;for(let kt=0;kt<v;kt++){let Ze=B[kt].g;const Kt=B[kt].map;if(Ze-=Q,0>Ze)Q=Math.max(0,B[kt].g-100),Xe=!1;else try{vi(Kt,le,"req"+Ze+"_")}catch{A&&A(Kt)}}if(Xe){A=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||k(),Ae||(Te(),Ae=!0),He.add(y,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mr(w(c.Fa,c),hl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mr(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ja(this),Ju(this))};function qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ju(c){c.g=new yi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Et(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),Bs(c,y),c.m&&c.o&&Gt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ps(Et(y)),v.m=null,v.P=!0,Qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ja(this),cl(this),St(19))};function qa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ec(c,y){var v=null;if(c.g==y){qa(c),qs(c),c.g=null;var A=2}else if(Fr(c.h,y))v=y.D,Mn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=Oa(),Be(A,new ju(A,v)),Ba(c)}else Wu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Nf(c,y)||A==2&&cl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function hl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function er(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),A=c.Xa;const B=!A;A=new Yi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Br(A,"https"),Ps(A),B?Ku(A.toString(),v):Ls(A.toString(),v)}else St(2);c.G=0,c.l&&c.l.sa(y),tc(c),Xu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function tc(c){if(c.G=0,c.ka=[],c.l){const y=mn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,v){var A=v instanceof Yi?Et(v):new Yi(v);if(A.g!="")y&&(A.g=y+"."+A.g),ks(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Yi(null);A&&Br(Q,A),y&&(Q.g=y),B&&ks(Q,B),v&&(Q.l=v),A=Q}return v=c.D,y=c.ya,v&&y&&et(A,v,y),et(A,"VER",c.la),Bs(c,A),A}function ic(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new rt(new Hr({eb:v})):new rt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}i=rc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ha(){}Ha.prototype.g=function(c,y){return new pn(c,y)};function pn(c,y){ze.call(this),this.g=new Fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ai(this)}L(pn,ze),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ll(this.g)},pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Or(c),c=v);y.i.push(new Rf(y.Ya++,c)),y.G==3&&Ba(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,pn.aa.N.call(this)};function sc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(sc,xr);function ac(){ni.call(this),this.status=1}L(ac,ni);function Ai(c){this.g=c}L(Ai,rc),Ai.prototype.ua=function(){Be(this.g,"a")},Ai.prototype.ta=function(c){Be(this.g,new sc(c))},Ai.prototype.sa=function(c){Be(this.g,new ac)},Ai.prototype.ra=function(){Be(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,yT=function(){return new Ha},gT=function(){return Oa()},pT=Vn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mt.NO_ERROR=0,Mt.TIMEOUT=8,Mt.HTTP_ERROR=6,gh=Mt,Ki.COMPLETE="complete",mT=Ki,Fu.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ze.prototype.listen=ze.prototype.K,iu=Fu,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,dT=rt}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",r0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Op("@firebase/firestore");function To(){return _a.logLevel}function ge(i,...e){if(_a.logLevel<=Ge.DEBUG){const t=e.map(Vp);_a.debug(`Firestore (${Ho}): ${i}`,...t)}}function wr(i,...e){if(_a.logLevel<=Ge.ERROR){const t=e.map(Vp);_a.error(`Firestore (${Ho}): ${i}`,...t)}}function Vo(i,...e){if(_a.logLevel<=Ge.WARN){const t=e.map(Vp);_a.warn(`Firestore (${Ho}): ${i}`,...t)}}function Vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+i;throw wr(e),new Error(e)}function st(i,e){i||Ie()}function Ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RC{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string"),new _T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new un(e)}}class CC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new CC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,li(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new s0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new s0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ye(i,e){return i<e?-1:i>e?1:0}function Mo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=-62135596800,o0=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*o0);return new Ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a0)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ft(0,0))}static max(){return new xe(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(),s===void 0?s=e.length-t:s>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Oi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class dt extends Oi{construct(e,t,s){return new dt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Oi{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new rn([l0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ee(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new Ee(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(dt.fromString(e))}static fromName(e){return new Re(dt.fromString(e).popFirst(5))}static empty(){return new Re(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function NC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new Ft(t+1,0):new Ft(t,s));return new ws(o,Re.empty(),e)}function VC(i){return new ws(i.readTime,i.key,mu)}class ws{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ws(xe.min(),Re.empty(),mu)}static max(){return new ws(xe.max(),Re.empty(),mu)}}function MC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(i.documentKey,e.documentKey),t!==0?t:Ye(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==kC)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===l&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function LC(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}of.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function lf(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function UC(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="";function zC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=u0(e)),e=FC(i.get(t),e);return u0(e)}function FC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case ET:t+="";break;default:t+=l}}return t}function u0(i){return i+ET+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Aa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function TT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new nn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,s,o,l){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new ci([])}unionWith(e){let t=new jt(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bT("Invalid base64 string: "+l):l}}(e);return new sn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(i){if(st(!!i),typeof i=="string"){let e=0;const t=jC.exec(i);if(st(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cs(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="server_timestamp",ST="__type__",wT="__previous_value__",RT="__local_write_time__";function kp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||t===void 0?void 0:t.stringValue)===AT}function uf(i){const e=i.mapValue.fields[wT];return kp(e)?uf(e):e}function pu(i){const e=Rs(i.mapValue.fields[RT].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,s,o,l,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const kh="(default)";class gu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__type__",qC="__max__",oh={mapValue:{}},IT="__vector__",Ph="value";function Is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:$C(i)?9007199254740991:HC(i)?10:11:Ie()}function Fi(i,e){if(i===e)return!0;const t=Is(i);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Rs(o.timestampValue),m=Rs(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Cs(o.bytesValue).isEqual(Cs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Rt(o.doubleValue),m=Rt(l.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Mo(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(c0(h)!==c0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fi(h[p],m[p])))return!1;return!0}(i,e);default:return Ie()}}function yu(i,e){return(i.values||[]).find(t=>Fi(t,e))!==void 0}function ko(i,e){if(i===e)return 0;const t=Is(i),s=Is(e);if(t!==s)return Ye(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=Rt(l.integerValue||l.doubleValue),p=Rt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return f0(i.timestampValue,e.timestampValue);case 4:return f0(pu(i),pu(e));case 5:return Ye(i.stringValue,e.stringValue);case 6:return function(l,h){const m=Cs(l),p=Cs(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ye(m[g],p[g]);if(_!==0)return _}return Ye(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=Ye(Rt(l.latitude),Rt(h.latitude));return m!==0?m:Ye(Rt(l.longitude),Rt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return d0(i.arrayValue,e.arrayValue);case 10:return function(l,h){var m,p,g,_;const T=l.fields||{},w=h.fields||{},O=(m=T[Ph])===null||m===void 0?void 0:m.arrayValue,L=(p=w[Ph])===null||p===void 0?void 0:p.arrayValue,$=Ye(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return $!==0?$:d0(O,L)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===oh.mapValue&&h===oh.mapValue)return 0;if(l===oh.mapValue)return 1;if(h===oh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=Ye(p[T],_[T]);if(w!==0)return w;const O=ko(m[p[T]],g[_[T]]);if(O!==0)return O}return Ye(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Ie()}}function f0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ye(i,e);const t=Rs(i),s=Rs(e),o=Ye(t.seconds,s.seconds);return o!==0?o:Ye(t.nanos,s.nanos)}function d0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=ko(t[o],s[o]);if(l)return l}return Ye(t.length,s.length)}function Po(i){return tp(i)}function tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Cs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Re.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=tp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${tp(t.fields[h])}`;return o+"}"}(i.mapValue):Ie()}function yh(i){switch(Is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+yh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Aa(s.fields,(l,h)=>{o+=l.length+yh(h)}),o}(i.mapValue);default:throw Ie()}}function m0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function np(i){return!!i&&"integerValue"in i}function Pp(i){return!!i&&"arrayValue"in i}function p0(i){return!!i&&"nullValue"in i}function g0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _h(i){return!!i&&"mapValue"in i}function HC(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||t===void 0?void 0:t.stringValue)===IT}function au(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Aa(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=au(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(i.arrayValue.values[t]);return e}return Object.assign({},i)}function $C(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===qC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=rn.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Aa(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Zn(au(this.value))}}function DT(i){const e=[];return Aa(i.fields,(t,s)=>{const o=new rn([t]);if(_h(s)){const l=DT(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,xe.min(),xe.min(),xe.min(),Zn.empty(),0)}static newFoundDocument(e,t,s,o){return new cn(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new cn(e,2,t,xe.min(),xe.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,xe.min(),xe.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function y0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),t.key):s=ko(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Fi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function GC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class Vt extends OT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new QC(e,t,s):t==="array-contains"?new ZC(e,s):t==="in"?new WC(e,s):t==="not-in"?new JC(e,s):t==="array-contains-any"?new eI(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new YC(e,s):new XC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ko(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends OT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new fi(e,t)}matches(e){return xT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xT(i){return i.op==="and"}function NT(i){return KC(i)&&xT(i)}function KC(i){for(const e of i.filters)if(e instanceof fi)return!1;return!0}function ip(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(NT(i))return i.filters.map(e=>ip(e)).join(",");{const e=i.filters.map(t=>ip(t)).join(",");return`${i.op}(${e})`}}function VT(i,e){return i instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)}(i,e):i instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&VT(h,o.filters[m]),!0):!1}(i,e):void Ie()}function MT(i){return i instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(i):i instanceof fi?function(t){return t.op.toString()+" {"+t.getFilters().map(MT).join(" ,")+"}"}(i):"Filter"}class QC extends Vt{constructor(e,t,s){super(e,t,s),this.key=Re.fromName(s.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class YC extends Vt{constructor(e,t){super(e,"in",t),this.keys=kT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XC extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=kT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Re.fromName(s.referenceValue))}class ZC extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pp(t)&&yu(t.arrayValue,this.value)}}class WC extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}}class JC extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yu(this.value.arrayValue,t)}}class eI extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.le=null}}function v0(i,e=null,t=[],s=[],o=null,l=null,h=null){return new tI(i,e,t,s,o,l,h)}function Lp(i){const e=Ve(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ip(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Po(s)).join(",")),e.le=t}return e.le}function Up(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!GC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!VT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_0(i.startAt,e.startAt)&&_0(i.endAt,e.endAt)}function rp(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nI(i,e,t,s,o,l,h,m){return new Du(i,e,t,s,o,l,h,m)}function PT(i){return new Du(i)}function E0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function LT(i){return i.collectionGroup!==null}function ou(i){const e=Ve(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(rn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Uh(l,s))}),t.has(rn.keyField().canonicalString())||e.he.push(new Uh(rn.keyField(),s))}return e.he}function ki(i){const e=Ve(i);return e.Pe||(e.Pe=iI(e,ou(i))),e.Pe}function iI(i,e){if(i.limitType==="F")return v0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Uh(o.field,l)});const t=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return v0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function sp(i,e){const t=i.filters.concat([e]);return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ap(i,e,t){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function cf(i,e){return Up(ki(i),ki(e))&&i.limitType===e.limitType}function UT(i){return`${Lp(ki(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>MT(o)).join(", ")}]`),lf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Po(o)).join(",")),`Target(${s})`}(ki(i))}; limitType=${i.limitType})`}function hf(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Re.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of ou(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=y0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(h,m,p){const g=y0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(i,e)}function rI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zT(i){return(e,t)=>{let s=!1;for(const o of ou(i)){const l=sI(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function sI(i,e,t){const s=i.field.isKeyField()?Re.comparator(e.key,t.key):function(l,h,m){const p=h.data.field(l),g=m.data.field(l);return p!==null&&g!==null?ko(p,g):Ie()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new vt(Re.comparator);function Rr(){return aI}const FT=new vt(Re.comparator);function ru(...i){let e=FT;for(const t of i)e=e.insert(t.key,t);return e}function jT(i){let e=FT;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ua(){return lu()}function BT(){return lu()}function lu(){return new Sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const oI=new vt(Re.comparator),lI=new jt(Re.comparator);function Ke(...i){let e=lI;for(const t of i)e=e.add(t);return e}const uI=new jt(Ye);function cI(){return uI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function qT(i){return{integerValue:""+i}}function hI(i,e){return UC(e)?qT(e):zp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function fI(i,e,t){return i instanceof zh?function(o,l){const h={fields:{[ST]:{stringValue:AT},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&kp(l)&&(l=uf(l)),l&&(h.fields[wT]=l),{mapValue:h}}(t,e):i instanceof _u?$T(i,e):i instanceof vu?GT(i,e):function(o,l){const h=HT(o,l),m=T0(h)+T0(o.Ie);return np(h)&&np(o.Ie)?qT(m):zp(o.serializer,m)}(i,e)}function dI(i,e,t){return i instanceof _u?$T(i,e):i instanceof vu?GT(i,e):t}function HT(i,e){return i instanceof Fh?function(s){return np(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class zh extends ff{}class _u extends ff{constructor(e){super(),this.elements=e}}function $T(i,e){const t=KT(e);for(const s of i.elements)t.some(o=>Fi(o,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends ff{constructor(e){super(),this.elements=e}}function GT(i,e){let t=KT(e);for(const s of i.elements)t=t.filter(o=>!Fi(o,s));return{arrayValue:{values:t}}}class Fh extends ff{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function T0(i){return Rt(i.integerValue||i.doubleValue)}function KT(i){return Pp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?Mo(s.elements,o.elements,Fi):s instanceof Fh&&o instanceof Fh?Fi(s.Ie,o.Ie):s instanceof zh&&o instanceof zh}(i.transform,e.transform)}class pI{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function QT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fp(i.key,Pi.none()):new Ou(i.key,i.data,Pi.none());{const t=i.data,s=Zn.empty();let o=new jt(rn.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new wa(i.key,s,new ci(o.toArray()),Pi.none())}}function gI(i,e,t){i instanceof Ou?function(o,l,h){const m=o.value.clone(),p=A0(o.fieldTransforms,l,h.transformResults);m.setAll(p),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof wa?function(o,l,h){if(!vh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=A0(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(YT(o)),p.setAll(m),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uu(i,e,t,s){return i instanceof Ou?function(l,h,m,p){if(!vh(l.precondition,h))return m;const g=l.value.clone(),_=S0(l.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof wa?function(l,h,m,p){if(!vh(l.precondition,h))return m;const g=S0(l.fieldTransforms,p,h),_=h.data;return _.setAll(YT(l)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,m){return vh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function yI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=HT(s.transform,o||null);l!=null&&(t===null&&(t=Zn.empty()),t.set(s.field,l))}return t||null}function b0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,(l,h)=>mI(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ou extends df{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends df{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function A0(i,e,t){const s=new Map;st(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,dI(h,m,t[o]))}return s}function S0(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,fI(l,h,e))}return s}class Fp extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&gI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=BT();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const p=QT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(t,s)=>b0(t,s))&&Mo(this.baseMutations,e.baseMutations,(t,s)=>b0(t,s))}}class jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){st(e.mutations.length===s.length);let o=function(){return oI}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Je;function bI(i){switch(i){case ne.OK:return Ie();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie()}}function XT(i){if(i===void 0)return wr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case xt.OK:return ne.OK;case xt.CANCELLED:return ne.CANCELLED;case xt.UNKNOWN:return ne.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ne.INTERNAL;case xt.UNAVAILABLE:return ne.UNAVAILABLE;case xt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case xt.NOT_FOUND:return ne.NOT_FOUND;case xt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case xt.ABORTED:return ne.ABORTED;case xt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case xt.DATA_LOSS:return ne.DATA_LOSS;default:return Ie()}}(Je=xt||(xt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Es([4294967295,4294967295],0);function w0(i){const e=AI().encode(i),t=new fT;return t.update(e),new Uint8Array(t.digest())}function R0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,l],0)]}class Bp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Es.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(SI)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=w0(e),[s,o]=R0(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Bp(l,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=w0(e),[s,o]=R0(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mf(xe.min(),o,new vt(Ye),Rr(),Ke())}}class xu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xu(s,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class ZT{constructor(e,t){this.targetId=e,this.ge=t}}class WT{constructor(e,t,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class C0{constructor(){this.pe=0,this.ye=I0(),this.we=sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ke(),t=Ke(),s=Ke();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie()}}),new xu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=I0()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class wI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Rr(),this.$e=lh(),this.Ke=lh(),this.Ue=new vt(Ye)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(rp(l))if(s===0){const h=new Re(l.path);this.ze(t,h,cn.newNoDocument(h,xe.min()))}else st(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=Cs(s).toUint8Array()}catch(p){if(p instanceof bT)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bp(h,o,l)}catch(p){return Vo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const m=this.Xe(h);if(m){if(l.current&&rp(m.target)){const p=new Re(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,cn.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ke();this.Ke.forEach((l,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new mf(e,t,this.Ue,this.Qe,s);return this.Qe=Rr(),this.$e=lh(),this.Ke=lh(),this.Ue=new vt(Ye),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new C0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new jt(Ye),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new jt(Ye),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new C0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function lh(){return new vt(Re.comparator)}function I0(){return new vt(Re.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},II={and:"AND",or:"OR"};class DI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(i,e){return i.useProto3Json||lf(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function OI(i,e){return jh(i,e.toTimestamp())}function Li(i){return st(!!i),xe.fromTimestamp(function(t){const s=Rs(t);return new Ft(s.seconds,s.nanos)}(i))}function qp(i,e){return lp(i,e).canonicalString()}function lp(i,e){const t=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function eb(i){const e=dt.fromString(i);return st(sb(e)),e}function up(i,e){return qp(i.databaseId,e.path)}function km(i,e){const t=eb(e);if(t.get(1)!==i.databaseId.projectId)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Re(nb(t))}function tb(i,e){return qp(i.databaseId,e)}function xI(i){const e=eb(i);return e.length===4?dt.emptyPath():nb(e)}function cp(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nb(i){return st(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function D0(i,e,t){return{name:up(i,e),fields:t.value.mapValue.fields}}function NI(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(st(_===void 0||typeof _=="string"),sn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),sn.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ne.UNKNOWN:XT(g.code);return new Ee(_,g.message||"")}(h);t=new WT(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(i,s.document.name),l=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):xe.min(),m=new Zn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(o,l,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Eh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(i,s.document),l=s.readTime?Li(s.readTime):xe.min(),h=cn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(i,s.document),l=s.removedTargetIds||[];t=new Eh([],l,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new TI(o,l),m=s.targetId;t=new ZT(m,h)}}return t}function VI(i,e){let t;if(e instanceof Ou)t={update:D0(i,e.key,e.value)};else if(e instanceof Fp)t={delete:up(i,e.key)};else if(e instanceof wa)t={update:D0(i,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof _I))return Ie();t={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof zh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Ie()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:OI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie()}(i,e.precondition)),t}function MI(i,e){return i&&i.length>0?(st(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Li(o.updateTime):Li(l);return h.isEqual(xe.min())&&(h=Li(l)),new pI(h,o.transformResults||[])}(t,e))):[]}function kI(i,e){return{documents:[tb(i,e.path)]}}function PI(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=tb(i,o);const l=function(g){if(g.length!==0)return rb(fi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:Ao(w.field),direction:zI(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=op(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function LI(i){let e=xI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){st(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const w=ib(T);return w instanceof fi&&NT(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(L){return new Uh(So(L.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,lf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,O=T.values||[];return new Lh(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,O=T.values||[];return new Lh(O,w)}(t.endAt)),nI(e,o,h,l,m,"F",p,g)}function UI(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ib(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(t.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(i):i.fieldFilter!==void 0?function(t){return Vt.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return fi.create(t.compositeFilter.filters.map(s=>ib(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(i):Ie()}function zI(i){return RI[i]}function FI(i){return CI[i]}function jI(i){return II[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function So(i){return rn.fromServerFormat(i.fieldPath)}function rb(i){return i instanceof Vt?function(t){if(t.op==="=="){if(g0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(p0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(p0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:FI(t.op),value:t.value}}}(i):i instanceof fi?function(t){const s=t.getFilters().map(o=>rb(o));return s.length===1?s[0]:{compositeFilter:{op:jI(t.op),filters:s}}}(i):Ie()}function BI(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s,o,l=xe.min(),h=xe.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.Tt=e}}function HI(i){const e=LI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Tn=new GI}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ws.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class GI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new jt(dt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ab=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ab,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Lo(0)}static Un(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LruGarbageCollector",KI=1048576;function N0([i,e],[t,s]){const o=Ye(i,t);return o===0?Ye(e,s):o}class QI{constructor(e){this.Hn=e,this.buffer=new jt(N0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();N0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(x0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?ge(x0,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.er(3e5)})}}class XI{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(of.ae);const s=new QI(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(O0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),To()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function ZI(i,e){return new XI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&uu(s.mutation,o,ci.empty(),Ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ke()){const o=ua();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=ru();return l.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ua();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let l=Rr();const h=lu(),m=function(){return lu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof wa)?l=l.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),uu(_.mutation,g,_.mutation.getFieldMask(),Ft.now())):h.set(g.key,ci.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var T;return m.set(g,new JI(_,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const s=lu();let o=new vt((h,m)=>h-m),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||ci.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Ke()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=BT();_.forEach(w=>{if(!l.has(w)){const O=QT(t.get(w),s.get(w));O!==null&&T.set(w,O),l=l.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):te.resolve(ua());let m=mu,p=l;return h.next(g=>te.forEach(g,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ke())).next(_=>({batchId:m,changes:jT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=ru();return this.indexManager.getCollectionParents(e,l).next(m=>te.forEach(m,p=>{const g=function(T,w){return new Du(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,cn.newInvalidDocument(_)))});let m=ru();return h.forEach((p,g)=>{const _=l.get(p);_!==void 0&&uu(_.mutation,g,ci.empty(),Ft.now()),hf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:HI(o.bundledQuery),readTime:Li(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.overlays=new vt(Re.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ua();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ua(),l=t.length+1,h=new Re(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new vt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=ua(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return te.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new EI(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ke(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new jt(Zt.mr),this.gr=new jt(Zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Zt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new Re(new dt([])),s=new Zt(t,e),o=new Zt(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new dt([])),s=new Zt(t,e),o=new Zt(t,e+1);let l=Ke();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||Ye(e.Cr,t.Cr)}static pr(e,t){return Ye(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new jt(Zt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vI(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Zt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Mp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zt(t,0),o=new Zt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);l.push(m)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new jt(Ye);return t.forEach(o=>{const l=new Zt(o,0),h=new Zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],m=>{s=s.add(m.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Re.isDocumentKey(l)||(l=l.child(""));const h=new Zt(new Re(l),0);let m=new jt(Ye);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),te.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const l=new Zt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Zt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.kr=e,this.docs=function(){return new vt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():cn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Rr();const h=t.path,m=new Re(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||MC(VC(_),s)<=0||(o.has(_.key)||hf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ie()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new aD(this)}getSize(e){return te.resolve(this.size)}}class aD extends WI{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.persistence=e,this.Qr=new Sa(t=>Lp(t),Up),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hp,this.targetCount=0,this.Ur=Lo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new of(0),this.zr=!1,this.zr=!0,this.jr=new iD,this.referenceDelegate=e(this),this.Hr=new oD(this),this.indexManager=new $I,this.remoteDocumentCache=function(o){return new sD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new qI(t),this.Yr=new tD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new rD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ge("MemoryPersistence","Starting transaction:",e);const o=new lD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class lD extends PC{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new $p(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=Re.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,xe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.oi=new Sa(s=>zC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ZI(this,t)}static ri(e,t){return new Bh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,l.removeEntry(h,xe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ke(),o=Ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Gp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return a1()?8:LC(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new uD;return this._s(e,t,h).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(To()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(To()<=Ge.DEBUG&&ge("QueryEngine","Query:",bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(To()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(t))):te.resolve())}rs(e,t){if(E0(t))return te.resolve(null);let s=ki(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),s=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ke(...l);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,h,p.readTime)?this.rs(e,ap(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return E0(t)||o.isEqual(xe.min())?te.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?te.resolve(null):(To()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.hs(e,h,t,NC(o,mu)).next(m=>m))})}cs(e,t){let s=new jt(zT(e));return t.forEach((o,l)=>{hf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return To()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ns.getDocumentsMatchingQuery(e,t,ws.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LocalStore",hD=3e8;class fD{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new vt(Ye),this.Is=new Sa(l=>Lp(l),Up),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function dD(i,e,t,s){return new fD(i,e,t,s)}async function lb(i,e){const t=Ve(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let p=Ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function mD(i,e){const t=Ve(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const T=g.batch,w=T.keys();let O=te.resolve();return w.forEach(L=>{O=O.next(()=>_.getEntry(p,L)).next($=>{const j=g.docVersions.get(L);st(j!==null),$.version.compareTo(j)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),_.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function ub(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function pD(i,e){const t=Ve(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;m.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let O=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(T,O),function($,j,z){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=hD?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,O,_)&&m.push(t.Hr.updateTargetData(l,O))});let p=Rr(),g=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),m.push(gD(l,h,e.documentUpdates).next(_=>{p=_.Vs,g=_.fs})),!s.isEqual(xe.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(_)}return te.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function gD(i,e,t){let s=Ke(),o=Ke();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=Rr();return t.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ge(Kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function yD(i,e){const t=Ve(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Mp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _D(i,e){const t=Ve(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new gs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function hp(i,e,t){const s=Ve(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Go(h))throw h;ge(Kp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function V0(i,e,t){const s=Ve(i);let o=xe.min(),l=Ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Ve(p),w=T.Is.get(_);return w!==void 0?te.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,_)}(s,h,ki(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:xe.min(),t?l:Ke())).next(m=>(vD(s,rI(e),m),{documents:m,gs:l})))}function vD(i,e,t){let s=i.Es.get(e)||xe.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class M0{constructor(){this.activeTargetIds=cI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ED{constructor(){this.ho=new M0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new M0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class P0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function fp(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,l){const h=fp(),m=this.So(e,t.toUriEncodedString());ge(Pm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,m,p,s).then(g=>(ge(Pm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Vo(Pm,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,l,h){return this.bo(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}So(e,t){const s=bD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class wD extends AD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=fp();return new Promise((h,m)=>{const p=new dT;p.setWithCredentials(!0),p.listenOnce(mT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const _=p.getResponseJson();ge(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case gh.TIMEOUT:ge(ln,`RPC '${e}' ${l} timed out`),m(new Ee(ne.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const T=p.getStatus();if(ge(ln,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const L=function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN}(O.status);m(new Ee(L,O.message))}else m(new Ee(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(ne.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(ln,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);ge(ln,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=fp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yT(),m=gT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(ln,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);let w=!1,O=!1;const L=new SD({Fo:j=>{O?ge(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(ge(ln,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ge(ln,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Mo:()=>T.close()}),$=(j,z,K)=>{j.listen(z,J=>{try{K(J)}catch(de){setTimeout(()=>{throw de},0)}})};return $(T,iu.EventType.OPEN,()=>{O||(ge(ln,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),$(T,iu.EventType.CLOSE,()=>{O||(O=!0,ge(ln,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),$(T,iu.EventType.ERROR,j=>{O||(O=!0,Vo(ln,`RPC '${e}' stream ${o} transport errored:`,j),L.Ko(new Ee(ne.UNAVAILABLE,"The operation could not be completed")))}),$(T,iu.EventType.MESSAGE,j=>{var z;if(!O){const K=j.data[0];st(!!K);const J=K,de=(J==null?void 0:J.error)||((z=J[0])===null||z===void 0?void 0:z.error);if(de){ge(ln,`RPC '${e}' stream ${o} received error:`,de);const re=de.status;let pe=function(S){const D=xt[S];if(D!==void 0)return XT(D)}(re),M=de.message;pe===void 0&&(pe=ne.INTERNAL,M="Unknown error status: "+re+" with message "+de.message),O=!0,L.Ko(new Ee(pe,M)),T.close()}else ge(ln,`RPC '${e}' stream ${o} received:`,K),L.Uo(K)}}),$(m,pT.STAT_EVENT,j=>{j.stat===ep.PROXY?ge(ln,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ep.NOPROXY&&ge(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new DI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="PersistentStream";class hb{constructor(e,t,s,o,l,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Ee(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ge(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RD extends hb{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=NI(this.serializer,e),s=function(l){if(!("targetChange"in l))return xe.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Li(h.readTime):xe.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(l,h){let m;const p=h.target;if(m=rp(p)?{documents:kI(l,p)}:{query:PI(l,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=JT(l,h.resumeToken);const g=op(l,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(xe.min())>0){m.readTime=jh(l,h.snapshotVersion.toTimestamp());const g=op(l,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=UI(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.I_(t)}}class CD extends hb{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=MI(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=cp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>VI(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{}class DD extends ID{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,lp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ne.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,lp(t,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(wr(t),this.N_=!1):ge("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class xD{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ra(this)&&(ge(va,"Restarting streams for network reachability change."),await async function(p){const g=Ve(p);g.W_.add(4),await Nu(g),g.j_.set("Unknown"),g.W_.delete(4),await gf(g)}(this))})}),this.j_=new OD(s,o)}}async function gf(i){if(Ra(i))for(const e of i.G_)await e(!0)}async function Nu(i){for(const e of i.G_)await e(!1)}function fb(i,e){const t=Ve(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Zp(t)?Xp(t):Ko(t).c_()&&Yp(t,e))}function Qp(i,e){const t=Ve(i),s=Ko(t);t.U_.delete(e),s.c_()&&db(t,e),t.U_.size===0&&(s.c_()?s.P_():Ra(t)&&t.j_.set("Unknown"))}function Yp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(i).y_(e)}function db(i,e){i.H_.Ne(e),Ko(i).w_(e)}function Xp(i){i.H_=new wI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ko(i).start(),i.j_.B_()}function Zp(i){return Ra(i)&&!Ko(i).u_()&&i.U_.size>0}function Ra(i){return Ve(i).W_.size===0}function mb(i){i.H_=void 0}async function ND(i){i.j_.set("Online")}async function VD(i){i.U_.forEach((e,t)=>{Yp(i,e)})}async function MD(i,e){mb(i),Zp(i)?(i.j_.q_(e),Xp(i)):i.j_.set("Unknown")}async function kD(i,e,t){if(i.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ge(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(i,s)}else if(e instanceof Eh?i.H_.We(e):e instanceof ZT?i.H_.Ze(e):i.H_.je(e),!t.isEqual(xe.min()))try{const s=await ub(i.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),db(l,p);const T=new gs(_.target,p,g,_.sequenceNumber);Yp(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ge(va,"Failed to raise snapshot:",s),await qh(i,s)}}async function qh(i,e,t){if(!Go(e))throw e;i.W_.add(1),await Nu(i),i.j_.set("Offline"),t||(t=()=>ub(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ge(va,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await gf(i)})}function pb(i,e){return e().catch(t=>qh(i,t,e))}async function yf(i){const e=Ve(i),t=Ds(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Mp;for(;PD(e);)try{const o=await yD(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,LD(e,o)}catch(o){await qh(e,o)}gb(e)&&yb(e)}function PD(i){return Ra(i)&&i.K_.length<10}function LD(i,e){i.K_.push(e);const t=Ds(i);t.c_()&&t.b_&&t.S_(e.mutations)}function gb(i){return Ra(i)&&!Ds(i).u_()&&i.K_.length>0}function yb(i){Ds(i).start()}async function UD(i){Ds(i).C_()}async function zD(i){const e=Ds(i);for(const t of i.K_)e.S_(t.mutations)}async function FD(i,e,t){const s=i.K_.shift(),o=jp.from(s,e,t);await pb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await yf(i)}async function jD(i,e){e&&Ds(i).b_&&await async function(s,o){if(function(h){return bI(h)&&h!==ne.ABORTED}(o.code)){const l=s.K_.shift();Ds(s).h_(),await pb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await yf(s)}}(i,e),gb(i)&&yb(i)}async function U0(i,e){const t=Ve(i);t.asyncQueue.verifyOperationInProgress(),ge(va,"RemoteStore received new credentials");const s=Ra(t);t.W_.add(3),await Nu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gf(t)}async function BD(i,e){const t=Ve(i);e?(t.W_.delete(2),await gf(t)):e||(t.W_.add(2),await Nu(t),t.j_.set("Unknown"))}function Ko(i){return i.J_||(i.J_=function(t,s,o){const l=Ve(t);return l.M_(),new RD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:ND.bind(null,i),No:VD.bind(null,i),Lo:MD.bind(null,i),p_:kD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Zp(i)?Xp(i):i.j_.set("Unknown")):(await i.J_.stop(),mb(i))})),i.J_}function Ds(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ve(t);return l.M_(),new CD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:UD.bind(null,i),Lo:jD.bind(null,i),D_:zD.bind(null,i),v_:FD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await yf(i)):(await i.Y_.stop(),i.K_.length>0&&(ge(va,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new Wp(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(i,e){if(wr("AsyncQueue",`${e}: ${i}`),Go(i))return new Ee(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Re.comparator(t.key,s.key):(t,s)=>Re.comparator(t.key,s.key),this.keyedMap=ru(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Z_=new vt(Re.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Uo{constructor(e,t,s,o,l,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Uo(e,t,Io.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class HD{constructor(){this.queries=F0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ve(t),l=o.queries;o.queries=F0(),l.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Ee(ne.ABORTED,"Firestore shutting down"))}}function F0(){return new Sa(i=>UT(i),cf)}async function $D(i,e){const t=Ve(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new qD,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Jp(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&eg(t)}async function GD(i,e){const t=Ve(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function KD(i,e){const t=Ve(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&eg(t)}function QD(i,e,t){const s=Ve(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function eg(i){i.ia.forEach(e=>{e.next()})}var dp,j0;(j0=dp||(dp={}))._a="default",j0.Cache="cache";class YD{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class XD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ke(),this.mutatedKeys=Ke(),this.ya=zT(e),this.wa=new Io(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new z0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const w=o.get(_),O=hf(this.query,T)?T:null,L=!!w&&this.mutatedKeys.has(w.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;w&&O?w.data.isEqual(O.data)?L!==$&&(s.track({type:3,doc:O}),j=!0):this.va(w,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),j=!0):w&&!O&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(O?(h=h.add(O),l=$?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:h,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,T)=>function(O,L){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return $(O)-$(L)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Uo(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new z0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new vb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new _b(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ke();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tg="SyncEngine";class ZD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class WD{constructor(e){this.key=e,this.Ba=!1}}class JD{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Sa(m=>UT(m),cf),this.qa=new Map,this.Qa=new Set,this.$a=new vt(Re.comparator),this.Ka=new Map,this.Ua=new Hp,this.Wa={},this.Ga=new Map,this.za=Lo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function e2(i,e,t=!0){const s=wb(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Eb(s,e,t,!0),o}async function t2(i,e){const t=wb(i);await Eb(t,e,!0,!1)}async function Eb(i,e,t,s){const o=await _D(i.localStore,ki(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await n2(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&fb(i.remoteStore,o),m}async function n2(i,e,t,s,o){i.Ha=(T,w,O)=>async function($,j,z,K){let J=j.view.Sa(z);J.ls&&(J=await V0($.localStore,j.query,!1).then(({documents:M})=>j.view.Sa(M,J)));const de=K&&K.targetChanges.get(j.targetId),re=K&&K.targetMismatches.get(j.targetId)!=null,pe=j.view.applyChanges(J,$.isPrimaryClient,de,re);return q0($,j.targetId,pe.Ma),pe.snapshot}(i,T,w,O);const l=await V0(i.localStore,e,!0),h=new XD(e,l.gs),m=h.Sa(l.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);q0(i,t,g.Ma);const _=new ZD(e,t,h);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function i2(i,e,t){const s=Ve(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!cf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Qp(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch($o)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function r2(i,e){const t=Ve(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Qp(t.remoteStore,s.targetId))}async function s2(i,e,t){const s=f2(i);try{const o=await function(h,m){const p=Ve(h),g=Ft.now(),_=m.reduce((O,L)=>O.add(L.key),Ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Rr(),$=Ke();return p.ds.getEntries(O,_).next(j=>{L=j,L.forEach((z,K)=>{K.isValidDocument()||($=$.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,L)).next(j=>{T=j;const z=[];for(const K of m){const J=yI(K,T.get(K.key).overlayedDocument);J!=null&&z.push(new wa(K.key,J,DT(J.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,z,m)}).next(j=>{w=j;const z=j.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(O,j.batchId,z)})}).then(()=>({batchId:w.batchId,changes:jT(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new vt(Ye)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Vu(s,o.changes),await yf(s.remoteStore)}catch(o){const l=Jp(o,"Failed to persist write");t.reject(l)}}async function Tb(i,e){const t=Ve(i);try{const s=await pD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?st(h.Ba):o.removedDocuments.size>0&&(st(h.Ba),h.Ba=!1))}),await Vu(t,s,e)}catch(s){await $o(s)}}function B0(i,e,t){const s=Ve(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ve(h);p.onlineState=m;let g=!1;p.queries.forEach((_,T)=>{for(const w of T.ta)w.sa(m)&&(g=!0)}),g&&eg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function a2(i,e,t){const s=Ve(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new vt(Re.comparator);h=h.insert(l,cn.newNoDocument(l,xe.min()));const m=Ke().add(l),p=new mf(xe.min(),new Map,new vt(Ye),h,m);await Tb(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),ng(s)}else await hp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch($o)}async function o2(i,e){const t=Ve(i),s=e.batch.batchId;try{const o=await mD(t.localStore,e);Ab(t,s,null),bb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(t,o)}catch(o){await $o(o)}}async function l2(i,e,t){const s=Ve(i);try{const o=await function(h,m){const p=Ve(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(st(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);Ab(s,e,t),bb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Vu(s,o)}catch(o){await $o(o)}}function bb(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Ab(i,e,t){const s=Ve(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function mp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Sb(i,s)})}function Sb(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Qp(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),ng(i))}function q0(i,e,t){for(const s of t)s instanceof _b?(i.Ua.addReference(s.key,e),u2(i,s)):s instanceof vb?(ge(tg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Sb(i,s.key)):Ie()}function u2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ge(tg,"New document in limbo: "+t),i.Qa.add(s),ng(i))}function ng(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Re(dt.fromString(e)),s=i.za.next();i.Ka.set(s,new WD(t)),i.$a=i.$a.insert(t,s),fb(i.remoteStore,new gs(ki(PT(t.path)),s,"TargetPurposeLimboResolution",of.ae))}}async function Vu(i,e,t){const s=Ve(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Gp.Yi(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const _=Ve(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,w=>te.forEach(w.Hi,O=>_.persistence.referenceDelegate.addReference(T,w.targetId,O)).next(()=>te.forEach(w.Ji,O=>_.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))}catch(T){if(!Go(T))throw T;ge(Kp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=_.Ts.get(w),L=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(L);_.Ts=_.Ts.insert(w,$)}}}(s.localStore,l))}async function c2(i,e){const t=Ve(i);if(!t.currentUser.isEqual(e)){ge(tg,"User change. New user:",e.toKey());const s=await lb(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Ee(ne.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(t,s.Rs)}}function h2(i,e){const t=Ve(i),s=t.Ka.get(e);if(s&&s.Ba)return Ke().add(s.key);{let o=Ke();const l=t.qa.get(e);if(!l)return o;for(const h of l){const m=t.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function wb(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a2.bind(null,e),e.La.p_=KD.bind(null,e.eventManager),e.La.Ja=QD.bind(null,e.eventManager),e}function f2(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return dD(this.persistence,new cD,e.initialUser,this.serializer)}Xa(e){return new ob($p.ri,this.serializer)}Za(e){return new ED}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class d2 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof Bh);const s=this.persistence.referenceDelegate.garbageCollector;return new YI(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ob(s=>Bh.ri(s,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HD}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=function(l){return new wD(l)}(e.databaseInfo);return function(l,h,m,p){return new DD(l,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,m){return new xD(s,o,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>B0(this.syncEngine,t,0),function(){return P0.D()?new P0:new TD}())}createSyncEngine(e,t){return function(o,l,h,m,p,g,_){const T=new JD(o,l,h,m,p,g);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ve(o);ge(va,"RemoteStore shutting down."),l.W_.add(5),await Nu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class p2{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ge(Os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ge(Os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Um(i,e){i.asyncQueue.verifyOperationInProgress(),ge(Os,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function H0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await g2(i);ge(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>U0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>U0(e.remoteStore,o)),i._onlineComponents=e}async function g2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(Os,"Using user provided OfflineComponentProvider");try{await Um(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),await Um(i,new Hh)}}else ge(Os,"Using default OfflineComponentProvider"),await Um(i,new d2(void 0));return i._offlineComponents}async function Rb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(Os,"Using user provided OnlineComponentProvider"),await H0(i,i._uninitializedComponentsProvider._online)):(ge(Os,"Using default OnlineComponentProvider"),await H0(i,new pp))),i._onlineComponents}function y2(i){return Rb(i).then(e=>e.syncEngine)}async function _2(i){const e=await Rb(i),t=e.eventManager;return t.onListen=e2.bind(null,e.syncEngine),t.onUnlisten=i2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=t2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r2.bind(null,e.syncEngine),t}function v2(i,e,t={}){const s=new Ts;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,p,g){const _=new m2({next:w=>{_.su(),h.enqueueAndForget(()=>GD(l,T)),w.fromCache&&p.source==="server"?g.reject(new Ee(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new YD(m,_,{includeMetadataChanges:!0,Ta:!0});return $D(l,T)}(await _2(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(i,e,t){if(!t)throw new Ee(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function E2(i,e,t,s){if(e===!0&&s===!0)throw new Ee(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function G0(i){if(!Re.isDocumentKey(i))throw new Ee(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function K0(i){if(Re.isDocumentKey(i))throw new Ee(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _f(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie()}function Eu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(i);throw new Ee(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firestore.googleapis.com",Q0=!0;class Y0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=Q0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Q0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ab;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KI)throw new Ee(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$0.get(t);s&&(ge("ComponentProvider","Removing Datastore"),$0.delete(t),s.terminate())}(this),Promise.resolve()}}function T2(i,e,t,s={}){var o;const l=(i=Eu(i,vf))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;l.host!==Db&&l.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:s});if(!ga(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=un.MOCK_USER;else{g=JR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Ee(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(T)}i._authCredentials=new wC(new _T(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class bs extends Qo{constructor(e,t,s){super(e,t,PT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Re(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function Tu(i,e,...t){if(i=wn(i),Ib("collection","path",e),i instanceof vf){const s=dt.fromString(e,...t);return K0(s),new bs(i,null,s)}{if(!(i instanceof Wn||i instanceof bs))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return K0(s),new bs(i.firestore,null,s)}}function ig(i,e,...t){if(i=wn(i),arguments.length===1&&(e=vT.newId()),Ib("doc","path",e),i instanceof vf){const s=dt.fromString(e,...t);return G0(s),new Wn(i,null,new Re(s))}{if(!(i instanceof Wn||i instanceof bs))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return G0(s),new Wn(i.firestore,i instanceof bs?i.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cb(this,"async_queue_retry"),this.bu=()=>{const s=Lm();s&&ge(X0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Go(e))throw e;ge(X0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw wr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Wp.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ef extends vf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function b2(i,e){const t=typeof i=="object"?i:uT(),s=typeof i=="string"?i:kh,o=Np(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ZR("firestore");l&&T2(o,...l)}return o}function Ob(i){if(i._terminated)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||A2(i),i._firestoreClient}function A2(i){var e,t,s;const o=i._freezeSettings(),l=function(m,p,g,_){return new BC(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Cb(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new p2(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(sn.fromBase64String(e))}catch(t){throw new Ee(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class w2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}function Nb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class og{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Nb(this.Lu)&&S2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class R2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}ju(e,t,s,o=!1){return new og({Lu:e,methodName:t,zu:s,path:rn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(i){const e=i._freezeSettings(),t=pf(i._databaseId);return new R2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function C2(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);Pb("Data must be an object, but it was:",h,s);const m=Mb(s,h);let p,g;if(l.merge)p=new ci(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=D2(e,T,t);if(!h.contains(w))throw new Ee(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);x2(_,w)||_.push(w)}p=new ci(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new w2(new Zn(m),p,g)}function I2(i,e,t,s=!1){return lg(t,i.ju(s?4:3,e))}function lg(i,e){if(kb(i=wn(i)))return Pb("Unsupported field value:",e,i),Mb(i,e);if(i instanceof xb)return function(s,o){if(!Nb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let p=lg(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ft.fromDate(s);return{timestampValue:jh(o.serializer,l)}}if(s instanceof Ft){const l=new Ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,l)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zo)return{bytesValue:JT(o.serializer,s._byteString)};if(s instanceof Wn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ag)return function(h,m){return{mapValue:{fields:{[CT]:{stringValue:IT},[Ph]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return zp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${_f(s)}`)}(i,e)}function Mb(i,e){const t={};return TT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(i,(s,o)=>{const l=lg(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function kb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ft||i instanceof sg||i instanceof zo||i instanceof Wn||i instanceof xb||i instanceof ag)}function Pb(i,e,t){if(!kb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=_f(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function D2(i,e,t){if((e=wn(e))instanceof rg)return e._internalPath;if(typeof e=="string")return Lb(i,e);throw $h("Field path arguments must be of type string or ",i,!1,void 0,t)}const O2=new RegExp("[~\\*/\\[\\]]");function Lb(i,e,t){if(e.search(O2)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new rg(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function $h(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Ee(ne.INVALID_ARGUMENT,m+i+p)}function x2(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ug("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N2 extends Ub{data(){return super.data()}}function ug(i,e){return typeof e=="string"?Lb(i,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class M2 extends cg{}function gp(i,e,...t){let s=[];e instanceof cg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof hg).length,m=l.filter(p=>p instanceof Tf).length;if(h>1||h>0&&m>0)throw new Ee(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Tf extends M2{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return zb(e._query,t),new Qo(e.firestore,e.converter,sp(e._query,t))}_parse(e){const t=Vb(e.firestore);return function(l,h,m,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){J0(T,_);const L=[];for(const $ of T)L.push(W0(p,l,$));w={arrayValue:{values:L}}}else w=W0(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||J0(T,_),w=I2(m,h,T,_==="in"||_==="not-in");return Vt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Th(i,e,t){const s=e,o=ug("where",i);return Tf._create(o,s,t)}class hg extends cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const m=l.getFlattenedFilters();for(const p of m)zb(h,p),h=sp(h,p)}(e._query,t),new Qo(e.firestore,e.converter,sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W0(i,e,t){if(typeof(t=wn(t))=="string"){if(t==="")throw new Ee(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&t.indexOf("/")!==-1)throw new Ee(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(dt.fromString(t));if(!Re.isDocumentKey(s))throw new Ee(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return m0(i,new Re(s))}if(t instanceof Wn)return m0(i,t._key);throw new Ee(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function J0(i,e){if(!Array.isArray(i)||i.length===0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zb(i,e){const t=function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class k2{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Aa(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Rt(h.doubleValue));return new ag(l)}convertGeoPoint(e){return new sg(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=dt.fromString(e);st(sb(s));const o=new gu(s.get(1),s.get(3)),l=new Re(s.popFirst(5));return o.isEqual(t)||wr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L2 extends Ub{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class bh extends L2{data(e={}){return super.data(e)}}class U2{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ch(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new bh(this._firestore,this._userDataWriter,s.key,s,new ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:z2(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class F2 extends k2{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function bu(i){i=Eu(i,Qo);const e=Eu(i.firestore,Ef),t=Ob(e),s=new F2(e);return V2(i._query),v2(t,i._query).then(o=>new U2(e,s,i,o))}function Fb(i){return Bb(Eu(i.firestore,Ef),[new Fp(i._key,Pi.none())])}function jb(i,e){const t=Eu(i.firestore,Ef),s=ig(i),o=P2(i.converter,e);return Bb(t,[C2(Vb(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function Bb(i,e){return function(s,o){const l=new Ts;return s.asyncQueue.enqueueAndForget(async()=>s2(await y2(s),o,l)),l.promise}(Ob(i),e)}(function(e,t=!0){(function(o){Ho=o})(qo),No(new ya("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new Ef(new RC(s.getProvider("auth-internal")),new DC(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),vs(i0,r0,e),vs(i0,r0,"esm2017")})();var j2="firebase",B2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(j2,B2,"app");function fg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q2=qb,Hb=new Cu("auth","Firebase",qb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Op("@firebase/auth");function H2(i,...e){Gh.logLevel<=Ge.WARN&&Gh.warn(`Auth (${qo}): ${i}`,...e)}function Ah(i,...e){Gh.logLevel<=Ge.ERROR&&Gh.error(`Auth (${qo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(i,...e){throw mg(i,...e)}function hi(i,...e){return mg(i,...e)}function dg(i,e,t){const s=Object.assign(Object.assign({},q2()),{[e]:t});return new Cu("auth","Firebase",s).create(e,{appName:i.name})}function da(i){return dg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $2(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ji(i,"argument-error"),dg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Hb.create(i,...e)}function De(i,e,...t){if(!i)throw mg(e,...t)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function Cr(i,e){i||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function G2(){return eE()==="http:"||eE()==="https:"}function eE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G2()||i1()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=e1()||r1()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Mu(3e4,6e4);function gg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Yo(i,e,t,s,o={}){return Gb(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=Iu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return n1()||(g.referrerPolicy="no-referrer"),$b.fetch()(Kb(i,i.config.apiHost,t,m),g)})}async function Gb(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Y2),e);try{const o=new W2(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dg(i,_,g);ji(i,_)}}catch(o){if(o instanceof Dr)throw o;ji(i,"network-request-failed",{message:String(o)})}}async function Z2(i,e,t,s,o={}){const l=await Yo(i,e,t,s,o);return"mfaPendingCredential"in l&&ji(i,"multi-factor-auth-required",{_serverResponse:l}),l}function Kb(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?pg(i.config,o):`${i.config.apiScheme}://${o}`}class W2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),X2.get())})}}function hh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=hi(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(i,e){return Yo(i,"POST","/v1/accounts:delete",e)}async function Qb(i,e){return Yo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eO(i,e=!1){const t=wn(i),s=await t.getIdToken(e),o=yg(s);De(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:cu(zm(o.auth_time)),issuedAtTime:cu(zm(o.iat)),expirationTime:cu(zm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zm(i){return Number(i)*1e3}function yg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tE(i){const e=yg(i);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Dr&&tO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function tO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Au(i,Qb(t,{idToken:s}));De(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Yb(l.providerUserInfo):[],m=rO(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new _p(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function iO(i){const e=wn(i);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Yb(i){return i.map(e=>{var{providerId:t}=e,s=fg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(i,e){const t=await Gb(i,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=Kb(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$b.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aO(i,e){return Yo(i,"POST","/v2/accounts:revokeToken",gg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=tE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await sO(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Do;return s&&(De(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(De(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(De(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(i,e){De(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _p(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eO(this,e)}reload(){return iO(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Au(this,J2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,m,p,g,_;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:de,isAnonymous:re,providerData:pe,stsTokenManager:M}=t;De(J&&M,e,"internal-error");const R=Do.fromJSON(this.name,M);De(typeof J=="string",e,"internal-error"),hs(T,e.name),hs(w,e.name),De(typeof de=="boolean",e,"internal-error"),De(typeof re=="boolean",e,"internal-error"),hs(O,e.name),hs(L,e.name),hs($,e.name),hs(j,e.name),hs(z,e.name),hs(K,e.name);const S=new Tr({uid:J,auth:e,email:w,emailVerified:de,displayName:T,isAnonymous:re,photoURL:L,phoneNumber:O,tenantId:$,stsTokenManager:R,createdAt:z,lastLoginAt:K});return pe&&Array.isArray(pe)&&(S.providerData=pe.map(D=>Object.assign({},D))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new Do;o.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Kh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];De(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Yb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Do;m.updateFromIdToken(s);const p=new Tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function br(i){Cr(i instanceof Function,"Expected a class definition");let e=nE.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,nE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xb.type="NONE";const iE=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i,e,t){return`firebase:${i}:${e}:${t}`}class Oo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Sh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Oo(br(iE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||br(iE);const h=Sh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){const T=Tr._fromJSON(e,_);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Oo(l,e,s):(l=p[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Oo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(iA(e))return"Webos";if(Wb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Zb(i=hn()){return/firefox\//i.test(i)}function Wb(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(i=hn()){return/crios\//i.test(i)}function eA(i=hn()){return/iemobile/i.test(i)}function tA(i=hn()){return/android/i.test(i)}function nA(i=hn()){return/blackberry/i.test(i)}function iA(i=hn()){return/webos/i.test(i)}function _g(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oO(i=hn()){var e;return _g(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lO(){return s1()&&document.documentMode===10}function rA(i=hn()){return _g(i)||tA(i)||iA(i)||nA(i)||/windows phone/i.test(i)||eA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(i,e=[]){let t;switch(i){case"Browser":t=rE(hn());break;case"Worker":t=`${rE(hn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const p=e(l);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(i,e={}){return Yo(i,"GET","/v2/passwordPolicy",gg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=6;class fO{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:hO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new uO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qb(this,{idToken:e}),s=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(li(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(da(this));const t=e?wn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cO(this),t=new fO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await aO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&H2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bf(i){return wn(i)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mO(i){vg=i}function pO(i){return vg.loadJS(i)}function gO(){return vg.gapiScript}function yO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i,e){const t=Np(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ga(l,e??{}))return o;ji(o,"already-initialized")}return t.initialize({options:e})}function vO(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(br);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function EO(i,e,t){const s=bf(i);De(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=aA(e),{host:h,port:m}=TO(e),p=m===null?"":`:${m}`,g={url:`${l}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){De(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),De(ga(g,s.config.emulator)&&ga(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,bO()}function aA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TO(i){const e=aA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:aE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:aE(h)}}}function aE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i,e){return Z2(i,"POST","/v1/accounts:signInWithIdp",gg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="http://localhost";class Ea extends oA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=fg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ea(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:AO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends ku{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vr.credential(t,s)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ku{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ku{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ms.credential(t,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Tr._fromIdTokenResponse(e,s,o),h=oE(s);return new Fo({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new Fo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function oE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Dr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qh(e,t,s,o)}}function lA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(i,l,e,s):l})}async function SO(i,e,t=!1){const s=await Au(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Fo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,e,t=!1){const{auth:s}=i;if(li(s.app))return Promise.reject(da(s));const o="reauthenticate";try{const l=await Au(i,lA(s,o,e,i),t);De(l.idToken,s,"internal-error");const h=yg(l.idToken);De(h,s,"internal-error");const{sub:m}=h;return De(i.uid===m,s,"user-mismatch"),Fo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ji(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(i,e,t=!1){if(li(i.app))return Promise.reject(da(i));const s="signIn",o=await lA(i,s,e),l=await Fo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}function CO(i,e,t,s){return wn(i).onIdTokenChanged(e,t,s)}function IO(i,e,t){return wn(i).beforeAuthStateChanged(e,t)}function DO(i,e,t,s){return wn(i).onAuthStateChanged(e,t,s)}function OO(i){return wn(i).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1e3,NO=10;class cA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);lO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NO):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cA.type="LOCAL";const VO=cA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hA.type="SESSION";const fA=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,l)),p=await MO(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,p)=>{const g=Tg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function PO(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function LO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function zO(){return dA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",FO=1,Xh="firebaseLocalStorage",pA="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sf(i,e){return i.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function jO(){const i=indexedDB.deleteDatabase(mA);return new Pu(i).toPromise()}function vp(){const i=indexedDB.open(mA,FO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Xh,{keyPath:pA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Xh)?e(s):(s.close(),await jO(),e(await vp()))})})}async function lE(i,e,t){const s=Sf(i,!0).put({[pA]:e,value:t});return new Pu(s).toPromise()}async function BO(i,e){const t=Sf(i,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function uE(i,e){const t=Sf(i,!0).delete(e);return new Pu(t).toPromise()}const qO=800,HO=3;class gA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>HO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(zO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LO(),!this.activeServiceWorker)return;this.sender=new kO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await lE(e,Yh,"1"),await uE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>BO(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Sf(o,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gA.type="LOCAL";const $O=gA;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(i,e){return e?br(e):(De(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends oA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GO(i){return RO(i.auth,new bg(i),i.bypassAuthState)}function KO(i){const{auth:e,user:t}=i;return De(t,e,"internal-error"),wO(t,new bg(i),i.bypassAuthState)}async function QO(i){const{auth:e,user:t}=i;return De(t,e,"internal-error"),SO(t,new bg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:ji(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Mu(2e3,1e4);async function XO(i,e,t){if(li(i.app))return Promise.reject(hi(i,"operation-not-supported-in-this-environment"));const s=bf(i);$2(i,e,Eg);const o=yA(s,t);return new ca(s,"signInViaPopup",e,o).executeNotNull()}class ca extends _A{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="pendingRedirect",wh=new Map;class WO extends _A{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await JO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JO(i,e){const t=nx(e),s=tx(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ex(i,e){wh.set(i._key(),e)}function tx(i){return br(i._redirectPersistence)}function nx(i){return Sh(ZO,i.config.apiKey,i.name)}async function ix(i,e,t=!1){if(li(i.app))return Promise.reject(da(i));const s=bf(i),o=yA(s,e),h=await new WO(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=10*60*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ax(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!vA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(hi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rx&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ax(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e={}){return Yo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ux=/^https?/;async function cx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ox(i);for(const t of e)try{if(hx(t))return}catch{}ji(i,"unauthorized-domain")}function hx(i){const e=yp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ux.test(t))return!1;if(lx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new Mu(3e4,6e4);function hE(){const i=Ui().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function dx(i){return new Promise((e,t)=>{var s,o,l;function h(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),t(hi(i,"network-request-failed"))},timeout:fx.get()})}if(!((o=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ui().gapi)===null||l===void 0)&&l.load)h();else{const m=yO("iframefcb");return Ui()[m]=()=>{gapi.load?h():t(hi(i,"network-request-failed"))},pO(`${gO()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function mx(i){return Rh=Rh||dx(i),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Mu(5e3,15e3),gx="__/auth/iframe",yx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ex(i){const e=i.config;De(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?pg(e,yx):`https://${i.config.authDomain}/${gx}`,s={apiKey:e.apiKey,appName:i.name,v:qo},o=vx.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Iu(s).slice(1)}`}async function Tx(i){const e=await mx(i),t=Ui().gapi;return De(t,i,"internal-error"),e.open({where:document.body,url:Ex(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=hi(i,"network-request-failed"),m=Ui().setTimeout(()=>{l(h)},px.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Sx=600,wx="_blank",Rx="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cx(i,e,t,s=Ax,o=Sx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},bx),{width:s.toString(),height:o.toString(),top:l,left:h}),g=hn().toLowerCase();t&&(m=Jb(g)?wx:t),Zb(g)&&(e=e||Rx,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[O,L])=>`${w}${O}=${L},`,"");if(oO(g)&&m!=="_self")return Ix(e||"",m),new fE(null);const T=window.open(e||"",m,_);De(T,i,"popup-blocked");try{T.focus()}catch{}return new fE(T)}function Ix(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="__/auth/handler",Ox="emulator/auth/handler",xx=encodeURIComponent("fac");async function dE(i,e,t,s,o,l){De(i.config.authDomain,i,"auth-domain-config-required"),De(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:qo,eventId:o};if(e instanceof Eg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",f1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof ku){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${xx}=${encodeURIComponent(p)}`:"";return`${Nx(i)}?${Iu(m).slice(1)}${g}`}function Nx({config:i}){return i.emulator?pg(i,Ox):`https://${i.authDomain}/${Dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=ix,this._overrideRedirectResult=ex}async _openPopup(e,t,s,o){var l;Cr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await dE(e,t,s,yp(),o);return Cx(e,h,Tg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await dE(e,t,s,yp(),o);return PO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Tx(e),s=new sx(e);return t.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fm,{type:Fm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Fm];h!==void 0&&t(!!h),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rA()||Wb()||_g()}}const Mx=Vx;var mE="@firebase/auth",pE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lx(i){No(new ya("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;De(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(i)},g=new dO(s,o,l,p);return vO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),No(new ya("auth-internal",e=>{const t=bf(e.getProvider("auth").getImmediate());return(s=>new kx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(mE,pE,Px(i)),vs(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=5*60,zx=sT("authIdTokenMaxAge")||Ux;let gE=null;const Fx=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>zx)return;const o=t==null?void 0:t.token;gE!==o&&(gE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jx(i=uT()){const e=Np(i,"auth");if(e.isInitialized())return e.getImmediate();const t=_O(i,{popupRedirectResolver:Mx,persistence:[$O,VO,fA]}),s=sT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=Fx(l.toString());IO(t,h,()=>h(t.currentUser)),CO(t,m=>h(m))}}const o=iT("auth");return o&&EO(t,`http://${o}`),t}function Bx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}mO({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=hi("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",Bx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lx("Browser");const qx={apiKey:"AIzaSyD9rrMPA-io_Olgbe5XVvVTODaO6cSpn64",authDomain:"plswork-56953.firebaseapp.com",projectId:"plswork-56953",storageBucket:"plswork-56953.firebasestorage.app",messagingSenderId:"719156608824",appId:"1:719156608824:web:de2fcd6df8c2b36c41cbcd"},EA=lT(qx),Ta=jx(EA),yE=new vr,ma=b2(EA);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hx(i,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function m(_){try{g(s.next(_))}catch(T){h(T)}}function p(_){try{g(s.throw(_))}catch(T){h(T)}}function g(_){_.done?l(_.value):o(_.value).then(m,p)}g((s=s.apply(i,[])).next())})}function $x(i,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(_){g=[6,_],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ro=function(){return Ro=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ro.apply(this,arguments)},TA=function(i){return{loading:i==null,value:i}},Gx=function(){return function(i,e){switch(e.type){case"error":return Ro(Ro({},i),{error:e.error,loading:!1,value:void 0});case"reset":return TA(e.defaultValue);case"value":return Ro(Ro({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},Kx=function(i){var e=i?i():void 0,t=Z.useReducer(Gx(),TA(e)),s=t[0],o=t[1],l=Z.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=Z.useCallback(function(p){o({type:"error",error:p})},[]),m=Z.useCallback(function(p){o({type:"value",value:p})},[]);return Z.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:m,value:s.value}},[s.error,s.loading,l,h,m,s.value])},Lu=function(i,e){var t=Kx(function(){return i.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,m=t.value;return Z.useEffect(function(){var p=DO(i,function(g){return Hx(void 0,void 0,void 0,function(){var _;return $x(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return h(g),[2]}})})},l);return function(){p()}},[i]),[m,o,s]};const Qx=i=>{const{post:e}=i,[t]=Lu(Ta),s=Tu(ma,"likes"),[o,l]=Z.useState([]),h=async()=>{const _=gp(s,Th("postId","==",e.id)),T=await bu(_);l(T.docs.map(w=>({userId:w.data().userId,id:w.id})))},m=o.find(_=>_.userId===(t==null?void 0:t.uid)),p=async()=>{try{const _=await jb(s,{userId:t==null?void 0:t.uid,postId:e.id});l(T=>[...T,{userId:t==null?void 0:t.uid,id:_.id}])}catch(_){console.log(_)}},g=async()=>{try{const _=gp(s,Th("userId","==",t==null?void 0:t.uid),Th("postId","==",e.id)),w=(await bu(_)).docs[0].id,O=ig(ma,"likes",w);await Fb(O),l(L=>L.filter($=>$.id!==w))}catch(_){console.log(_)}};return Z.useEffect(()=>{h()},[]),he.jsx("div",{className:"bg-red-100 p-6",children:he.jsxs("div",{className:"bg-indigo-100 p-4 rounded-lg shadow-md max-w-md mx-auto overflow-hidden",children:[he.jsx("h1",{className:"text-xl font-bold text-indigo-800 mb-2",children:e.title}),he.jsx("div",{className:"text-indigo-700 mb-4",children:he.jsx("p",{children:e.description})}),he.jsx("div",{className:"text-indigo-600 mb-4",children:he.jsxs("p",{children:["Likes: ",o.length]})}),he.jsxs("div",{className:"flex items-center justify-between",children:[he.jsxs("p",{className:"text-indigo-600",children:["@",e.username]}),he.jsx("div",{className:"flex items-center gap-2",children:he.jsx("button",{onClick:m?g:p,className:"text-indigo-600 hover:text-indigo-800 cursor-pointer bg-indigo-300 rounded-full p-2",children:m?he.jsx(he.Fragment,{children:""}):he.jsx(he.Fragment,{children:""})})})]})]})})},Yx=()=>{const i=Tu(ma,"posts"),[e,t]=Z.useState([]),[s]=Lu(Ta),o=async()=>{const l=await bu(i);t(l.docs.map(h=>({...h.data(),id:h.id})))};return Z.useEffect(()=>{o()},[]),s?he.jsx("div",{className:"bg-red-100 min-h-screen",children:e.map(l=>he.jsx(Qx,{post:l},l.id))}):he.jsx("div",{className:"bg-red-100 min-h-screen flex items-center justify-center",children:he.jsx("h1",{className:"text-[3rem] font-bold text-indigo-600",children:"login karle na bhai pls"})})},Xx=()=>{const i=rf();yE.setCustomParameters({prompt:"select_account"});const e=async()=>{await XO(Ta,yE),i("/")};return he.jsxs("div",{className:"min-h-screen flex flex-col items-center p-6 bg-red-100",children:[he.jsx("h1",{className:"font-bold text-[2rem] text-indigo-600",children:"Sign in with Google to continue..."}),he.jsx("button",{onClick:e,className:"text-[1.3rem] m-2 border-3 border-indigo-600 text-indigo-600 font-bold bg-indigo-200 p-2 rounded-lg cursor-pointer ",children:"Sign in"})]})},Zx=()=>{const[i]=Lu(Ta),e=rf(),t=()=>{OO(Ta),e("/login")};return he.jsxs("div",{className:"navbar h-[10vh] w-full flex justify-between items-center px-4 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white text-[1.4rem] font-bold",children:[he.jsxs("div",{className:"navbar-links flex flex-row items-center gap-4",children:[he.jsx(wo,{to:"/",children:"Home"}),i?he.jsxs(he.Fragment,{children:[he.jsx(wo,{to:"/createpost",children:"Create Post"}),he.jsx(wo,{to:"/myposts",children:"My Posts"})]}):he.jsx(wo,{to:"/login",children:"Login"})]}),he.jsx("div",{className:"navbar-user-info flex items-center gap-4",children:i&&he.jsxs(he.Fragment,{children:[he.jsx("p",{children:i==null?void 0:i.displayName}),he.jsx("img",{src:(i==null?void 0:i.photoURL)||"",alt:"O",width:"40",height:"40",className:"rounded-full"}),he.jsx("button",{onClick:t,className:"ml-4 border-white  border-2 cursor-pointer justify-center items-center text-center px-2 py-1 rounded",children:"Log out"})]})})]})};var Uu=i=>i.type==="checkbox",ha=i=>i instanceof Date,_n=i=>i==null;const bA=i=>typeof i=="object";var Ct=i=>!_n(i)&&!Array.isArray(i)&&bA(i)&&!ha(i),Wx=i=>Ct(i)&&i.target?Uu(i.target)?i.target.checked:i.target.value:i,Jx=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,eN=(i,e)=>i.has(Jx(e)),tN=i=>{const e=i.constructor&&i.constructor.prototype;return Ct(e)&&e.hasOwnProperty("isPrototypeOf")},Ag=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(i){let e;const t=Array.isArray(i),s=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(i instanceof Set)e=new Set(i);else if(!(Ag&&(i instanceof Blob||s))&&(t||Ct(i)))if(e=t?[]:{},!t&&!tN(i))e=i;else for(const o in i)i.hasOwnProperty(o)&&(e[o]=Yn(i[o]));else return i;return e}var wf=i=>Array.isArray(i)?i.filter(Boolean):[],Nt=i=>i===void 0,ye=(i,e,t)=>{if(!e||!Ct(i))return t;const s=wf(e.split(/[,[\].]+?/)).reduce((o,l)=>_n(o)?o:o[l],i);return Nt(s)||s===i?Nt(i[e])?t:i[e]:s},xi=i=>typeof i=="boolean",Sg=i=>/^\w*$/.test(i),AA=i=>wf(i.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(i,e,t)=>{let s=-1;const o=Sg(e)?[e]:AA(e),l=o.length,h=l-1;for(;++s<l;){const m=o[s];let p=t;if(s!==h){const g=i[m];p=Ct(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;i[m]=p,i=i[m]}return i};const _E={BLUR:"blur",FOCUS_OUT:"focusout"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Xn.createContext(null);var nN=(i,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const l in i)Object.defineProperty(o,l,{get:()=>{const h=l;return e._proxyFormState[h]!==ui.all&&(e._proxyFormState[h]=!s||ui.all),i[h]}});return o},bn=i=>Ct(i)&&!Object.keys(i).length,iN=(i,e,t,s)=>{t(i);const{name:o,...l}=i;return bn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(h=>e[h]===ui.all)},Ch=i=>Array.isArray(i)?i:[i];function rN(i){const e=Xn.useRef(i);e.current=i,Xn.useEffect(()=>{const t=!i.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[i.disabled])}var Mi=i=>typeof i=="string",sN=(i,e,t,s,o)=>Mi(i)?(s&&e.watch.add(i),ye(t,i,o)):Array.isArray(i)?i.map(l=>(s&&e.watch.add(l),ye(t,l))):(s&&(e.watchAll=!0),t),SA=(i,e,t,s,o)=>e?{...t[i],types:{...t[i]&&t[i].types?t[i].types:{},[s]:o||!0}}:{},vE=i=>({isOnSubmit:!i||i===ui.onSubmit,isOnBlur:i===ui.onBlur,isOnChange:i===ui.onChange,isOnAll:i===ui.all,isOnTouch:i===ui.onTouched}),EE=(i,e,t)=>!t&&(e.watchAll||e.watch.has(i)||[...e.watch].some(s=>i.startsWith(s)&&/^\.\w+/.test(i.slice(s.length))));const hu=(i,e,t,s)=>{for(const o of t||Object.keys(i)){const l=ye(i,o);if(l){const{_f:h,...m}=l;if(h){if(h.refs&&h.refs[0]&&e(h.refs[0],o)&&!s)return!0;if(h.ref&&e(h.ref,h.name)&&!s)return!0;if(hu(m,e))break}else if(Ct(m)&&hu(m,e))break}}};var aN=(i,e,t)=>{const s=Ch(ye(i,t));return lt(s,"root",e[t]),lt(i,t,s),i},wg=i=>i.type==="file",Vi=i=>typeof i=="function",Zh=i=>{if(!Ag)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ih=i=>Mi(i),Rg=i=>i.type==="radio",Wh=i=>i instanceof RegExp;const TE={value:!1,isValid:!1},bE={value:!0,isValid:!0};var wA=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!Nt(i[0].attributes.value)?Nt(i[0].value)||i[0].value===""?bE:{value:i[0].value,isValid:!0}:bE:TE}return TE};const AE={isValid:!1,value:null};var RA=i=>Array.isArray(i)?i.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,AE):AE;function SE(i,e,t="validate"){if(Ih(i)||Array.isArray(i)&&i.every(Ih)||xi(i)&&!i)return{type:t,message:Ih(i)?i:"",ref:e}}var _o=i=>Ct(i)&&!Wh(i)?i:{value:i,message:""},wE=async(i,e,t,s,o,l)=>{const{ref:h,refs:m,required:p,maxLength:g,minLength:_,min:T,max:w,pattern:O,validate:L,name:$,valueAsNumber:j,mount:z}=i._f,K=ye(t,$);if(!z||e.has($))return{};const J=m?m[0]:h,de=N=>{o&&J.reportValidity&&(J.setCustomValidity(xi(N)?"":N||""),J.reportValidity())},re={},pe=Rg(h),M=Uu(h),R=pe||M,S=(j||wg(h))&&Nt(h.value)&&Nt(K)||Zh(h)&&h.value===""||K===""||Array.isArray(K)&&!K.length,D=SA.bind(null,$,s,re),x=(N,C,ke,je=yr.maxLength,oe=yr.minLength)=>{const Te=N?C:ke;re[$]={type:N?je:oe,message:Te,ref:h,...D(N?je:oe,Te)}};if(l?!Array.isArray(K)||!K.length:p&&(!R&&(S||_n(K))||xi(K)&&!K||M&&!wA(m).isValid||pe&&!RA(m).isValid)){const{value:N,message:C}=Ih(p)?{value:!!p,message:p}:_o(p);if(N&&(re[$]={type:yr.required,message:C,ref:J,...D(yr.required,C)},!s))return de(C),re}if(!S&&(!_n(T)||!_n(w))){let N,C;const ke=_o(w),je=_o(T);if(!_n(K)&&!isNaN(K)){const oe=h.valueAsNumber||K&&+K;_n(ke.value)||(N=oe>ke.value),_n(je.value)||(C=oe<je.value)}else{const oe=h.valueAsDate||new Date(K),Te=k=>new Date(new Date().toDateString()+" "+k),Ae=h.type=="time",He=h.type=="week";Mi(ke.value)&&K&&(N=Ae?Te(K)>Te(ke.value):He?K>ke.value:oe>new Date(ke.value)),Mi(je.value)&&K&&(C=Ae?Te(K)<Te(je.value):He?K<je.value:oe<new Date(je.value))}if((N||C)&&(x(!!N,ke.message,je.message,yr.max,yr.min),!s))return de(re[$].message),re}if((g||_)&&!S&&(Mi(K)||l&&Array.isArray(K))){const N=_o(g),C=_o(_),ke=!_n(N.value)&&K.length>+N.value,je=!_n(C.value)&&K.length<+C.value;if((ke||je)&&(x(ke,N.message,C.message),!s))return de(re[$].message),re}if(O&&!S&&Mi(K)){const{value:N,message:C}=_o(O);if(Wh(N)&&!K.match(N)&&(re[$]={type:yr.pattern,message:C,ref:h,...D(yr.pattern,C)},!s))return de(C),re}if(L){if(Vi(L)){const N=await L(K,t),C=SE(N,J);if(C&&(re[$]={...C,...D(yr.validate,C.message)},!s))return de(C.message),re}else if(Ct(L)){let N={};for(const C in L){if(!bn(N)&&!s)break;const ke=SE(await L[C](K,t),J,C);ke&&(N={...ke,...D(C,ke.message)},de(ke.message),s&&(re[$]=N))}if(!bn(N)&&(re[$]={ref:J,...N},!s))return re}}return de(!0),re};function oN(i,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)i=Nt(i)?s++:i[e[s++]];return i}function lN(i){for(const e in i)if(i.hasOwnProperty(e)&&!Nt(i[e]))return!1;return!0}function zt(i,e){const t=Array.isArray(e)?e:Sg(e)?[e]:AA(e),s=t.length===1?i:oN(i,t),o=t.length-1,l=t[o];return s&&delete s[l],o!==0&&(Ct(s)&&bn(s)||Array.isArray(s)&&lN(s))&&zt(i,t.slice(0,-1)),i}var jm=()=>{let i=[];return{get observers(){return i},next:o=>{for(const l of i)l.next&&l.next(o)},subscribe:o=>(i.push(o),{unsubscribe:()=>{i=i.filter(l=>l!==o)}}),unsubscribe:()=>{i=[]}}},Ep=i=>_n(i)||!bA(i);function ps(i,e){if(Ep(i)||Ep(e))return i===e;if(ha(i)&&ha(e))return i.getTime()===e.getTime();const t=Object.keys(i),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o of t){const l=i[o];if(!s.includes(o))return!1;if(o!=="ref"){const h=e[o];if(ha(l)&&ha(h)||Ct(l)&&Ct(h)||Array.isArray(l)&&Array.isArray(h)?!ps(l,h):l!==h)return!1}}return!0}var CA=i=>i.type==="select-multiple",uN=i=>Rg(i)||Uu(i),Bm=i=>Zh(i)&&i.isConnected,IA=i=>{for(const e in i)if(Vi(i[e]))return!0;return!1};function Jh(i,e={}){const t=Array.isArray(i);if(Ct(i)||t)for(const s in i)Array.isArray(i[s])||Ct(i[s])&&!IA(i[s])?(e[s]=Array.isArray(i[s])?[]:{},Jh(i[s],e[s])):_n(i[s])||(e[s]=!0);return e}function DA(i,e,t){const s=Array.isArray(i);if(Ct(i)||s)for(const o in i)Array.isArray(i[o])||Ct(i[o])&&!IA(i[o])?Nt(e)||Ep(t[o])?t[o]=Array.isArray(i[o])?Jh(i[o],[]):{...Jh(i[o])}:DA(i[o],_n(e)?{}:e[o],t[o]):t[o]=!ps(i[o],e[o]);return t}var tu=(i,e)=>DA(i,e,Jh(e)),OA=(i,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>Nt(i)?i:e?i===""?NaN:i&&+i:t&&Mi(i)?new Date(i):s?s(i):i;function qm(i){const e=i.ref;return wg(e)?e.files:Rg(e)?RA(i.refs).value:CA(e)?[...e.selectedOptions].map(({value:t})=>t):Uu(e)?wA(i.refs).value:OA(Nt(e.value)?i.ref.value:e.value,i)}var cN=(i,e,t,s)=>{const o={};for(const l of i){const h=ye(e,l);h&&lt(o,l,h._f)}return{criteriaMode:t,names:[...i],fields:o,shouldUseNativeValidation:s}},nu=i=>Nt(i)?i:Wh(i)?i.source:Ct(i)?Wh(i.value)?i.value.source:i.value:i;const RE="AsyncFunction";var hN=i=>!!i&&!!i.validate&&!!(Vi(i.validate)&&i.validate.constructor.name===RE||Ct(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===RE)),fN=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate);function CE(i,e,t){const s=ye(i,t);if(s||Sg(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),h=ye(e,l),m=ye(i,l);if(h&&!Array.isArray(h)&&t!==l)return{name:t};if(m&&m.type)return{name:l,error:m};o.pop()}return{name:t}}var dN=(i,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||i):(t?s.isOnBlur:o.isOnBlur)?!i:(t?s.isOnChange:o.isOnChange)?i:!0,mN=(i,e)=>!wf(ye(i,e)).length&&zt(i,e);const pN={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function gN(i={}){let e={...pN,...i},t={submitCount:0,isDirty:!1,isLoading:Vi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=Ct(e.defaultValues)||Ct(e.values)?Yn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Yn(o),h={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},T={values:jm(),array:jm(),state:jm()},w=vE(e.mode),O=vE(e.reValidateMode),L=e.criteriaMode===ui.all,$=V=>H=>{clearTimeout(g),g=setTimeout(V,H)},j=async V=>{if(!e.disabled&&(_.isValid||V)){const H=e.resolver?bn((await R()).errors):await D(s,!0);H!==t.isValid&&T.state.next({isValid:H})}},z=(V,H)=>{!e.disabled&&(_.isValidating||_.validatingFields)&&((V||Array.from(m.mount)).forEach(Y=>{Y&&(H?lt(t.validatingFields,Y,H):zt(t.validatingFields,Y))}),T.state.next({validatingFields:t.validatingFields,isValidating:!bn(t.validatingFields)}))},K=(V,H=[],Y,ce,ue=!0,ae=!0)=>{if(ce&&Y&&!e.disabled){if(h.action=!0,ae&&Array.isArray(ye(s,V))){const _e=Y(ye(s,V),ce.argA,ce.argB);ue&&lt(s,V,_e)}if(ae&&Array.isArray(ye(t.errors,V))){const _e=Y(ye(t.errors,V),ce.argA,ce.argB);ue&&lt(t.errors,V,_e),mN(t.errors,V)}if(_.touchedFields&&ae&&Array.isArray(ye(t.touchedFields,V))){const _e=Y(ye(t.touchedFields,V),ce.argA,ce.argB);ue&&lt(t.touchedFields,V,_e)}_.dirtyFields&&(t.dirtyFields=tu(o,l)),T.state.next({name:V,isDirty:N(V,H),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else lt(l,V,H)},J=(V,H)=>{lt(t.errors,V,H),T.state.next({errors:t.errors})},de=V=>{t.errors=V,T.state.next({errors:t.errors,isValid:!1})},re=(V,H,Y,ce)=>{const ue=ye(s,V);if(ue){const ae=ye(l,V,Nt(Y)?ye(o,V):Y);Nt(ae)||ce&&ce.defaultChecked||H?lt(l,V,H?ae:qm(ue._f)):je(V,ae),h.mount&&j()}},pe=(V,H,Y,ce,ue)=>{let ae=!1,_e=!1;const Me={name:V};if(!e.disabled){const ze=!!(ye(s,V)&&ye(s,V)._f&&ye(s,V)._f.disabled);if(!Y||ce){_.isDirty&&(_e=t.isDirty,t.isDirty=Me.isDirty=N(),ae=_e!==Me.isDirty);const Be=ze||ps(ye(o,V),H);_e=!!(!ze&&ye(t.dirtyFields,V)),Be||ze?zt(t.dirtyFields,V):lt(t.dirtyFields,V,!0),Me.dirtyFields=t.dirtyFields,ae=ae||_.dirtyFields&&_e!==!Be}if(Y){const Be=ye(t.touchedFields,V);Be||(lt(t.touchedFields,V,Y),Me.touchedFields=t.touchedFields,ae=ae||_.touchedFields&&Be!==Y)}ae&&ue&&T.state.next(Me)}return ae?Me:{}},M=(V,H,Y,ce)=>{const ue=ye(t.errors,V),ae=_.isValid&&xi(H)&&t.isValid!==H;if(e.delayError&&Y?(p=$(()=>J(V,Y)),p(e.delayError)):(clearTimeout(g),p=null,Y?lt(t.errors,V,Y):zt(t.errors,V)),(Y?!ps(ue,Y):ue)||!bn(ce)||ae){const _e={...ce,...ae&&xi(H)?{isValid:H}:{},errors:t.errors,name:V};t={...t,..._e},T.state.next(_e)}},R=async V=>{z(V,!0);const H=await e.resolver(l,e.context,cN(V||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return z(V),H},S=async V=>{const{errors:H}=await R(V);if(V)for(const Y of V){const ce=ye(H,Y);ce?lt(t.errors,Y,ce):zt(t.errors,Y)}else t.errors=H;return H},D=async(V,H,Y={valid:!0})=>{for(const ce in V){const ue=V[ce];if(ue){const{_f:ae,..._e}=ue;if(ae){const Me=m.array.has(ae.name),ze=ue._f&&hN(ue._f);ze&&_.validatingFields&&z([ce],!0);const Be=await wE(ue,m.disabled,l,L,e.shouldUseNativeValidation&&!H,Me);if(ze&&_.validatingFields&&z([ce]),Be[ae.name]&&(Y.valid=!1,H))break;!H&&(ye(Be,ae.name)?Me?aN(t.errors,Be,ae.name):lt(t.errors,ae.name,Be[ae.name]):zt(t.errors,ae.name))}!bn(_e)&&await D(_e,H,Y)}}return Y.valid},x=()=>{for(const V of m.unMount){const H=ye(s,V);H&&(H._f.refs?H._f.refs.every(Y=>!Bm(Y)):!Bm(H._f.ref))&&Oe(V)}m.unMount=new Set},N=(V,H)=>!e.disabled&&(V&&H&&lt(l,V,H),!ps(se(),o)),C=(V,H,Y)=>sN(V,m,{...h.mount?l:Nt(H)?o:Mi(V)?{[V]:H}:H},Y,H),ke=V=>wf(ye(h.mount?l:o,V,e.shouldUnregister?ye(o,V,[]):[])),je=(V,H,Y={})=>{const ce=ye(s,V);let ue=H;if(ce){const ae=ce._f;ae&&(!ae.disabled&&lt(l,V,OA(H,ae)),ue=Zh(ae.ref)&&_n(H)?"":H,CA(ae.ref)?[...ae.ref.options].forEach(_e=>_e.selected=ue.includes(_e.value)):ae.refs?Uu(ae.ref)?ae.refs.length>1?ae.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(ue)?!!ue.find(Me=>Me===_e.value):ue===_e.value)):ae.refs[0]&&(ae.refs[0].checked=!!ue):ae.refs.forEach(_e=>_e.checked=_e.value===ue):wg(ae.ref)?ae.ref.value="":(ae.ref.value=ue,ae.ref.type||T.values.next({name:V,values:{...l}})))}(Y.shouldDirty||Y.shouldTouch)&&pe(V,ue,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&k(V)},oe=(V,H,Y)=>{for(const ce in H){const ue=H[ce],ae=`${V}.${ce}`,_e=ye(s,ae);(m.array.has(V)||Ct(ue)||_e&&!_e._f)&&!ha(ue)?oe(ae,ue,Y):je(ae,ue,Y)}},Te=(V,H,Y={})=>{const ce=ye(s,V),ue=m.array.has(V),ae=Yn(H);lt(l,V,ae),ue?(T.array.next({name:V,values:{...l}}),(_.isDirty||_.dirtyFields)&&Y.shouldDirty&&T.state.next({name:V,dirtyFields:tu(o,l),isDirty:N(V,ae)})):ce&&!ce._f&&!_n(ae)?oe(V,ae,Y):je(V,ae,Y),EE(V,m)&&T.state.next({...t}),T.values.next({name:h.mount?V:void 0,values:{...l}})},Ae=async V=>{h.mount=!0;const H=V.target;let Y=H.name,ce=!0;const ue=ye(s,Y),ae=()=>H.type?qm(ue._f):Wx(V),_e=Me=>{ce=Number.isNaN(Me)||ha(Me)&&isNaN(Me.getTime())||ps(Me,ye(l,Y,Me))};if(ue){let Me,ze;const Be=ae(),qt=V.type===_E.BLUR||V.type===_E.FOCUS_OUT,Da=!fN(ue._f)&&!e.resolver&&!ye(t.errors,Y)&&!ue._f.deps||dN(qt,ye(t.touchedFields,Y),t.isSubmitted,O,w),$i=EE(Y,m,qt);lt(l,Y,Be),qt?(ue._f.onBlur&&ue._f.onBlur(V),p&&p(0)):ue._f.onChange&&ue._f.onChange(V);const xs=pe(Y,Be,qt,!1),Gi=!bn(xs)||$i;if(!qt&&T.values.next({name:Y,type:V.type,values:{...l}}),Da)return _.isValid&&(e.mode==="onBlur"&&qt?j():qt||j()),Gi&&T.state.next({name:Y,...$i?{}:xs});if(!qt&&$i&&T.state.next({...t}),e.resolver){const{errors:ti}=await R([Y]);if(_e(Be),ce){const Ht=CE(t.errors,s,Y),Or=CE(ti,s,Ht.name||Y);Me=Or.error,Y=Or.name,ze=bn(ti)}}else z([Y],!0),Me=(await wE(ue,m.disabled,l,L,e.shouldUseNativeValidation))[Y],z([Y]),_e(Be),ce&&(Me?ze=!1:_.isValid&&(ze=await D(s,!0)));ce&&(ue._f.deps&&k(ue._f.deps),M(Y,ze,Me,xs))}},He=(V,H)=>{if(ye(t.errors,H)&&V.focus)return V.focus(),1},k=async(V,H={})=>{let Y,ce;const ue=Ch(V);if(e.resolver){const ae=await S(Nt(V)?V:ue);Y=bn(ae),ce=V?!ue.some(_e=>ye(ae,_e)):Y}else V?(ce=(await Promise.all(ue.map(async ae=>{const _e=ye(s,ae);return await D(_e&&_e._f?{[ae]:_e}:_e)}))).every(Boolean),!(!ce&&!t.isValid)&&j()):ce=Y=await D(s);return T.state.next({...!Mi(V)||_.isValid&&Y!==t.isValid?{}:{name:V},...e.resolver||!V?{isValid:Y}:{},errors:t.errors}),H.shouldFocus&&!ce&&hu(s,He,V?ue:m.mount),ce},se=V=>{const H={...h.mount?l:o};return Nt(V)?H:Mi(V)?ye(H,V):V.map(Y=>ye(H,Y))},be=(V,H)=>({invalid:!!ye((H||t).errors,V),isDirty:!!ye((H||t).dirtyFields,V),error:ye((H||t).errors,V),isValidating:!!ye(t.validatingFields,V),isTouched:!!ye((H||t).touchedFields,V)}),me=V=>{V&&Ch(V).forEach(H=>zt(t.errors,H)),T.state.next({errors:V?t.errors:{}})},fe=(V,H,Y)=>{const ce=(ye(s,V,{_f:{}})._f||{}).ref,ue=ye(t.errors,V)||{},{ref:ae,message:_e,type:Me,...ze}=ue;lt(t.errors,V,{...ze,...H,ref:ce}),T.state.next({name:V,errors:t.errors,isValid:!1}),Y&&Y.shouldFocus&&ce&&ce.focus&&ce.focus()},Pe=(V,H)=>Vi(V)?T.values.subscribe({next:Y=>V(C(void 0,H),Y)}):C(V,H,!0),Oe=(V,H={})=>{for(const Y of V?Ch(V):m.mount)m.mount.delete(Y),m.array.delete(Y),H.keepValue||(zt(s,Y),zt(l,Y)),!H.keepError&&zt(t.errors,Y),!H.keepDirty&&zt(t.dirtyFields,Y),!H.keepTouched&&zt(t.touchedFields,Y),!H.keepIsValidating&&zt(t.validatingFields,Y),!e.shouldUnregister&&!H.keepDefaultValue&&zt(o,Y);T.values.next({values:{...l}}),T.state.next({...t,...H.keepDirty?{isDirty:N()}:{}}),!H.keepIsValid&&j()},mt=({disabled:V,name:H,field:Y,fields:ce})=>{(xi(V)&&h.mount||V||m.disabled.has(H))&&(V?m.disabled.add(H):m.disabled.delete(H),pe(H,qm(Y?Y._f:ye(ce,H)._f),!1,!1,!0))},$e=(V,H={})=>{let Y=ye(s,V);const ce=xi(H.disabled)||xi(e.disabled);return lt(s,V,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:V}},name:V,mount:!0,...H}}),m.mount.add(V),Y?mt({field:Y,disabled:xi(H.disabled)?H.disabled:e.disabled,name:V}):re(V,!0,H.value),{...ce?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:nu(H.min),max:nu(H.max),minLength:nu(H.minLength),maxLength:nu(H.maxLength),pattern:nu(H.pattern)}:{},name:V,onChange:Ae,onBlur:Ae,ref:ue=>{if(ue){$e(V,H),Y=ye(s,V);const ae=Nt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,_e=uN(ae),Me=Y._f.refs||[];if(_e?Me.find(ze=>ze===ae):ae===Y._f.ref)return;lt(s,V,{_f:{...Y._f,..._e?{refs:[...Me.filter(Bm),ae,...Array.isArray(ye(o,V))?[{}]:[]],ref:{type:ae.type,name:V}}:{ref:ae}}}),re(V,!1,void 0,ae)}else Y=ye(s,V,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(eN(m.array,V)&&h.action)&&m.unMount.add(V)}}},ft=()=>e.shouldFocusError&&hu(s,He,m.mount),it=V=>{xi(V)&&(T.state.next({disabled:V}),hu(s,(H,Y)=>{const ce=ye(s,Y);ce&&(H.disabled=ce._f.disabled||V,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ue=>{ue.disabled=ce._f.disabled||V}))},0,!1))},Bt=(V,H)=>async Y=>{let ce;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ue=Yn(l);if(m.disabled.size)for(const ae of m.disabled)lt(ue,ae,void 0);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:_e}=await R();t.errors=ae,ue=_e}else await D(s);if(zt(t.errors,"root"),bn(t.errors)){T.state.next({errors:{}});try{await V(ue,Y)}catch(ae){ce=ae}}else H&&await H({...t.errors},Y),ft(),setTimeout(ft);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(t.errors)&&!ce,submitCount:t.submitCount+1,errors:t.errors}),ce)throw ce},Jn=(V,H={})=>{ye(s,V)&&(Nt(H.defaultValue)?Te(V,Yn(ye(o,V))):(Te(V,H.defaultValue),lt(o,V,Yn(H.defaultValue))),H.keepTouched||zt(t.touchedFields,V),H.keepDirty||(zt(t.dirtyFields,V),t.isDirty=H.defaultValue?N(V,Yn(ye(o,V))):N()),H.keepError||(zt(t.errors,V),_.isValid&&j()),T.state.next({...t}))},fn=(V,H={})=>{const Y=V?Yn(V):o,ce=Yn(Y),ue=bn(V),ae=ue?o:ce;if(H.keepDefaultValues||(o=Y),!H.keepValues){if(H.keepDirtyValues){const _e=new Set([...m.mount,...Object.keys(tu(o,l))]);for(const Me of Array.from(_e))ye(t.dirtyFields,Me)?lt(ae,Me,ye(l,Me)):Te(Me,ye(ae,Me))}else{if(Ag&&Nt(V))for(const _e of m.mount){const Me=ye(s,_e);if(Me&&Me._f){const ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Zh(ze)){const Be=ze.closest("form");if(Be){Be.reset();break}}}}s={}}l=e.shouldUnregister?H.keepDefaultValues?Yn(o):{}:Yn(ae),T.array.next({values:{...ae}}),T.values.next({values:{...ae}})}m={mount:H.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!_.isValid||!!H.keepIsValid||!!H.keepDirtyValues,h.watch=!!e.shouldUnregister,T.state.next({submitCount:H.keepSubmitCount?t.submitCount:0,isDirty:ue?!1:H.keepDirty?t.isDirty:!!(H.keepDefaultValues&&!ps(V,o)),isSubmitted:H.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ue?{}:H.keepDirtyValues?H.keepDefaultValues&&l?tu(o,l):t.dirtyFields:H.keepDefaultValues&&V?tu(o,V):H.keepDirty?t.dirtyFields:{},touchedFields:H.keepTouched?t.touchedFields:{},errors:H.keepErrors?t.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ei=(V,H)=>fn(Vi(V)?V(l):V,H);return{control:{register:$e,unregister:Oe,getFieldState:be,handleSubmit:Bt,setError:fe,_executeSchema:R,_getWatch:C,_getDirty:N,_updateValid:j,_removeUnmounted:x,_updateFieldArray:K,_updateDisabledField:mt,_getFieldArray:ke,_reset:fn,_resetDefaultValues:()=>Vi(e.defaultValues)&&e.defaultValues().then(V=>{ei(V,e.resetOptions),T.state.next({isLoading:!1})}),_updateFormState:V=>{t={...t,...V}},_disableForm:it,_subjects:T,_proxyFormState:_,_setErrors:de,get _fields(){return s},get _formValues(){return l},get _state(){return h},set _state(V){h=V},get _defaultValues(){return o},get _names(){return m},set _names(V){m=V},get _formState(){return t},set _formState(V){t=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:k,register:$e,handleSubmit:Bt,watch:Pe,setValue:Te,getValues:se,reset:ei,resetField:Jn,clearErrors:me,unregister:Oe,setError:fe,setFocus:(V,H={})=>{const Y=ye(s,V),ce=Y&&Y._f;if(ce){const ue=ce.refs?ce.refs[0]:ce.ref;ue.focus&&(ue.focus(),H.shouldSelect&&Vi(ue.select)&&ue.select())}},getFieldState:be}}function yN(i={}){const e=Xn.useRef(void 0),t=Xn.useRef(void 0),[s,o]=Xn.useState({isDirty:!1,isValidating:!1,isLoading:Vi(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:Vi(i.defaultValues)?void 0:i.defaultValues});e.current||(e.current={...gN(i),formState:s});const l=e.current.control;return l._options=i,rN({subject:l._subjects.state,next:h=>{iN(h,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),Xn.useEffect(()=>l._disableForm(i.disabled),[l,i.disabled]),Xn.useEffect(()=>{if(l._proxyFormState.isDirty){const h=l._getDirty();h!==s.isDirty&&l._subjects.state.next({isDirty:h})}},[l,s.isDirty]),Xn.useEffect(()=>{i.values&&!ps(i.values,t.current)?(l._reset(i.values,l._options.resetOptions),t.current=i.values,o(h=>({...h}))):l._resetDefaultValues()},[i.values,l]),Xn.useEffect(()=>{i.errors&&l._setErrors(i.errors)},[i.errors,l]),Xn.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Xn.useEffect(()=>{i.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[i.shouldUnregister,l]),e.current.formState=nN(s,l),e.current}var Hm,IE;function _N(){if(IE)return Hm;IE=1;function i(z){this._maxSize=z,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function(z){return this._values[z]},i.prototype.set=function(z,K){return this._size>=this._maxSize&&this.clear(),z in this._values||this._size++,this._values[z]=K};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,s=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,h=512,m=new i(h),p=new i(h),g=new i(h);Hm={Cache:i,split:T,normalizePath:_,setter:function(z){var K=_(z);return p.get(z)||p.set(z,function(de,re){for(var pe=0,M=K.length,R=de;pe<M-1;){var S=K[pe];if(S==="__proto__"||S==="constructor"||S==="prototype")return de;R=R[K[pe++]]}R[K[pe]]=re})},getter:function(z,K){var J=_(z);return g.get(z)||g.set(z,function(re){for(var pe=0,M=J.length;pe<M;)if(re!=null||!K)re=re[J[pe++]];else return;return re})},join:function(z){return z.reduce(function(K,J){return K+(O(J)||t.test(J)?"["+J+"]":(K?".":"")+J)},"")},forEach:function(z,K,J){w(Array.isArray(z)?z:T(z),K,J)}};function _(z){return m.get(z)||m.set(z,T(z).map(function(K){return K.replace(l,"$2")}))}function T(z){return z.match(e)||[""]}function w(z,K,J){var de=z.length,re,pe,M,R;for(pe=0;pe<de;pe++)re=z[pe],re&&(j(re)&&(re='"'+re+'"'),R=O(re),M=!R&&/^\d+$/.test(re),K.call(J,re,R,M,pe,z))}function O(z){return typeof z=="string"&&z&&["'",'"'].indexOf(z.charAt(0))!==-1}function L(z){return z.match(s)&&!z.match(t)}function $(z){return o.test(z)}function j(z){return!O(z)&&(L(z)||$(z))}return Hm}var pa=_N(),$m,DE;function vN(){if(DE)return $m;DE=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(i)||[],t=_=>_[0].toUpperCase()+_.slice(1),s=(_,T)=>e(_).join(T).toLowerCase(),o=_=>e(_).reduce((T,w)=>`${T}${T?w[0].toUpperCase()+w.slice(1).toLowerCase():w.toLowerCase()}`,"");return $m={words:e,upperFirst:t,camelCase:o,pascalCase:_=>t(o(_)),snakeCase:_=>s(_,"_"),kebabCase:_=>s(_,"-"),sentenceCase:_=>t(s(_," ")),titleCase:_=>e(_).map(t).join(" ")},$m}var Gm=vN(),fh={exports:{}},OE;function EN(){if(OE)return fh.exports;OE=1,fh.exports=function(o){return i(e(o),o)},fh.exports.array=i;function i(o,l){var h=o.length,m=new Array(h),p={},g=h,_=t(l),T=s(o);for(l.forEach(function(O){if(!T.has(O[0])||!T.has(O[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});g--;)p[g]||w(o[g],g,new Set);return m;function w(O,L,$){if($.has(O)){var j;try{j=", node was:"+JSON.stringify(O)}catch{j=""}throw new Error("Cyclic dependency"+j)}if(!T.has(O))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(O));if(!p[L]){p[L]=!0;var z=_.get(O)||new Set;if(z=Array.from(z),L=z.length){$.add(O);do{var K=z[--L];w(K,T.get(K),$)}while(L);$.delete(O)}m[--h]=O}}}function e(o){for(var l=new Set,h=0,m=o.length;h<m;h++){var p=o[h];l.add(p[0]),l.add(p[1])}return Array.from(l)}function t(o){for(var l=new Map,h=0,m=o.length;h<m;h++){var p=o[h];l.has(p[0])||l.set(p[0],new Set),l.has(p[1])||l.set(p[1],new Set),l.get(p[0]).add(p[1])}return l}function s(o){for(var l=new Map,h=0,m=o.length;h<m;h++)l.set(o[h],h);return l}return fh.exports}var TN=EN();const bN=UE(TN),AN=Object.prototype.toString,SN=Error.prototype.toString,wN=RegExp.prototype.toString,RN=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",CN=/^Symbol\((.*)\)(.*)$/;function IN(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function xE(i,e=!1){if(i==null||i===!0||i===!1)return""+i;const t=typeof i;if(t==="number")return IN(i);if(t==="string")return e?`"${i}"`:i;if(t==="function")return"[Function "+(i.name||"anonymous")+"]";if(t==="symbol")return RN.call(i).replace(CN,"Symbol($1)");const s=AN.call(i).slice(8,-1);return s==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):s==="Error"||i instanceof Error?"["+SN.call(i)+"]":s==="RegExp"?wN.call(i):null}function As(i,e){let t=xE(i,e);return t!==null?t:JSON.stringify(i,function(s,o){let l=xE(this[s],e);return l!==null?l:o},2)}function xA(i){return i==null?[]:[].concat(i)}let NA,VA,MA,DN=/\$\{\s*(\w+)\s*\}/g;NA=Symbol.toStringTag;class NE{constructor(e,t,s,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[NA]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=o,this.errors=[],this.inner=[],xA(e).forEach(l=>{if(Sn.isError(l)){this.errors.push(...l.errors);const h=l.inner.length?l.inner:[l];this.inner.push(...h)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}VA=Symbol.hasInstance;MA=Symbol.toStringTag;class Sn extends Error{static formatError(e,t){const s=t.label||t.path||"this";return t=Object.assign({},t,{path:s,originalPath:t.path}),typeof e=="string"?e.replace(DN,(o,l)=>As(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,s,o,l){const h=new NE(e,t,s,o);if(l)return h;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[MA]="Error",this.name=h.name,this.message=h.message,this.type=h.type,this.value=h.value,this.path=h.path,this.errors=h.errors,this.inner=h.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Sn)}static[VA](e){return NE[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ni={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:e,value:t,originalValue:s})=>{const o=s!=null&&s!==t?` (cast from the value \`${As(s,!0)}\`).`:".";return e!=="mixed"?`${i} must be a \`${e}\` type, but the final value was: \`${As(t,!0)}\``+o:`${i} must match the configured type. The validated value was: \`${As(t,!0)}\``+o}},Tn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ON={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Tp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},xN={isValue:"${path} field must be ${value}"},Dh={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},NN={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},VN={notType:i=>{const{path:e,value:t,spec:s}=i,o=s.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${As(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${As(t,!0)}\``}return Sn.formatError(Ni.notType,i)}};Object.assign(Object.create(null),{mixed:Ni,string:Tn,number:ON,date:Tp,object:Dh,array:NN,boolean:xN,tuple:VN});const Cg=i=>i&&i.__isYupSchema__;class ef{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:o,otherwise:l}=t,h=typeof s=="function"?s:(...m)=>m.every(p=>p===s);return new ef(e,(m,p)=>{var g;let _=h(...m)?o:l;return(g=_==null?void 0:_(p))!=null?g:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(s,e,t);if(o===void 0||o===e)return e;if(!Cg(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const dh={context:"$",value:"."};class Ca{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===dh.context,this.isValue=this.key[0]===dh.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?dh.context:this.isValue?dh.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&pa.getter(this.path,!0),this.map=t.map}getValue(e,t,s){let o=this.isContext?s:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ca.prototype.__isYupRef=!0;const fa=i=>i==null;function vo(i){function e({value:t,path:s="",options:o,originalValue:l,schema:h},m,p){const{name:g,test:_,params:T,message:w,skipAbsent:O}=i;let{parent:L,context:$,abortEarly:j=h.spec.abortEarly,disableStackTrace:z=h.spec.disableStackTrace}=o;function K(x){return Ca.isRef(x)?x.getValue(t,L,$):x}function J(x={}){const N=Object.assign({value:t,originalValue:l,label:h.spec.label,path:x.path||s,spec:h.spec,disableStackTrace:x.disableStackTrace||z},T,x.params);for(const ke of Object.keys(N))N[ke]=K(N[ke]);const C=new Sn(Sn.formatError(x.message||w,N),t,N.path,x.type||g,N.disableStackTrace);return C.params=N,C}const de=j?m:p;let re={path:s,parent:L,type:g,from:o.from,createError:J,resolve:K,options:o,originalValue:l,schema:h};const pe=x=>{Sn.isError(x)?de(x):x?p(null):de(J())},M=x=>{Sn.isError(x)?de(x):m(x)};if(O&&fa(t))return pe(!0);let S;try{var D;if(S=_.call(re,t,re),typeof((D=S)==null?void 0:D.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${re.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(S).then(pe,M)}}catch(x){M(x);return}pe(S)}return e.OPTIONS=i,e}function MN(i,e,t,s=t){let o,l,h;return e?(pa.forEach(e,(m,p,g)=>{let _=p?m.slice(1,m.length-1):m;i=i.resolve({context:s,parent:o,value:t});let T=i.type==="tuple",w=g?parseInt(_,10):0;if(i.innerType||T){if(T&&!g)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${h}" must contain an index to the tuple element, e.g. "${h}[0]"`);if(t&&w>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${m}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[w],i=T?i.spec.types[w]:i.innerType}if(!g){if(!i.fields||!i.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${h} which is a type: "${i.type}")`);o=t,t=t&&t[_],i=i.fields[_]}l=_,h=p?"["+m+"]":"."+m}),{schema:i,parent:o,parentPath:l}):{parent:o,parentPath:e,schema:i}}class tf extends Set{describe(){const e=[];for(const t of this.values())e.push(Ca.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new tf(this.values())}merge(e,t){const s=this.clone();return e.forEach(o=>s.add(o)),t.forEach(o=>s.delete(o)),s}}function Co(i,e=new Map){if(Cg(i)||!i||typeof i!="object")return i;if(e.has(i))return e.get(i);let t;if(i instanceof Date)t=new Date(i.getTime()),e.set(i,t);else if(i instanceof RegExp)t=new RegExp(i),e.set(i,t);else if(Array.isArray(i)){t=new Array(i.length),e.set(i,t);for(let s=0;s<i.length;s++)t[s]=Co(i[s],e)}else if(i instanceof Map){t=new Map,e.set(i,t);for(const[s,o]of i.entries())t.set(s,Co(o,e))}else if(i instanceof Set){t=new Set,e.set(i,t);for(const s of i)t.add(Co(s,e))}else if(i instanceof Object){t={},e.set(i,t);for(const[s,o]of Object.entries(i))t[s]=Co(o,e)}else throw Error(`Unable to clone ${i}`);return t}class Bi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new tf,this._blacklist=new tf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ni.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Co(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,s=e.clone();const o=Object.assign({},t.spec,s.spec);return s.spec=o,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation(l=>{e.tests.forEach(h=>{l.test(h.OPTIONS)})}),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce((o,l)=>l.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,o,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(s=e.abortEarly)!=null?s:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let s=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",l=s._cast(e,t);if(t.assert!==!1&&!s.isType(l)){if(o&&fa(l))return l;let h=As(e),m=As(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${h} 
`+(m!==h?`result of cast: ${m}`:""))}return l}_cast(e,t){let s=e===void 0?e:this.transforms.reduce((o,l)=>l.call(this,o,e,this),e);return s===void 0&&(s=this.getDefault(t)),s}_validate(e,t={},s,o){let{path:l,originalValue:h=e,strict:m=this.spec.strict}=t,p=e;m||(p=this._cast(p,Object.assign({assert:!1},t)));let g=[];for(let _ of Object.values(this.internalTests))_&&g.push(_);this.runTests({path:l,value:p,originalValue:h,options:t,tests:g},s,_=>{if(_.length)return o(_,p);this.runTests({path:l,value:p,originalValue:h,options:t,tests:this.tests},s,o)})}runTests(e,t,s){let o=!1,{tests:l,value:h,originalValue:m,path:p,options:g}=e,_=$=>{o||(o=!0,t($,h))},T=$=>{o||(o=!0,s($,h))},w=l.length,O=[];if(!w)return T([]);let L={value:h,originalValue:m,path:p,options:g,schema:this};for(let $=0;$<l.length;$++){const j=l[$];j(L,_,function(K){K&&(Array.isArray(K)?O.push(...K):O.push(K)),--w<=0&&T(O)})}}asNestedTest({key:e,index:t,parent:s,parentPath:o,originalParent:l,options:h}){const m=e??t;if(m==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof m=="number";let g=s[m];const _=Object.assign({},h,{strict:!0,parent:s,value:g,originalValue:l[m],key:void 0,[p?"index":"key"]:m,path:p||m.includes(".")?`${o||""}[${p?m:`"${m}"`}]`:(o?`${o}.`:"")+e});return(T,w,O)=>this.resolve(_)._validate(g,_,w,O)}validate(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return new Promise((h,m)=>o._validate(e,t,(p,g)=>{Sn.isError(p)&&(p.value=g),m(p)},(p,g)=>{p.length?m(new Sn(p,g,void 0,void 0,l)):h(g)}))}validateSync(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l,h=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(m,p)=>{throw Sn.isError(m)&&(m.value=p),m},(m,p)=>{if(m.length)throw new Sn(m,e,void 0,void 0,h);l=p}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,s=>{if(Sn.isError(s))return!1;throw s})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(s){if(Sn.isError(s))return!1;throw s}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Co(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=vo({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=vo({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(e=Ni.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ni.notNull){return this.nullability(!1,e)}required(e=Ni.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Ni.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),o=vo(t),l=t.exclusive||t.name&&s.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(s.exclusiveTests[t.name]=!!t.exclusive),s.tests=s.tests.filter(h=>!(h.OPTIONS.name===t.name&&(l||h.OPTIONS.test===o.OPTIONS.test))),s.tests.push(o),s}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let s=this.clone(),o=xA(e).map(l=>new Ca(l));return o.forEach(l=>{l.isSibling&&s.deps.push(l.key)}),s.conditions.push(typeof t=="function"?new ef(o,t):ef.fromOptions(o,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=vo({message:e,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ni.oneOf){let s=this.clone();return e.forEach(o=>{s._whitelist.add(o),s._blacklist.delete(o)}),s.internalTests.whiteList=vo({message:t,name:"oneOf",skipAbsent:!0,test(o){let l=this.schema._whitelist,h=l.resolveAll(this.resolve);return h.includes(o)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:h}})}}),s}notOneOf(e,t=Ni.notOneOf){let s=this.clone();return e.forEach(o=>{s._blacklist.add(o),s._whitelist.delete(o)}),s.internalTests.blacklist=vo({message:t,name:"notOneOf",test(o){let l=this.schema._blacklist,h=l.resolveAll(this.resolve);return h.includes(o)?this.createError({params:{values:Array.from(l).join(", "),resolved:h}}):!0}}),s}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:o,optional:l,nullable:h}=t.spec;return{meta:o,label:s,optional:l,nullable:h,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(p=>({name:p.OPTIONS.name,params:p.OPTIONS.params})).filter((p,g,_)=>_.findIndex(T=>T.name===p.name)===g)}}}Bi.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])Bi.prototype[`${i}At`]=function(e,t,s={}){const{parent:o,parentPath:l,schema:h}=MN(this,e,t,s.context);return h[i](o&&o[l],Object.assign({},s,{parent:o,path:e}))};for(const i of["equals","is"])Bi.prototype[i]=Bi.prototype.oneOf;for(const i of["not","nope"])Bi.prototype[i]=Bi.prototype.notOneOf;const kN=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function PN(i){const e=bp(i);if(!e)return Date.parse?Date.parse(i):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function bp(i){var e,t;const s=kN.exec(i);return s?{year:_r(s[1]),month:_r(s[2],1)-1,day:_r(s[3],1),hour:_r(s[4]),minute:_r(s[5]),second:_r(s[6]),millisecond:s[7]?_r(s[7].substring(0,3)):0,precision:(e=(t=s[7])==null?void 0:t.length)!=null?e:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:_r(s[10]),minuteOffset:_r(s[11])}:null}function _r(i,e=0){return Number(i)||e}let LN=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,UN=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,FN="^\\d{4}-\\d{2}-\\d{2}",jN="\\d{2}:\\d{2}:\\d{2}",BN="(([+-]\\d{2}(:?\\d{2})?)|Z)",qN=new RegExp(`${FN}T${jN}(\\.\\d+)?${BN}$`),HN=i=>fa(i)||i===i.trim(),$N={}.toString();function Ap(){return new kA}class kA extends Bi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce||s.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===$N?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Ni.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Tn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(s){return s.length===this.resolve(e)}})}min(e,t=Tn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s.length>=this.resolve(e)}})}max(e,t=Tn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(s){return s.length<=this.resolve(e)}})}matches(e,t){let s=!1,o,l;return t&&(typeof t=="object"?{excludeEmptyString:s=!1,message:o,name:l}=t:o=t),this.test({name:l||"matches",message:o||Tn.matches,params:{regex:e},skipAbsent:!0,test:h=>h===""&&s||h.search(e)!==-1})}email(e=Tn.email){return this.matches(LN,{name:"email",message:e,excludeEmptyString:!0})}url(e=Tn.url){return this.matches(UN,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Tn.uuid){return this.matches(zN,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",s,o;return e&&(typeof e=="object"?{message:t="",allowOffset:s=!1,precision:o=void 0}=e:t=e),this.matches(qN,{name:"datetime",message:t||Tn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Tn.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:l=>{if(!l||s)return!0;const h=bp(l);return h?!!h.z:!1}}).test({name:"datetime_precision",message:t||Tn.datetime_precision,params:{precision:o},skipAbsent:!0,test:l=>{if(!l||o==null)return!0;const h=bp(l);return h?h.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Tn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:HN})}lowercase(e=Tn.lowercase){return this.transform(t=>fa(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>fa(t)||t===t.toLowerCase()})}uppercase(e=Tn.uppercase){return this.transform(t=>fa(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>fa(t)||t===t.toUpperCase()})}}Ap.prototype=kA.prototype;let GN=new Date(""),KN=i=>Object.prototype.toString.call(i)==="[object Date]";class Ig extends Bi{constructor(){super({type:"date",check(e){return KN(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,s)=>!s.spec.coerce||s.isType(e)||e===null?e:(e=PN(e),isNaN(e)?Ig.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let s;if(Ca.isRef(e))s=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);s=o}return s}min(e,t=Tp.min){let s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(s)}})}max(e,t=Tp.max){let s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(s)}})}}Ig.INVALID_DATE=GN;function QN(i,e=[]){let t=[],s=new Set,o=new Set(e.map(([h,m])=>`${h}-${m}`));function l(h,m){let p=pa.split(h)[0];s.add(p),o.has(`${m}-${p}`)||t.push([m,p])}for(const h of Object.keys(i)){let m=i[h];s.add(h),Ca.isRef(m)&&m.isSibling?l(m.path,h):Cg(m)&&"deps"in m&&m.deps.forEach(p=>l(p,h))}return bN.array(Array.from(s),t).reverse()}function VE(i,e){let t=1/0;return i.some((s,o)=>{var l;if((l=e.path)!=null&&l.includes(s))return t=o,!0}),t}function PA(i){return(e,t)=>VE(i,e)-VE(i,t)}const YN=(i,e,t)=>{if(typeof i!="string")return i;let s=i;try{s=JSON.parse(i)}catch{}return t.isType(s)?s:i};function Oh(i){if("fields"in i){const e={};for(const[t,s]of Object.entries(i.fields))e[t]=Oh(s);return i.setFields(e)}if(i.type==="array"){const e=i.optional();return e.innerType&&(e.innerType=Oh(e.innerType)),e}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(Oh)}):"optional"in i?i.optional():i}const XN=(i,e)=>{const t=[...pa.normalizePath(e)];if(t.length===1)return t[0]in i;let s=t.pop(),o=pa.getter(pa.join(t),!0)(i);return!!(o&&s in o)};let ME=i=>Object.prototype.toString.call(i)==="[object Object]";function kE(i,e){let t=Object.keys(i.fields);return Object.keys(e).filter(s=>t.indexOf(s)===-1)}const ZN=PA([]);function LA(i){return new UA(i)}class UA extends Bi{constructor(e){super({type:"object",check(t){return ME(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=ZN,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var s;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let l=this.fields,h=(s=t.stripUnknown)!=null?s:this.spec.noUnknown,m=[].concat(this._nodes,Object.keys(o).filter(T=>!this._nodes.includes(T))),p={},g=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),_=!1;for(const T of m){let w=l[T],O=T in o;if(w){let L,$=o[T];g.path=(t.path?`${t.path}.`:"")+T,w=w.resolve({value:$,context:t.context,parent:p});let j=w instanceof Bi?w.spec:void 0,z=j==null?void 0:j.strict;if(j!=null&&j.strip){_=_||T in o;continue}L=!t.__validating||!z?w.cast(o[T],g):o[T],L!==void 0&&(p[T]=L)}else O&&!h&&(p[T]=o[T]);(O!==T in p||p[T]!==o[T])&&(_=!0)}return _?p:o}_validate(e,t={},s,o){let{from:l=[],originalValue:h=e,recursive:m=this.spec.recursive}=t;t.from=[{schema:this,value:h},...l],t.__validating=!0,t.originalValue=h,super._validate(e,t,s,(p,g)=>{if(!m||!ME(g)){o(p,g);return}h=h||g;let _=[];for(let T of this._nodes){let w=this.fields[T];!w||Ca.isRef(w)||_.push(w.asNestedTest({options:t,key:T,parent:g,parentPath:t.path,originalParent:h}))}this.runTests({tests:_,value:g,originalValue:h,options:t},s,T=>{o(T.sort(this._sortErrors).concat(p),g)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[o,l]of Object.entries(this.fields)){const h=s[o];s[o]=h===void 0?l:h}return t.withMutation(o=>o.setFields(s,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(s=>{var o;const l=this.fields[s];let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[s]})),t[s]=l&&"getDefault"in l?l.getDefault(h):void 0}),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=QN(e,t),s._sortErrors=PA(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e,t=[]){return this.clone().withMutation(s=>{let o=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),o)})}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return Oh(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter(([s,o])=>e.includes(s)&&e.includes(o)))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let o=pa.getter(e,!0);return this.transform(l=>{if(!l)return l;let h=l;return XN(l,e)&&(h=Object.assign({},l),s||delete h[e],h[t]=o(l)),h})}json(){return this.transform(YN)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Dh.exact,test(t){if(t==null)return!0;const s=kE(this.schema,t);return s.length===0||this.createError({params:{properties:s.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Dh.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const l=kE(this.schema,o);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(e=!0,t=Dh.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const s={};for(const o of Object.keys(t))s[e(o)]=t[o];return s})}camelCase(){return this.transformKeys(Gm.camelCase)}snakeCase(){return this.transformKeys(Gm.snakeCase)}constantCase(){return this.transformKeys(e=>Gm.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[l,h]of Object.entries(t.fields)){var o;let m=e;(o=m)!=null&&o.value&&(m=Object.assign({},m,{parent:m.value,value:m.value[l]})),s.fields[l]=h.describe(m)}return s}}LA.prototype=UA.prototype;const PE=(i,e,t)=>{if(i&&"reportValidity"in i){const s=ye(t,e);i.setCustomValidity(s&&s.message||""),i.reportValidity()}},zA=(i,e)=>{for(const t in e.fields){const s=e.fields[t];s&&s.ref&&"reportValidity"in s.ref?PE(s.ref,t,i):s&&s.refs&&s.refs.forEach(o=>PE(o,t,i))}},WN=(i,e)=>{e.shouldUseNativeValidation&&zA(i,e);const t={};for(const s in i){const o=ye(e.fields,s),l=Object.assign(i[s]||{},{ref:o&&o.ref});if(JN(e.names||Object.keys(i),s)){const h=Object.assign({},ye(t,s));lt(h,"root",l),lt(t,s,h)}else lt(t,s,l)}return t},JN=(i,e)=>{const t=LE(e);return i.some(s=>LE(s).match(`^${t}\\.\\d+`))};function LE(i){return i.replace(/\]|\[/g,"")}function eV(i,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(s,o,l){try{return Promise.resolve(function(h,m){try{var p=(e.context,Promise.resolve(i[t.mode==="sync"?"validateSync":"validate"](s,Object.assign({abortEarly:!1},e,{context:o}))).then(function(g){return l.shouldUseNativeValidation&&zA({},l),{values:t.raw?Object.assign({},s):g,errors:{}}}))}catch(g){return m(g)}return p&&p.then?p.then(void 0,m):p}(0,function(h){if(!h.inner)throw h;return{values:{},errors:WN((m=h,p=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(m.inner||[]).reduce(function(g,_){if(g[_.path]||(g[_.path]={message:_.message,type:_.type}),p){var T=g[_.path].types,w=T&&T[_.type];g[_.path]=SA(_.path,p,g,_.type,w?[].concat(w,_.message):_.message)}return g},{})),l)};var m,p}))}catch(h){return Promise.reject(h)}}}const tV=()=>{var p,g;const[i]=Lu(Ta),e=rf(),t=LA().shape({title:Ap().required("You must add a title"),description:Ap().required("You must add a description")}),{register:s,handleSubmit:o,formState:{errors:l}}=yN({resolver:eV(t)}),h=Tu(ma,"posts"),m=async _=>{console.log(_),await jb(h,{username:i==null?void 0:i.displayName,userId:i==null?void 0:i.uid,..._}),e("/")};return he.jsx("div",{className:"w-full h-full flex justify-center items-center",children:he.jsxs("form",{onSubmit:o(m),className:"flex justify-center  flex-col gap-4 m-4 p-10 bg-indigo-500 rounded-lg w-[50vw]",children:[he.jsx("input",{placeholder:"title...",...s("title"),className:"bg-indigo-200 m-2 p-2 rounded-lg text-center"}),he.jsx("p",{className:"text-red-600 font-bold self-center",children:(p=l.title)==null?void 0:p.message}),he.jsx("textarea",{placeholder:"description...",...s("description"),className:"bg-indigo-200 m-2 p-2 rounded-lg text-center"}),he.jsx("p",{className:"text-red-600 font-bold self-center",children:(g=l.description)==null?void 0:g.message}),he.jsx("input",{type:"submit",className:"border-2 border-indigo-200 bg-indigo-500 rounded-2xl m-1 p-2 text-indigo-200 cursor-pointer hover:bg-indigo-200 hover:text-indigo-500 w-[20%] font-bold transition-all justify-center items-center self-center"})]})})},nV=()=>he.jsx("div",{className:"bg-red-100 min-h-screen",children:he.jsx(tV,{})}),iV=()=>{const[i]=Lu(Ta),[e,t]=Z.useState([]),[s,o]=Z.useState({}),l=Tu(ma,"posts"),h=Tu(ma,"likes"),m=async()=>{if(i){const _=gp(l,Th("userId","==",i.uid)),T=await bu(_);t(T.docs.map(w=>({...w.data(),id:w.id})))}},p=async()=>{const T=(await bu(h)).docs.map(O=>O.data()),w={};T.forEach(O=>{w[O.postId]||(w[O.postId]=[]),w[O.postId].push(O.userId)}),o(w)},g=async _=>{try{await Fb(ig(ma,"posts",_)),t(e.filter(T=>T.id!==_))}catch(T){console.log(T)}};return Z.useEffect(()=>{m()},[i]),Z.useEffect(()=>{e.length>0&&p()},[e]),i?he.jsx("div",{className:"bg-red-100 min-h-screen p-6",children:e.map(_=>{var T;return he.jsxs("div",{className:"bg-indigo-100 p-4 rounded-lg shadow-md mb-6 max-w-md mx-auto overflow-hidden",children:[he.jsx("h1",{className:"text-xl font-bold text-indigo-800 mb-2",children:_.title}),he.jsx("div",{className:"text-indigo-700 mb-4",children:he.jsx("p",{children:_.description})}),he.jsx("div",{className:"text-indigo-600 mb-4",children:he.jsxs("p",{children:["Likes: ",((T=s[_.id])==null?void 0:T.length)||0]})}),he.jsxs("div",{className:"flex items-center justify-between",children:[he.jsxs("p",{className:"text-indigo-600",children:["@",_.username]}),he.jsx("button",{onClick:()=>g(_.id),className:"text-indigo-600 hover:text-indigo-800 cursor-pointer bg-indigo-300 rounded-full p-2",children:"Delete Post"})]})]},_.id)})}):he.jsx("div",{className:"bg-red-100 min-h-screen flex items-center justify-center",children:he.jsx("h1",{className:"text-xl font-bold text-indigo-800",children:"Please login first"})})};function rV(){return he.jsx("div",{children:he.jsxs(VR,{children:[he.jsx(Zx,{}),he.jsxs(uR,{children:[he.jsx(Eo,{path:"/",element:he.jsx(Yx,{})}),he.jsx(Eo,{path:"/login",element:he.jsx(Xx,{})}),he.jsx(Eo,{path:"/createpost",element:he.jsx(nV,{})}),he.jsx(Eo,{path:"/myposts",element:he.jsx(iV,{})}),he.jsx(Eo,{path:"*",element:he.jsx("h1",{children:"404 Not Found"})})]})]})})}vw.createRoot(document.getElementById("root")).render(he.jsx(Z.StrictMode,{children:he.jsx(rV,{})}));
